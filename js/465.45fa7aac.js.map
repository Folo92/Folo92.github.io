{"version":3,"file":"js/465.45fa7aac.js","mappings":"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","sources":["webpack://yun-admin/./src/views/management/ArticleExcerptTable.vue","webpack://yun-admin/./src/api/article.js","webpack://yun-admin/./src/views/management/ArticleExcerptTable.vue?43f4"],"sourcesContent":["<template>\n  <div>\n    <CommonDataTable\n      ref=\"child\"\n      :tableColumns=\"tableColumns\"\n      :getListData=\"getListData\"\n      :createRow=\"createRow\"\n      :updateRow=\"updateRow\"\n      :deleteRow=\"deleteRow\"\n    />\n    <!-- 文本分析 -->\n    <div class=\"filter-container\" style=\"position: absolute; top: 20px; left: 840px\">\n      <el-input\n        v-model=\"path\"\n        placeholder=\"文件路径\"\n        class=\"filter-item\"\n        style=\"width: 500px\"\n      ></el-input>\n      <div>\n        <el-button\n          type=\"warning\"\n          icon=\"DataAnalysis\"\n          :loading=\"isBusy\"\n          :disabled=\"isBusy\"\n          class=\"filter-item\"\n          @click=\"analysisText\"\n          >分析文本</el-button\n        >\n        <span style=\"vertical-align: 25%; color: gray\">（录入数据）</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getArticleExcerptList,\n  createArticleExcerpt,\n  updateArticleExcerpt,\n  deleteArticleExcerpt,\n} from \"@/api/manage\"\nimport { getKeywords, analysisText } from \"@/api/article\"\nimport CommonDataTable from \"./components/CommonDataTable.vue\"\n\nexport default {\n  name: \"ArticleExcerptTable\",\n  components: { CommonDataTable },\n  data() {\n    return {\n      // 表头数据\n      tableColumns: [\n        { field: \"id\", label: \"ID\", width: \"100px\" },\n        { field: \"userId\", label: \"用户ID\", width: \"120px\", expand: true },\n        {\n          field: \"themes\",\n          label: \"主题\",\n          width: \"120px\",\n          queryable: true,\n          queryBoxWidth: \"120px\",\n          queryBoxType: \"input\",\n          editable: true,\n        },\n        {\n          field: \"tags\",\n          label: \"标签\",\n          width: \"120px\",\n          queryable: true,\n          queryBoxWidth: \"120px\",\n          queryBoxType: \"input\",\n          editable: true,\n          validator: this.tagsValidator,\n        },\n        {\n          field: \"text\",\n          label: \"内容\",\n          minWidth: \"300px\",\n          queryable: true,\n          queryBoxWidth: \"140px\",\n          queryBoxType: \"input\",\n          required: true,\n          editable: true,\n          editType: \"textarea\",\n          formTextareaSize: { minRows: 4, maxRows: 8 },\n          cellType: \"textarea\",\n          cellTextareaSize: { minRows: 2, maxRows: 6 },\n          additionalFormItem: {\n            type: \"button\",\n            label: \"生成主题和标签\",\n            style: \"margin-top: 12px; text-align: right;\",\n            callback: this.getKeywords,\n          },\n        },\n        {\n          field: \"remark\",\n          label: \"评述\",\n          width: \"140px\",\n          expand: true,\n          editable: true,\n          editType: \"textarea\",\n        },\n        { field: \"reference\", label: \"出处\", width: \"100px\", expand: true, editable: true },\n        { field: \"Location\", label: \"位置\", width: \"100px\", expand: true, editable: true },\n        { field: \"author\", label: \"作者\", width: \"100px\", expand: true, editable: true },\n        { field: \"link\", label: \"链接\", width: \"100px\", expand: true, editable: true },\n        {\n          field: \"grade\",\n          label: \"评分\",\n          width: \"145px\",\n          editable: true,\n          editType: \"rate\",\n          maxRate: 5,\n          cellType: \"rate\",\n        },\n        {\n          field: \"copyright\",\n          label: \"版权\",\n          width: \"80px\",\n          editable: true,\n          editType: \"select\",\n          selectOptions: [\n            { value: 2, label: \"改编\" },\n            { value: 1, label: \"原创\" },\n            { value: 0, label: \"摘抄\" },\n          ],\n          formatter: this.copyrightFormatter,\n          cellType: \"tag\",\n          tagOptions: { 2: \"\", 1: \"success\", 0: \"info\" },\n        },\n        {\n          field: \"shareWith\",\n          label: \"共享给\",\n          width: \"84px\",\n          editable: true,\n          editType: \"select\",\n          selectOptions: [\n            { value: 2, label: \"所有人\" },\n            { value: 1, label: \"仅好友\" },\n            { value: 0, label: \"不共享\" },\n          ],\n          formatter: this.shareWithFormatter,\n          cellType: \"tag\",\n          tagOptions: { 2: \"success\", 1: \"\", 0: \"info\" },\n        },\n        { field: \"baseCreateTime\", label: \"创建时间\", width: \"100px\" },\n        { field: \"BaseModifyTime\", label: \"修改时间\", width: \"100px\", expand: true },\n      ],\n      path: \"C:\\\\Users\\\\20200606\\\\Documents\\\\我的文档\\\\小说\\\\手机\\\\转UTF-8\\\\Test.txt\", //要分析的文件路径\n      isBusy: false,\n    }\n  },\n  methods: {\n    getListData: getArticleExcerptList,\n    createRow: createArticleExcerpt,\n    updateRow: updateArticleExcerpt,\n    deleteRow: deleteArticleExcerpt,\n\n    /* ****** formatter ****** */\n    //全部参数:(row, column, cellValue, index)\n    //性别\n    shareWithFormatter(row) {\n      return row.shareWith == 0 ? \"不共享\" : row.shareWith == 1 ? \"仅好友\" : \"所有人\"\n    },\n    copyrightFormatter(row) {\n      return row.copyright == 0 ? \"摘抄\" : row.copyright == 1 ? \"原创\" : \"改编\"\n    },\n    /* ****** 校验规则 ****** */\n    //标签校验\n    tagsValidator(rule, value, callback) {\n      const reg = /^[\\u4e00-\\u9fa5_a-zA-Z0-9,，]{0,100}$/\n      setTimeout(() => {\n        if (!value || reg.test(value)) {\n          callback()\n        } else {\n          callback(new Error(\"格式不正确！请输入汉字、英文字母、数字，可用逗号分隔\"))\n        }\n      }, 100)\n    },\n    getKeywords(text) {\n      if (text && text.length > 8) {\n        getKeywords(text).then((response) => {\n          this.$refs.child.temp.themes = response.data[0]\n          this.$refs.child.temp.tags = response.data[1]\n        })\n      } else {\n        this.$message({\n          message: \"内容太少！\",\n          type: \"warning\",\n        })\n        // this.$refs.child.temp.themes = text\n        // this.$refs.child.temp.tags = text\n      }\n    },\n    analysisText() {\n      this.isBusy = true\n      analysisText(this.path)\n        .then((response) => {\n          this.isBusy = false\n          this.$notify({\n            title: \"Success\",\n            message: response.data,\n            type: \"success\",\n            duration: 2000,\n          })\n          this.$refs.child.handleFilter()\n        })\n        .catch((error) => {\n          this.isBusy = false\n          console.log(error) //调试\n        })\n    },\n  },\n}\n</script>\n","import ajax from \"@/utils/ajax\"\r\n\r\nexport function getKeywords(text) {\r\n  return ajax({\r\n    url: \"/api/article/getKeywords\",\r\n    method: \"post\",\r\n    data: text,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  })\r\n}\r\n\r\nexport function analysisText(path) {\r\n  return ajax({\r\n    url: \"/api/article/analysisText\",\r\n    method: \"post\",\r\n    data: path,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    timeout: 120000,\r\n  })\r\n}\r\n","import { render } from \"./ArticleExcerptTable.vue?vue&type=template&id=07d2b2d1\"\nimport script from \"./ArticleExcerptTable.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleExcerptTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WorkSpace\\\\Dev\\\\Projects\\\\YunAdmin\\\\YunAdmin.Web\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_createElementBlock","_createVNode","_component_CommonDataTable","ref","tableColumns","$data","getListData","$options","createRow","updateRow","deleteRow","_component_el_input","$event","placeholder","_component_el_button","type","icon","loading","disabled","onClick","_hoisted_3","getKeywords","text","ajax","url","method","data","headers","analysisText","path","timeout","name","components","CommonDataTable","field","label","width","expand","queryable","queryBoxWidth","queryBoxType","editable","validator","this","tagsValidator","minWidth","required","editType","formTextareaSize","minRows","maxRows","cellType","cellTextareaSize","additionalFormItem","callback","maxRate","selectOptions","value","formatter","copyrightFormatter","tagOptions","shareWithFormatter","isBusy","methods","getArticleExcerptList","createArticleExcerpt","updateArticleExcerpt","deleteArticleExcerpt","row","shareWith","copyright","rule","reg","setTimeout","test","Error","length","then","response","$refs","child","temp","themes","tags","$message","message","$notify","title","duration","handleFilter","catch","error","console","log","__exports__","render"],"sourceRoot":""}