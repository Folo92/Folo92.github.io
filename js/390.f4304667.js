"use strict";(self["webpackChunkyun_admin"]=self["webpackChunkyun_admin"]||[]).push([[390],{3390:function(e,t,o){o.d(t,{Z:function(){return K}});var d=o(3396);const a=e=>((0,d.dD)("data-v-3e633ba1"),e=e(),(0,d.Cn)(),e),l={class:"todo-list"},n=a((()=>(0,d._)("h2",null,"Todo List",-1)));function i(e,t,o,a,i,s){const r=(0,d.up)("MyHeader"),c=(0,d.up)("MyList"),h=(0,d.up)("MyFooter");return(0,d.wg)(),(0,d.iD)("div",l,[n,(0,d.Wm)(r,{addTodo:s.addTodo},null,8,["addTodo"]),(0,d.Wm)(c,{todos:i.todos,checkTodo:s.checkTodo,updateTodo:s.updateTodo,deleteTodo:s.deleteTodo},null,8,["todos","checkTodo","updateTodo","deleteTodo"]),(0,d.Wm)(h,{todos:i.todos,checkAll:s.checkAll,clearDones:s.clearDones},null,8,["todos","checkAll","clearDones"])])}var s=o(65),r=o(9242);const c={class:"todo-header"};function h(e,t,o,a,l,n){return(0,d.wg)(),(0,d.iD)("div",c,[(0,d.wy)((0,d._)("input",{type:"text",placeholder:"输入要添加的内容","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),onKeyup:t[1]||(t[1]=(0,r.D2)(((...e)=>n.add&&n.add(...e)),["enter"]))},null,544),[[r.nr,l.title]]),(0,d._)("button",{onClick:t[2]||(t[2]=(...e)=>n.addFromServer&&n.addFromServer(...e))},"添加")])}var u=o(6265),p=o.n(u);o(8675),o(3462),o(7380),o(1118);let m=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>(t&=63,e+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_",e)),"");var T={name:"MyHeader",data(){return{title:""}},props:["addTodo"],methods:{add(e){this.title=this.title.trim();let t=null;t=this.title?{id:m(),title:this.title,done:!1}:{id:m(),title:e,done:!1},this.addTodo(t),this.title=""},addRandom(){this.add(m().slice(0,8))},addFromServer(){p().get("https://api.uixsj.cn/hitokoto/get?type=social").then((e=>{console.log(e.data),this.add(e.data)}),(e=>{alert(e.message)}))}}},k=o(89);const g=(0,k.Z)(T,[["render",h],["__scopeId","data-v-88031b8c"]]);var y=g,_=o(7139);const v={class:"footer"},w=(0,d.Uk)("  ");function f(e,t,o,a,l,n){return(0,d.wy)(((0,d.wg)(),(0,d.iD)("div",v,[(0,d.wy)((0,d._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.allChecked=e),onClick:t[1]||(t[1]=(...e)=>o.checkAll&&o.checkAll(...e))},null,512),[[r.e8,n.allChecked]]),w,(0,d._)("span",null,"已完成 "+(0,_.zw)(n.dones)+" / 总共 "+(0,_.zw)(n.total),1),(0,d._)("button",{onClick:t[2]||(t[2]=(...e)=>o.clearDones&&o.clearDones(...e))},"清除已完成")],512)),[[r.F8,n.total]])}var x={name:"MyFooter",props:["todos","checkAll","clearDones"],computed:{dones(){return this.todos.filter((e=>e.done)).length},total(){return this.todos.length},allChecked:{get(){return this.total>0&&this.total===this.dones},set(e){this.checkAll(e)}}}};const b=(0,k.Z)(x,[["render",f],["__scopeId","data-v-2cadc764"]]);var D=b;const C={class:"todo-main"};function M(e,t,o,a,l,n){const i=(0,d.up)("MyItem");return(0,d.wy)(((0,d.wg)(),(0,d.iD)("ul",C,[(0,d.wy)((0,d._)("input",{type:"text",ref:"inputSearch",placeholder:"输入搜索内容","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchText=e)},null,512),[[r.nr,l.searchText]]),(0,d._)("button",{onClick:t[1]||(t[1]=(...e)=>n.regSearch&&n.regSearch(...e))},"正则搜索"),(0,d.Wm)(r.W3,{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInLeft","leave-active-class":"animate__fadeOutRight",duration:{enter:800,leave:800}},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(o.todos,(e=>(0,d.wy)(((0,d.wg)(),(0,d.j4)(i,{key:e.id,todo:e,checkTodo:o.checkTodo,updateTodo:o.updateTodo,deleteTodo:o.deleteTodo},null,8,["todo","checkTodo","updateTodo","deleteTodo"])),[[r.F8,n.isShow(e)]]))),128))])),_:1})],512)),[[r.F8,o.todos.length]])}const S=e=>((0,d.dD)("data-v-c14465b2"),e=e(),(0,d.Cn)(),e),F={class:"container"},I=["checked"],A=S((()=>(0,d._)("div",{class:"checkmark"},null,-1))),E=(0,d.Uk)("   "),L=["value"];function U(e,t,o,a,l,n){return(0,d.wg)(),(0,d.iD)("li",null,[(0,d._)("label",F,[(0,d._)("input",{type:"checkbox",checked:o.todo.done,onClick:t[0]||(t[0]=e=>n.handleCheckTodo(e,o.todo.id))},null,8,I),A]),E,(0,d.wy)((0,d._)("span",{onClick:t[1]||(t[1]=e=>n.handleEditTodo(o.todo))},(0,_.zw)(o.todo.title.slice(0,30)+(o.todo.title.length>30?" ...":"")),513),[[r.F8,!o.todo.isEdit]]),(0,d.wy)((0,d._)("input",{type:"text",value:o.todo.title,onBlur:t[2]||(t[2]=e=>n.handleBlur(e,o.todo)),onKeyup:t[3]||(t[3]=(0,r.D2)((e=>n.handleBlur(e,o.todo)),["enter"])),ref:"inputbox"},null,40,L),[[r.F8,o.todo.isEdit]]),(0,d._)("button",{onClick:t[4]||(t[4]=e=>n.handleDeleteTodo(o.todo.id))},"删除")])}var Z={name:"MyItem",props:["todo","checkTodo","updateTodo","deleteTodo"],methods:{handleCheckTodo(e,t){this.checkTodo(t,e.target.checked)},handleEditTodo(e){e.isEdit=!0,this.$nextTick((function(){this.$refs.inputbox.focus()}))},handleBlur(e,t){if(t.isEdit=!1,!e.target.value.trim())return alert("输入不能为空!");this.updateTodo(t.id,e.target.value)},handleDeleteTodo(e){this.deleteTodo(e)}}};const R=(0,k.Z)(Z,[["render",U],["__scopeId","data-v-c14465b2"]]);var W=R,B={name:"MyList",data(){return{regex:/(?:)/,regexMatch:!1,searchText:"",keyword:"",timer:null}},methods:{regSearch(){clearTimeout(this.timer),this.regex=new RegExp(this.$refs.inputSearch.value,"i"),this.regexMatch=!0},isShow(e){let t=e.title.toLowerCase().indexOf(this.keyword)>-1;return t||this.regexMatch&&this.regex.test(e.title)}},watch:{searchText(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.keyword=this.searchText,this.regexMatch=!1}),600)}},props:["todos","checkTodo","updateTodo","deleteTodo"],components:{MyItem:W}};const H=(0,k.Z)(B,[["render",M],["__scopeId","data-v-ed6b0be4"]]);var O=H,V={name:"TodoList",components:{MyHeader:y,MyFooter:D,MyList:O},data(){return{todos:JSON.parse(localStorage.getItem("todos"))||[{id:"001",title:"抽烟",done:!0},{id:"002",title:"喝酒",done:!1},{id:"003",title:"开车",done:!1},{id:"004",title:"打牌",done:!0}],store:(0,s.oR)()}},methods:{addTodo(e){this.todos.unshift(e)},checkTodo(e,t){this.todos.map((o=>{o.id===e&&(o.done=t)}))},updateTodo(e,t){this.todos.map((o=>{o.id===e&&(o.title=t)}))},deleteTodo(e){this.todos=this.todos.filter((t=>t.id!==e))},checkAll(e){this.todos.map((t=>{t.done=e}))},clearDones(){confirm("确定删除全部已完成吗？")&&(this.todos=this.todos.filter((e=>!e.done)))}},watch:{todos:{deep:!0,immediate:!0,handler(e){e=e.filter((e=>e&&e.id&&e.title&&void 0!==e.done)),localStorage.setItem("todos",JSON.stringify(e)),this.store.commit("setTodos",this.todos)}}}};const z=(0,k.Z)(V,[["render",i],["__scopeId","data-v-3e633ba1"]]);var K=z}}]);
//# sourceMappingURL=390.f4304667.js.map