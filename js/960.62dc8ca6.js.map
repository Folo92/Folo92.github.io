{"version":3,"file":"js/960.62dc8ca6.js","mappings":"qPACEA,EAAAA,EAAAA,IAYM,OAZAC,OAAK,UAAAC,OAAYC,EAAAA,QAAgB,0BAAvC,EACEC,EAAAA,EAAAA,IAUEC,GAVF,QAUE,CATCC,WAAYH,EAAAA,WACL,eAAcI,EAAAA,Y,uCAAAA,EAAAA,YAAWC,GACzB,YAAWD,EAAAA,S,oCAAAA,EAAAA,SAAQC,GAC1BC,OAAQN,EAAAA,OACR,aAAYA,EAAAA,UACZO,MAAOP,EAAAA,OACAQ,EAAAA,OAAM,CACbC,aAAaL,EAAAA,iBACbM,gBAAgBN,EAAAA,sBATnB,mHADF,GCDFO,KAAKC,cAAgB,SAAUC,EAAGC,EAAGC,EAAGC,GAEtC,OADAH,GAAKG,EAAI,EACLH,EAAI,EACEE,EAAI,EAAKF,EAAIA,EAAIC,GAE3BD,KACSE,EAAI,GAAMF,GAAKA,EAAI,GAAK,GAAKC,IAIxC,IAAIG,EAAoB,WACtB,OACEC,OAAOC,uBACPD,OAAOE,6BACPF,OAAOG,0BACP,SAAUC,GACRJ,OAAOK,WAAWD,EAAU,IAAO,KANjB,GAexB,SAASE,EAAKC,GACZC,SAASC,gBAAgBC,UAAYH,EACrCC,SAASG,KAAKC,WAAWF,UAAYH,EACrCC,SAASG,KAAKD,UAAYH,EAG5B,SAASM,IACP,OACEL,SAASC,gBAAgBC,WACzBF,SAASG,KAAKC,WAAWF,WACzBF,SAASG,KAAKD,UASX,SAASI,EAASC,EAAIC,EAAUZ,GACrC,MAAMa,EAAQJ,IACRK,EAASH,EAAKE,EACdE,EAAY,GAClB,IAAIC,EAAc,EAClBJ,EAA+B,qBAAbA,EAA2B,IAAMA,EACnD,IAAIK,EAAgB,WAElBD,GAAeD,EAEf,IAAIG,EAAM7B,KAAKC,cAAc0B,EAAaH,EAAOC,EAAQF,GAEzDV,EAAKgB,GAEDF,EAAcJ,EAChBjB,EAAiBsB,GAEbjB,GAAgC,oBAAbA,GAErBA,KAINiB,IDhDF,OACEE,KAAM,aACNC,MAAO,CACLnC,MAAO,CACLoC,UAAU,EACVC,KAAMC,QAERC,KAAM,CACJF,KAAMC,OACNE,QAAS,GAEXC,MAAO,CACLJ,KAAMC,OACNE,QAAS,IAEXE,UAAW,CACTL,KAAMM,MACNH,UACE,MAAO,CAAC,GAAI,GAAI,GAAI,MAGxBzC,OAAQ,CACNsC,KAAMO,OACNJ,QAAS,2CAEX5C,WAAY,CACVyC,KAAMQ,QACNL,SAAS,GAEXM,WAAY,CACVT,KAAMQ,QACNL,SAAS,GAEXhD,OAAQ,CACN6C,KAAMQ,QACNL,SAAS,IAGbO,SAAU,CACRC,YAAa,CACXC,MACE,OAAOC,KAAKX,MAEdY,IAAIlB,GACFiB,KAAKE,MAAM,cAAenB,KAG9BoB,SAAU,CACRJ,MACE,OAAOC,KAAKT,OAEdU,IAAIlB,GACFiB,KAAKE,MAAM,eAAgBnB,MAIjCqB,QAAS,CACPC,iBAAiBtB,GACfiB,KAAKE,MAAM,aAAc,CAAEb,KAAMW,KAAKF,YAAaP,MAAOR,IACtDiB,KAAKJ,YACPrB,EAAS,EAAG,MAGhB+B,oBAAoBvB,GAClBiB,KAAKE,MAAM,aAAc,CAAEb,KAAMN,EAAKQ,MAAOS,KAAKG,WAC9CH,KAAKJ,YACPrB,EAAS,EAAG,Q,QE9EpB,MAAMgC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,iGCMWnE,MAAM,e,GACHA,MAAM,e,GAgBLoE,MAAA,wC,GAeOpE,MAAM,qB,GAEVqE,EAAAA,EAAAA,GAAyD,QAAlDD,MAAO,kCAAkC,MAAE,G,iBA2B9CpE,MAAM,qB,GAEVqE,EAAAA,EAAAA,GAAyD,QAAlDD,MAAO,kCAAkC,MAAE,G,SAOlDA,MAAA,6D,iBAUKpE,MAAM,uB,GAYNA,MAAM,4B,GAMNA,MAAM,yB,GAOPA,MAAM,qB,GAEVqE,EAAAA,EAAAA,GAAyD,QAAlDD,MAAO,kCAAkC,MAAE,G,SAMlDA,MAAA,6D,iBAUKpE,MAAM,uB,GAYNA,MAAM,4B,GAINA,MAAM,yB,GAsEdoE,MAAA,2C,GAEDC,EAAAA,EAAAA,GAA0C,QAApCD,MAAA,yBAA2B,MAAE,G,GAe7BA,MAAA,yF,GAWHA,MAAA,uB,GACHC,EAAAA,EAAAA,GAAe,YAAT,MAAE,G,GAWRA,EAAAA,EAAAA,GAAe,YAAT,MAAE,G,GAWRA,EAAAA,EAAAA,GAAe,YAAT,MAAE,G,GAqBRA,EAAAA,EAAAA,GAA0C,QAApCD,MAAA,yBAA2B,MAAE,G,GAIhCA,MAAA,uB,WAE2D,M,WACF,M,WACD,M,WACD,M,GAwB1DC,EAAAA,EAAAA,GAAe,YAAT,MAAE,G,GASRA,EAAAA,EAAAA,GAAgB,YAAV,OAAG,G,GASTA,EAAAA,EAAAA,GAAgB,YAAV,OAAG,G,GASTA,EAAAA,EAAAA,GAAiB,YAAX,QAAI,G,GAUVA,EAAAA,EAAAA,GAAgB,YAAV,OAAG,G,GASTA,EAAAA,EAAAA,GAAgB,YAAV,OAAG,G,GASTA,EAAAA,EAAAA,GAAgB,YAAV,OAAG,G,GASTA,EAAAA,EAAAA,GAAkB,YAAZ,SAAK,G,GAaTA,EAAAA,EAAAA,GAAyC,OAApCD,MAAA,0BAA4B,MAAE,G,GAYnCC,EAAAA,EAAAA,GAAwC,OAAnCD,MAAA,uBAAyB,QAAI,G,GAQhCC,EAAAA,EAAAA,GAA6C,OAAxCD,MAAA,sBAAwB,cAAU,G,GACvCC,EAAAA,EAAAA,GAA6C,OAAxCD,MAAA,sBAAwB,cAAU,G,GACvCC,EAAAA,EAAAA,GAA6C,OAAxCD,MAAA,sBAAwB,cAAU,G,GAFvCE,EACAC,EACAC,G,GAMCxE,MAAM,gB,IACTqE,EAAAA,EAAAA,GAA0C,QAApCD,MAAA,yBAA2B,MAAE,G,IAC9BA,MAAA,iB,yCA6BLC,EAAAA,EAAAA,GAA0C,QAApCD,MAAA,yBAA2B,MAAE,G,IAC9BA,MAAA,iB,mBAqBFpE,MAAM,eAAeoE,MAAA,iB,IACxBC,EAAAA,EAAAA,GACC,YADK,MAAE,G,IAMHD,MAAA,oD,IAuBFpE,MAAM,eAAeoE,MAAA,iB,IACxBC,EAAAA,EAAAA,GACC,YADK,MAAE,G,IAMHD,MAAA,oD,IAuBFpE,MAAM,eAAeoE,MAAA,iB,IACxBC,EAAAA,EAAAA,GACC,YADK,MAAE,G,IAMHD,MAAA,oD,IA0BFA,MAAA,0B,IACHC,EAAAA,EAAAA,GAA2C,OAAtCD,MAAA,0BAA4B,QAAI,G,IAQrCC,EAAAA,EAAAA,GAA6D,OAAxDD,MAAA,8CAA8C,QAAI,G,YACxB,U,IAoBhCA,MAAA,2C,IACEA,MAAA,6C,IA4CFA,MAAA,0C,IACEA,MAAA,yB,IACGA,MAAA,0C,IAEHA,MAAA,c,IAQEA,MAAA,8D,IAmBFA,MAAA,4C,YAE4D,U,IAgC9DA,MAAA,wB,IACEpE,MAAM,iB,IAUNoE,MAAA,gB,YAOA,Q,YASA,Q,YASA,Q,YASA,Q,YAkCF,Q,IAEEA,MAAA,wB,iCAgGNpE,MAAM,e,IACHA,MAAM,cAAcoE,MAAA,yD,UASxBpE,MAAM,cACNoE,MAAA,4D,oyBA34BRrE,EAAAA,EAAAA,IAg5BM,aA94BJsE,EAAAA,EAAAA,GA64BM,OA54BJrE,MAAM,mBACLoE,OAAK,S,MAAoBK,EAAAA,UAAS,Q,gBAAwCA,EAAAA,cAAcC,Y,oBAA2CD,EAAAA,cAAcE,U,kBAAuCF,EAAAA,cAAcG,Q,sBAAyCH,EAAAA,cAAcC,cAO7PG,aAAU,sBAAEvE,GAAAA,aAAAA,GAAAA,eAAAA,KATf,EAYE+D,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAAiD,OAAjD,GAAiDS,EAAAA,EAAAA,IAApBxE,GAAAA,YAAQ,MAIvCH,EAAAA,EAAAA,IAgJa4E,EAAAA,GAAA,CAhJDpC,KAAK,eAAa,C,kBAE5B,IA6IM,WA7IN0B,EAAAA,EAAAA,GA6IM,OA3IJrE,MAAM,oBACLoE,OAAK,S,4BAA6DK,EAAAA,WAAU,K,MAA6BnE,GAAAA,kBAAe,QAH3H,EAUE+D,EAAAA,EAAAA,GASM,MATN,EASM,EAPJlE,EAAAA,EAAAA,IAAmF6E,GAAA,CAA1EhF,MAAM,iBAAkBiF,KAAM,GAAKC,QAAO5E,GAAAA,cAAnD,C,kBAAiE,IAAQ,EAARH,EAAAA,EAAAA,IAAQgF,O,KAAzE,gBAEAd,EAAAA,EAAAA,GAEO,QAFDrE,MAAM,gBAAiBoE,OAAK,kBAAc9D,GAAAA,kBAAe,aAA/D,QACKJ,EAAAA,UAAQ,MAMfC,EAAAA,EAAAA,IAuHUiF,GAAA,CAvHDpF,MAAM,eAAe,eAAa,SAAUqF,SAAS,GAA9D,C,kBAEE,IA2Bc,EA3BdlF,EAAAA,EAAAA,IA2BcmF,GAAA,MA1BDC,OAAK,SACd,IAGO,EAHPlB,EAAAA,EAAAA,GAGO,OAHP,EAGO,EAFLlE,EAAAA,EAAAA,IAAiE6E,GAAA,CAAvDZ,MAAO,0BAAwB,C,kBAAE,IAAY,EAAZjE,EAAAA,EAAAA,IAAYqF,O,MACvDC,O,kBAIJ,IAiBM,EAjBNpB,EAAAA,EAAAA,GAiBM,OAjBDqB,IAAI,cAAetB,OAAK,mCAA+BK,EAAAA,WAAU,YAAtE,EACEJ,EAAAA,EAAAA,GAA2D,OAArDD,OAAK,SAAAuB,OAAYlB,EAAAA,oBAAmB,QAA1C,uBACA1E,EAAAA,EAAAA,IAaM6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZoBvF,GAAAA,qBAAmB,CAAnCwF,EAAMC,M,WADhBhG,EAAAA,EAAAA,IAaM,OAXHiG,IAAKD,EACN/F,MAAM,eACLoE,OAAK,wBAA+D0B,EAAKG,IAAMxB,EAAAA,eAAc,4BAA+EqB,EAAKG,IAAMxB,EAAAA,eAAc,sBAMrMS,QAAK,GAAE5E,GAAAA,cAAcwF,EAAKG,MAV7B,QAYKH,EAAKI,OAAK,GAAAC,MAZf,OAcA9B,EAAAA,EAAAA,GAA0D,OAApDD,OAAK,SAAAuB,OAAYlB,EAAAA,mBAAkB,QAAzC,SAhBF,M,OAqBFtE,EAAAA,EAAAA,IA0CcmF,GAAA,MAzCDC,OAAK,SACd,IAGO,EAHPlB,EAAAA,EAAAA,GAGO,OAHP,EAGO,EAFLlE,EAAAA,EAAAA,IAAsE6E,GAAA,CAA5DZ,MAAO,0BAAwB,C,kBAAE,IAAiB,EAAjBjE,EAAAA,EAAAA,IAAiBiG,O,MAC5DC,O,kBAIJ,IAiCM,EAjCNhC,EAAAA,EAAAA,GAiCM,OAjCAD,OAAK,mCAA+BK,EAAAA,WAAU,YAApD,CAEWA,EAAAA,UAAU6B,QADnB,iBACmBA,EAAAA,EAAAA,OADnBvG,EAAAA,EAAAA,IAKM,MALN,EAGC,eAHD,aAMAA,EAAAA,EAAAA,IAyBM6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAxBoBpB,EAAAA,WAAS,CAAzBqB,EAAMC,M,WADhBhG,EAAAA,EAAAA,IAyBM,OAvBHiG,IAAKD,EACN/F,MAAM,gBACLkF,QAAK,GAAE5E,GAAAA,eAAeyF,IAJzB,EAME1B,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAES,QAFFD,OAAK,kBAAc9D,GAAAA,kBAAe,aAAzC,QACEJ,EAAAA,YAAY4F,EAAKS,SAASL,OAAK,IAEjC/F,EAAAA,EAAAA,IAMY6E,GAAA,CALVhF,MAAM,YACNoE,MAAA,sCACCa,KAAM,GACNC,SAAK,YAAO5E,GAAAA,eAAeyF,IAAK,WAJnC,C,kBAKG,IACD,EADC5F,EAAAA,EAAAA,IACDqG,O,KANF,qBAQFnC,EAAAA,EAAAA,GAKM,MALN,EAKM,EAHJA,EAAAA,EAAAA,GAAkC,aAAAS,EAAAA,EAAAA,IAAzBgB,EAAKW,MAAO,IAAM,IAE3BpC,EAAAA,EAAAA,GAA4D,aAAAS,EAAAA,EAAAA,IAAnDgB,EAAKS,QAAO,MAAWrG,EAAAA,YAAYoG,QAAM,MAEpDjC,EAAAA,EAAAA,GAAwE,MAAxE,GAAwES,EAAAA,EAAAA,IAAlCxE,GAAAA,mBAAmByF,IAAK,IAxBhE,eAPF,M,OAoCF5F,EAAAA,EAAAA,IA2CcmF,GAAA,MA1CDC,OAAK,SACd,IAGO,EAHPlB,EAAAA,EAAAA,GAGO,OAHP,EAGO,EAFLlE,EAAAA,EAAAA,IAA6D6E,GAAA,CAAnDZ,MAAO,0BAAwB,C,kBAAE,IAAQ,EAARjE,EAAAA,EAAAA,IAAQuG,O,MACnDC,O,kBAGJ,IAmCM,EAnCNtC,EAAAA,EAAAA,GAmCM,OAnCAD,OAAK,mCAA+BK,EAAAA,WAAU,YAApD,CAEWA,EAAAA,MAAM6B,QADf,iBACeA,EAAAA,EAAAA,OADfvG,EAAAA,EAAAA,IAKM,MALN,EAGC,eAHD,aAMAA,EAAAA,EAAAA,IA2BM6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA1BoBpB,EAAAA,OAAK,CAArBqB,EAAMC,M,WADhBhG,EAAAA,EAAAA,IA2BM,OAzBHiG,IAAKD,EACN/F,MAAM,gBACLkF,QAAK,GAAE5E,GAAAA,WAAWyF,IAJrB,EAME1B,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAES,QAFFD,OAAK,kBAAc9D,GAAAA,kBAAe,aAAzC,eACsB,IAAXwF,EAAKc,OAAM,MAAiBd,EAAKc,SAAM,IAElDzG,EAAAA,EAAAA,IAMY6E,GAAA,CALVhF,MAAM,YACNoE,MAAA,sCACCa,KAAM,GACNC,SAAK,YAAO5E,GAAAA,WAAWyF,IAAK,WAJ/B,C,kBAKG,IACD,EADC5F,EAAAA,EAAAA,IACDqG,O,KANF,qBAQFnC,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAkC,aAAAS,EAAAA,EAAAA,IAAzBgB,EAAKW,MAAO,IAAM,IAC3BpC,EAAAA,EAAAA,GAAiE,aAAAS,EAAAA,EAAAA,IAAxDxE,GAAAA,UAAUJ,EAAAA,YAAY4F,EAAKS,SAASL,MAAK,WAEpD7B,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAES,QAFFD,OAAK,4BAAwB0B,EAAKe,SAAzC,QACEvG,GAAAA,eAAeyF,IAAK,MAxB1B,eAPF,M,gBAvGN,UACUtB,EAAAA,qB,OAgJZJ,EAAAA,EAAAA,GA2pBM,OA1pBJrE,MAAM,wBACLoE,OAAK,kBAAcK,EAAAA,UAAS,kBAAuBA,EAAAA,eAAc,sBAFpE,EAKEJ,EAAAA,EAAAA,GAEO,QAFDrE,MAAM,qBAAsBkF,QAAK,oBAAE5E,GAAAA,cAAAA,GAAAA,gBAAAA,KAAzC,EACEH,EAAAA,EAAAA,IAA+D6E,GAAA,CAAtDhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAQ,EAAR9E,EAAAA,EAAAA,IAAQgF,O,SAGvDd,EAAAA,EAAAA,GAMO,QALLrE,MAAM,sBACLoE,OAAK,oBAAgBK,EAAAA,WAAU,MAC/BS,QAAK,oBAAE5E,GAAAA,aAAAA,GAAAA,eAAAA,KAHV,EAKEH,EAAAA,EAAAA,IAA+D6E,GAAA,CAAtDhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAQ,EAAR9E,EAAAA,EAAAA,IAAQ2G,O,OALvD,IAQAzC,EAAAA,EAAAA,GAMO,QALLrE,MAAM,0BACLoE,OAAK,iBAAaK,EAAAA,UAAS,QAC3BS,QAAK,eAAE5E,GAAAA,eAAeA,GAAAA,eAHzB,EAKEH,EAAAA,EAAAA,IAAoE6E,GAAA,CAA3DhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAa,EAAb9E,EAAAA,EAAAA,IAAa4G,O,OAL5D,IAQA1C,EAAAA,EAAAA,GAMO,QALLrE,MAAM,0BACLoE,OAAK,iBAAuB,EAATK,EAAAA,UAAS,QAC5BS,QAAK,eAAE5E,GAAAA,eAAeA,GAAAA,eAHzB,EAKEH,EAAAA,EAAAA,IAAqE6E,GAAA,CAA5DhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAc,EAAd9E,EAAAA,EAAAA,IAAc6G,O,OAL7D,IAQA3C,EAAAA,EAAAA,GAOO,QANLrE,MAAM,uBACLoE,OAAK,gBAAYK,EAAAA,WAAU,QAC3BS,QAAK,eAAE5E,GAAAA,eAAeA,GAAAA,WACtB2G,WAAQ,eAAE3G,GAAAA,eAAeA,GAAAA,UAAS,MAJrC,EAMEH,EAAAA,EAAAA,IAAwE6E,GAAA,CAA/DhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAiB,EAAjB9E,EAAAA,EAAAA,IAAiB+G,O,OANhE,KASA7C,EAAAA,EAAAA,GAOO,QANLrE,MAAM,uBACLoE,OAAK,gBAAYK,EAAAA,WAAU,QAC3BS,QAAK,eAAE5E,GAAAA,eAAeA,GAAAA,WACtB2G,WAAQ,eAAE3G,GAAAA,eAAeA,GAAAA,SAAQ,MAJpC,EAMEH,EAAAA,EAAAA,IAAyE6E,GAAA,CAAhEhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAkB,EAAlB9E,EAAAA,EAAAA,IAAkBgH,O,OANjE,KASAhH,EAAAA,EAAAA,IAmGaiH,GAAA,CAlGVC,QAAS5C,EAAAA,aACV6C,UAAU,UACT,cAAY,EACZC,MAAO9C,EAAAA,cAJV,CA0Fa+C,WAAS,SAClB,IAMO,EANPnD,EAAAA,EAAAA,GAMO,QALLrE,MAAM,oBACLoE,OAAK,oBAAgBK,EAAAA,WAAU,MAC/BS,QAAK,sBAAE5E,GAAAA,WAAAA,GAAAA,aAAAA,KAHV,EAKEH,EAAAA,EAAAA,IAAoE6E,GAAA,CAA3DhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAa,EAAb9E,EAAAA,EAAAA,IAAasH,O,OAL5D,M,kBArFF,IAmFM,EAnFNpD,EAAAA,EAAAA,GAmFM,MAnFN,EAmFM,EAlFJA,EAAAA,EAAAA,GA0BM,YAzBJqD,GACAvH,EAAAA,EAAAA,IAuBYwH,GAAA,C,WAtBDlD,EAAAA,W,qCAAAA,EAAAA,WAAUlE,GACnBqH,YAAY,MACZ,gBAAc,KACdxD,MAAA,gBACCyD,SAAM,eAAEnH,EAAAA,gBALX,C,kBAQI,IAAkC,gBADpCX,EAAAA,EAAAA,IAeY6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAdcpB,EAAAA,WAAS,CAAzBqB,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAeYC,GAAA,CAbT/B,IAAKD,EACLR,MAAO7E,EAAAA,gBAAgBoF,GACvBkC,MAAOjC,GAJV,C,kBAME,IAQC,EARD1B,EAAAA,EAAAA,GAQC,OARD,GAQCS,EAAAA,EAAAA,IADKiB,EAAQ,EAAH,MAAerF,EAAAA,gBAAgBoF,IAAI,M,KAbhD,oC,KAPF,qBAyBFzB,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJ4D,GACA9H,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,cAAc0D,K,uCAAd1D,EAAAA,cAAc0D,KAAI5H,GAC1B6H,IAAK,GACLC,IAAK,EACLC,KAAM,GACP,gBACAtI,MAAM,kBANR,uCASFqE,EAAAA,EAAAA,GAUM,YATJkE,GACApI,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,cAAc+D,O,uCAAd/D,EAAAA,cAAc+D,OAAMjI,GAC5B6H,IAAK,EACLC,IAAK,EACLC,KAAM,IACP,gBACAtI,MAAM,kBANR,iCASFqE,EAAAA,EAAAA,GAUM,YATJoE,GACAtI,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,cAAciE,M,uCAAdjE,EAAAA,cAAciE,MAAKnI,GAC3B6H,IAAK,EACLC,IAAK,EACLC,KAAM,GACP,gBACAtI,MAAM,kBANR,iCASFG,EAAAA,EAAAA,IAAsEwI,GAAA,CAA1D,eAAa,SAASvE,MAAA,qBAClCC,EAAAA,EAAAA,GAYM,aAXJA,EAAAA,EAAAA,GAAsD,aAAAS,EAAAA,EAAAA,IAAAA,QAAnCL,EAAAA,eAAc,aACjCtE,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,e,uCAAAA,EAAAA,eAAclE,GACvB,gBACC6H,IAAK,EACLC,IAAK,IACLC,KAAM,GACPtI,MAAM,kBANR,uBAQA4I,GACAzI,EAAAA,EAAAA,IAAqF0I,GAAA,CAAzEC,UAAWrE,EAAAA,W,WAAqBA,EAAAA,gB,uCAAAA,EAAAA,gBAAelE,GAAGsH,SAAQnH,EAAAA,aAAtE,gDAEFP,EAAAA,EAAAA,IAAqEwI,GAAA,CAAzD,eAAa,SAASvE,MAAA,oBAClCC,EAAAA,EAAAA,GAMM,MANN,EAMM,EAJJlE,EAAAA,EAAAA,IAA4E4I,GAAA,CAAjEjG,KAAK,UAAUkG,MAAA,GAAMC,MAAA,GAAO/D,QAAK,iBAAExE,EAAAA,YAAW,KAAzD,C,kBAA8D,IAAE,M,OAChEP,EAAAA,EAAAA,IAA0E4I,GAAA,CAA/DjG,KAAK,UAAUkG,MAAA,GAAMC,MAAA,GAAO/D,QAAOxE,EAAAA,cAA9C,C,kBAA4D,IAAE,M,KAA9D,gBACAP,EAAAA,EAAAA,IAAyE4I,GAAA,CAA9DjG,KAAK,UAAUkG,MAAA,GAAMC,MAAA,GAAO/D,QAAOxE,EAAAA,aAA9C,C,kBAA2D,IAAE,M,KAA7D,gBACAP,EAAAA,EAAAA,IAAwE4I,GAAA,CAA7DjG,KAAK,UAAUkG,MAAA,GAAMC,MAAA,GAAO/D,QAAOxE,EAAAA,YAA9C,C,kBAA0D,IAAE,M,KAA5D,sB,KAvFN,wBAqGAP,EAAAA,EAAAA,IAwRaiH,GAAA,CAvRVC,QAAS5C,EAAAA,gBACV,eAAa,mBACb6C,UAAU,aACTC,MAAO9C,EAAAA,cAJV,CAmRa+C,WAAS,SAClB,IAEO,EAFPnD,EAAAA,EAAAA,GAEO,QAFDrE,MAAM,uBAAwBkF,QAAK,sBAAE5E,GAAAA,cAAAA,GAAAA,gBAAAA,KAA3C,EACEH,EAAAA,EAAAA,IAAgE6E,GAAA,CAAvDhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAS,EAAT9E,EAAAA,EAAAA,IAAS+I,O,6BA9Q1D,IA2QU,EA3QV/I,EAAAA,EAAAA,IA2QUiF,GAAA,CA3QDtC,KAAK,cAAcsB,MAAA,6CAA5B,C,kBAEE,IA0Ec,EA1EdjE,EAAAA,EAAAA,IA0EcmF,GAAA,CA1EDC,MAAM,MAAI,C,kBACrB,IAAe,CAAf4D,GACAhJ,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAa2E,S,uCAAb3E,EAAAA,aAAa2E,SAAQ7I,GAC7B6H,IAAK,GACLC,IAAK,GACLC,KAAM,EACP,gBACAtI,MAAM,kBANR,uBAQAqJ,GACAlJ,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAa6E,W,uCAAb7E,EAAAA,aAAa6E,WAAU/I,GAC/B6H,IAAK,EACLC,IAAK,EACLC,KAAM,GACP,gBACAtI,MAAM,kBANR,8BAQAuJ,GACApJ,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAa+E,U,uCAAb/E,EAAAA,aAAa+E,UAASjJ,GAC9B6H,IAAK,EACLC,IAAK,EACLC,KAAM,GACP,gBACAtI,MAAM,kBANR,8BAQAyJ,GACAtJ,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAaiF,W,uCAAbjF,EAAAA,aAAaiF,WAAUnJ,GAC/B6H,IAAK,EACLC,IAAK,EACLC,KAAM,GACP,gBACAtI,MAAM,kBANR,+BAQAG,EAAAA,EAAAA,IAA2DwI,GAAA,CAA/C,eAAa,SAASvE,MAAA,oBAClCuF,GACAxJ,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAamF,W,uCAAbnF,EAAAA,aAAamF,WAAUrJ,GAC/B6H,IAAK,EACLC,IAAK,GACLC,KAAM,EACP,gBACAtI,MAAM,kBANR,uBAQA6J,GACA1J,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAaqF,c,uCAAbrF,EAAAA,aAAaqF,cAAavJ,GAClC6H,IAAK,EACLC,IAAK,GACLC,KAAM,EACP,gBACAtI,MAAM,kBANR,uBAQA+J,GACA5J,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAauF,U,uCAAbvF,EAAAA,aAAauF,UAASzJ,GAC9B6H,IAAK,EACLC,IAAK,GACLC,KAAM,EACP,gBACAtI,MAAM,kBANR,uBAQAiK,GACA9J,EAAAA,EAAAA,IAOE+H,GAAA,C,WANSzD,EAAAA,aAAayF,a,uCAAbzF,EAAAA,aAAayF,aAAY3J,GACjC6H,IAAK,GACLC,IAAK,GACLC,KAAM,EACP,gBACAtI,MAAM,kBANR,0B,OAUFG,EAAAA,EAAAA,IA2BcmF,GAAA,CA3BDC,MAAM,MAAI,C,kBACrB,IAyBM,EAzBNlB,EAAAA,EAAAA,GAyBM,YAxBJ8F,IAwBI,aAvBJpK,EAAAA,EAAAA,IAUM6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARoBnF,EAAAA,OAAK,CAArBoF,EAAMC,M,WAFhBhG,EAAAA,EAAAA,IAUM,OATJqE,MAAA,0CAEC4B,IAAKD,GAHR,EAKE5F,EAAAA,EAAAA,IAIC4I,GAAA,CAHEjG,KAAM2B,EAAAA,aAAa2F,YAActE,EAAI,oBACrCZ,QAAK,GAAET,EAAAA,aAAa2F,WAAatE,GAFpC,C,kBAGG,IAAU,mBAAPA,GAAI,M,KAHV,8BALF,MAWAuE,GACAhG,EAAAA,EAAAA,GAUM,OATHD,OAAK,S,cAAwCK,EAAAA,aAAa2F,W,wCAD7D,U,OAcJjK,EAAAA,EAAAA,IAgJcmF,GAAA,CAhJDC,MAAM,MAAI,C,kBACrB,IA4BM,EA5BNlB,EAAAA,EAAAA,GA4BM,MA5BN,EA4BM,CA3BJiG,IACAjG,EAAAA,EAAAA,GAyBM,MAzBN,GAyBM,cAxBJtE,EAAAA,EAAAA,IAuBW6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAtBY,CAAC,CAAD,iDASpB,CATO0E,EAAGxE,M,6BAULA,GAAK,EAEX1B,EAAAA,EAAAA,GAQC,QAPCrE,MAAM,cACLoE,OAAK,iBAAa1D,EAAAA,WAAW6J,EAAE,IAAD,qBAA8B7J,EAAAA,SAAS6J,EAAE,KACvErF,QAAK,IAA8BT,EAAAA,cAAcE,UAAYjE,EAAAA,WAAW6J,EAAC,IAAmC9F,EAAAA,cAAcG,QAAUlE,EAAAA,SAAS6J,EAAC,MAI9I,MAAEzF,EAAAA,EAAAA,IAAGiB,EAAQ,GAAH,GAAAyE,IAEM,GAATzE,IAAK,WAAfhG,EAAAA,EAAAA,IAAwB,KAAA0K,MAAxB,eAA2C,GAAT1E,IAAK,WAAfhG,EAAAA,EAAAA,IAAwB,KAAA2K,MAAxB,gBAXb,OAXb,UA0BJvK,EAAAA,EAAAA,IAA+CwI,GAAA,CAAnC,eAAa,YACzBtE,EAAAA,EAAAA,GAqBM,YApBJsG,IACAtG,EAAAA,EAAAA,GAkBM,MAlBN,GAkBM,gBAjBJtE,EAAAA,EAAAA,IAgBC6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAAA,CAfkD+E,EAAO,MAAiDA,EAAO,IAAiDA,EAAO,MAAiDA,EAAO,MAAiDA,EAAO,QAezR,CAfS9E,EAAMC,M,WADhBhG,EAAAA,EAAAA,IAgBC,QAREiG,IAAKD,EACN/F,MAAM,cACLoE,OAAK,S,uCAA8F0B,EAAI,MAIvGZ,QAAK,GAAET,EAAAA,cAAcG,QAAO,OAAYkB,EAAI,KAC5C,KAAY,GAAA+E,OAff,WAmBJ1K,EAAAA,EAAAA,IAA+CwI,GAAA,CAAnC,eAAa,YACzBtE,EAAAA,EAAAA,GA6BM,MA7BN,GA6BM,CA5BJyG,IACC3K,EAAAA,EAAAA,IAIC4K,GAAA,C,WAHStG,EAAAA,cAAcE,U,uCAAdF,EAAAA,cAAcE,UAASpE,GAChC,gBACCyK,UAAWtK,EAAAA,iBAHb,oCAKD2D,EAAAA,EAAAA,GAqBM,MArBN,GAqBM,EApBJA,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,WAAWuK,MAAK,OAAhCnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcE,UAAYmB,EAClC9F,MAAM,gBANR,wCASFqE,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,WAAWuK,MAAK,QAAhCnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcE,UAAYmB,EAClC9F,MAAM,gBANR,4CAWNqE,EAAAA,EAAAA,GA6BM,MA7BN,GA6BM,CA5BJ6G,IACC/K,EAAAA,EAAAA,IAIC4K,GAAA,C,WAHStG,EAAAA,cAAcG,Q,uCAAdH,EAAAA,cAAcG,QAAOrE,GAC9B,gBACCyK,UAAWtK,EAAAA,iBAHb,oCAKD2D,EAAAA,EAAAA,GAqBM,MArBN,GAqBM,EApBJA,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,SAASuK,MAAK,OAA9BnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcG,QAAUkB,EAChC9F,MAAM,gBANR,wCASFqE,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,SAASuK,MAAK,QAA9BnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcG,QAAUkB,EAChC9F,MAAM,gBANR,4CAWNqE,EAAAA,EAAAA,GA6BM,MA7BN,GA6BM,CA5BJ8G,IACChL,EAAAA,EAAAA,IAIC4K,GAAA,C,WAHStG,EAAAA,cAAcC,Y,uCAAdD,EAAAA,cAAcC,YAAWnE,GAClC,gBACCyK,UAAWtK,EAAAA,iBAHb,oCAKD2D,EAAAA,EAAAA,GAqBM,MArBN,GAqBM,EApBJA,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,SAASuK,MAAK,OAA9BnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcC,YAAcoB,EACpC9F,MAAM,gBANR,wCASFqE,EAAAA,EAAAA,GASM,2BARJtE,EAAAA,EAAAA,IAOa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANanF,EAAAA,SAASuK,MAAK,QAA9BnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAOaiB,GAAA,CALV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,cAAcC,YAAcoB,EACpC9F,MAAM,gBANR,8C,OAaRG,EAAAA,EAAAA,IAacmF,GAAA,CAbDC,MAAM,MAAI,C,kBACrB,IAWM,EAXNlB,EAAAA,EAAAA,GAWM,MAXN,GAWM,CAVJ+G,IACAjL,EAAAA,EAAAA,IAMiBkL,GAAA,C,WANQ5G,EAAAA,Y,uCAAAA,EAAAA,YAAWlE,IAApC,C,kBAEI,IAAyC,gBAD3CR,EAAAA,EAAAA,IAIE6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHwBnF,EAAAA,kBAAgB,CAAhCoF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IAIEwD,GAAA,CAFCtF,IAAKD,EACLR,MAAOO,GAHV,8B,KADF,kBAOAyF,IACApL,EAAAA,EAAAA,IAAiD4I,GAAA,CAArC7D,QAAO5E,GAAAA,YAAU,C,kBAAE,IAAM,O,KAArC,oB,uBA/QR,wBA0RAH,EAAAA,EAAAA,IA6CaiH,GAAA,CA5CVC,QAAS5C,EAAAA,cACV,eAAa,iBACb6C,UAAU,SACT,cAAY,EACZC,MAAO9C,EAAAA,aACP+G,QAAS,GACTC,OAAI,iBAAEhH,EAAAA,cAAa,OAPtB,CAoCa+C,WAAS,SAClB,IAMO,EANPnD,EAAAA,EAAAA,GAMO,QALLrE,MAAM,qBACLoE,OAAK,iBAAaK,EAAAA,UAAS,QAC3BS,QAAK,sBAAE5E,GAAAA,YAAAA,GAAAA,cAAAA,KAHV,EAKEH,EAAAA,EAAAA,IAAiE6E,GAAA,CAAxDhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAU,EAAV9E,EAAAA,EAAAA,IAAUuL,O,OALzD,M,kBA5BF,IA0BM,EA1BNrH,EAAAA,EAAAA,GA0BM,MA1BN,GA0BM,EAzBJA,EAAAA,EAAAA,GAwBM,MAxBN,GAwBM,EAvBJlE,EAAAA,EAAAA,IAMa4I,GAAA,CALX3E,MAAA,wCACAa,KAAK,QACL0G,KAAK,gBACL1C,MAAA,GACC/D,QAAK,iBAAE5E,GAAAA,aAAamE,EAAAA,UAAQ,OAG/BtE,EAAAA,EAAAA,IAMYyL,GAAA,C,WALDnH,EAAAA,S,uCAAAA,EAAAA,SAAQlE,GACjBqH,YAAY,OACZ,cAAY,SACZiE,UAAA,GACCC,QAAK,2BAAQxL,GAAAA,aAAamE,EAAAA,WAAQ,aALrC,wBAQAtE,EAAAA,EAAAA,IAMa4I,GAAA,CALX3E,MAAA,wCACAa,KAAK,QACL0G,KAAK,iBACL1C,MAAA,GACC/D,QAAK,iBAAE5E,GAAAA,aAAamE,EAAAA,oB,KAhC7B,wBA+CAtE,EAAAA,EAAAA,IAsDaiH,GAAA,CArDVC,QAAS5C,EAAAA,gBACV6C,UAAU,MACT,cAAY,EACZC,MAAO9C,EAAAA,aACP+G,QAAS,IALZ,CA6CahE,WAAS,SAClB,IAMO,EANPnD,EAAAA,EAAAA,GAMO,QALLrE,MAAM,uBACLoE,OAAK,iBAAaK,EAAAA,UAAS,iBAAwBA,EAAAA,WAAU,MAC7DS,QAAK,sBAAE5E,GAAAA,cAAAA,GAAAA,gBAAAA,KAHV,EAKEH,EAAAA,EAAAA,IAAmE6E,GAAA,CAA1DhF,MAAM,mBAAoBiF,KAAM,IAAzC,C,kBAA6C,IAAY,EAAZ9E,EAAAA,EAAAA,IAAY4L,O,OAL3D,M,kBAvCF,IAqCM,EArCN1H,EAAAA,EAAAA,GAqCM,MArCN,GAqCM,EApCJA,EAAAA,EAAAA,GAEM,MAFN,GAEM,EADJA,EAAAA,EAAAA,GAA+E,OAA/E,GAAoD,SAAKS,EAAAA,EAAAA,IAAGL,EAAAA,UAAW,IAAC,MAE1EJ,EAAAA,EAAAA,GA0BM,MA1BN,GA0BM,EAzBJlE,EAAAA,EAAAA,IAMa4I,GAAA,CALX3E,MAAA,wBACAa,KAAK,QACL0G,KAAK,gBACL1C,MAAA,GACC/D,QAAK,iBAAE5E,GAAAA,eAAeA,GAAAA,iBAEzB+D,EAAAA,EAAAA,GAUM,MAVN,GAUM,EATJlE,EAAAA,EAAAA,IAQE+H,GAAA,C,WAPSzD,EAAAA,S,uCAAAA,EAAAA,SAAQlE,GAChB6H,IAAK,EACLC,IAAK,IACLC,KAAM,GACN,gBAAc,EACdpD,QAAK,iBAAE5E,GAAAA,OAAOmE,EAAAA,WACdoD,SAAQvH,GAAAA,QAPX,4CAUFH,EAAAA,EAAAA,IAMa4I,GAAA,CALX3E,MAAA,uBACAa,KAAK,QACL0G,KAAK,iBACL1C,MAAA,GACC/D,QAAK,iBAAE5E,GAAAA,eAAeA,GAAAA,mBAG3B+D,EAAAA,EAAAA,GAKM,MALN,GAKM,EAJJA,EAAAA,EAAAA,GAGO,QAHDrE,MAAM,YAAYoE,MAAA,qBAAyBc,QAAK,sBAAE5E,GAAAA,aAAAA,GAAAA,eAAAA,KAAxD,EACEH,EAAAA,EAAAA,IAA6D6E,GAAA,CAAnDC,KAAM,GAAIb,MAAA,aAApB,C,kBAAqC,IAAc,EAAdjE,EAAAA,EAAAA,IAAc6L,O,MAAnD,Y,KAxCR,wBAwDA3H,EAAAA,EAAAA,GAMO,QALLrE,MAAM,mBACLoE,OAAK,iBAAaK,EAAAA,UAAS,iBAAwBA,EAAAA,WAAU,yBAC7DS,QAAK,sBAAE5E,GAAAA,cAAAA,GAAAA,gBAAAA,KAHV,SAQAH,EAAAA,EAAAA,IAyHaiH,GAAA,CAxHVC,QAAS5C,EAAAA,YACV,eAAa,eACZ,cAAY,EACZ6C,UAAW7C,EAAAA,cACX8C,MAAO,IACPiE,OAAQ,GANX,CAoHahE,WAAS,SAClB,IAEQ,EAFRnD,EAAAA,EAAAA,GAEQ,QADLD,OAAK,SAAAnC,SAAAA,WAAAgK,KAAgCxH,EAAAA,YAAW,KAAAyH,IAAczH,EAAAA,YAAW,QAD5E,W,kBA7GF,IA2GM,EA3GNJ,EAAAA,EAAAA,GA2GM,MA3GN,GA2GM,EA1GJA,EAAAA,EAAAA,GASM,MATN,GASM,EARJA,EAAAA,EAAAA,GAAqD,aAAAS,EAAAA,EAAAA,IAA5CxE,GAAAA,UAAUA,GAAAA,qBAAkB,QACrCH,EAAAA,EAAAA,IAMY6E,GAAA,CALVhF,MAAM,YACNoE,MAAA,uCACCa,KAAM,GACNC,QAAK,iBAAET,EAAAA,aAAW,IAJrB,C,kBAKG,IACD,EADCtE,EAAAA,EAAAA,IACDgM,O,SAEJ9H,EAAAA,EAAAA,GAoCM,MApCN,GAoCM,EAnCJlE,EAAAA,EAAAA,IAOC4I,GAAA,CANC/I,MAAM,oBACNiF,KAAK,QACLnC,KAAK,UACLkG,MAAA,GACC9D,QAAK,kBAAExE,EAAAA,YAAY+D,EAAAA,aAAcnE,GAAAA,kBALpC,C,kBAMG,IAAI,O,OAEPH,EAAAA,EAAAA,IAQC4I,GAAA,CAPC/I,MAAM,oBACNoE,MAAA,sBACAa,KAAK,QACLnC,KAAK,UACLkG,MAAA,GACC9D,QAAK,kBAAExE,EAAAA,eAAgBJ,GAAAA,kBAN1B,C,kBAOG,IAAI,O,OAEPH,EAAAA,EAAAA,IAQC4I,GAAA,CAPC/I,MAAM,oBACNoE,MAAA,oBACAa,KAAK,QACLnC,KAAK,UACLkG,MAAA,GACC9D,QAAK,kBAAExE,EAAAA,cAAeJ,GAAAA,kBANzB,C,kBAOG,IAAI,O,OAEPH,EAAAA,EAAAA,IAQC4I,GAAA,CAPC/I,MAAM,oBACNoE,MAAA,sBACAa,KAAK,QACLnC,KAAK,UACLkG,MAAA,GACC9D,QAAK,kBAAExE,EAAAA,aAAcJ,GAAAA,kBANxB,C,kBAOG,IAAI,O,SAGTH,EAAAA,EAAAA,IAAqEwI,GAAA,CAAzD,eAAa,SAASvE,MAAA,oBAClCjE,EAAAA,EAAAA,IAWYyL,GAAA,C,WAVDnH,EAAAA,W,uCAAAA,EAAAA,WAAUlE,GACnBqH,YAAY,OACZ,cAAY,OACZiE,UAAA,GACA/I,KAAK,WACLsB,MAAA,iBACAgI,OAAO,OACNC,SAAU,CAAAC,QAAAA,EAAAC,QAAAA,GACVC,UAAW,IACXV,QAAK,2BAAQxL,GAAAA,QAAQmE,EAAAA,YAAaA,EAAAA,WAAYA,EAAAA,WAAS,iBAV1D,wBAYAtE,EAAAA,EAAAA,IAQC4I,GAAA,CAPC/I,MAAM,cACNiF,KAAK,QACLnC,KAAK,UACL6I,KAAK,OACL3C,MAAA,GACC9D,QAAK,iBAAE5E,GAAAA,QAAQmE,EAAAA,YAAaA,EAAAA,WAAYA,EAAAA,WAAS,KANpD,C,kBAOG,IAAsD,mBAAnDnE,GAAAA,iBAAiBmE,EAAAA,cAAW,aAAuB,KAAE,M,OAuCvD,SArCJtE,EAAAA,EAAAA,IAUC4I,GAAA,CARC/I,MAAM,cACNoE,MAAA,oBACAa,KAAK,QACLnC,KAAK,UACL6I,KAAK,QACL3C,MAAA,GACC9D,QAAK,iBAAE5E,GAAAA,iBAAiBmE,EAAAA,eAR3B,C,kBASG,IAAI,O,KATP,YACUnE,GAAAA,iBAAiBmE,EAAAA,cAAW,MAUtCJ,EAAAA,EAAAA,GAyBM,MAzBN,GAyBM,EAxBJA,EAAAA,EAAAA,GAWM,2BAVJtE,EAAAA,EAAAA,IASa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARanF,EAAAA,aAAauK,MAAK,OAAlCnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IASaiB,GAAA,CAPV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,UAAYqB,EACnB1B,OAAK,S,OAAiCK,EAAAA,WAAaqB,EAAI,sCAN1D,gDAWFzB,EAAAA,EAAAA,GAWM,2BAVJtE,EAAAA,EAAAA,IASa6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARanF,EAAAA,aAAauK,MAAK,QAAlCnF,EAAMC,M,WADhB+B,EAAAA,EAAAA,IASaiB,GAAA,CAPV/C,IAAKD,EACNd,KAAK,QACJ4B,MAAOf,EACPZ,QAAK,GAAET,EAAAA,UAAYqB,EACnB1B,OAAK,S,OAAiCK,EAAAA,WAAaqB,EAAI,sCAN1D,sD,KAvGR,4BAjiBF,IA8pBAzB,EAAAA,EAAAA,GAyDM,OAxDJrE,MAAM,cACN0F,IAAI,aACHtB,OAAK,S,YAA4BK,EAAAA,aAAa2E,SAAQ,K,cAAmC3E,EAAAA,aAAa2F,W,cAAsC3F,EAAAA,aAAa6E,W,cAAsC7E,EAAAA,aAAamF,WAAU,K,iBAAsCnF,EAAAA,aAAaqF,cAAa,K,eAAoCrF,EAAAA,aAAauF,UAAS,K,gBAAqCvF,EAAAA,aAAauF,UAAS,K,OAA4BvF,EAAAA,WAAU,K,MAA2BA,EAAAA,cAAcE,U,WAAkCF,EAAAA,cAAcG,Q,sBAA2C/D,KAAK4L,MAAOhI,EAAAA,aAAeA,EAAAA,SAAS6B,QAAM,Y,SAAsD,MAAX7B,EAAAA,YAAW,mBAcrpBS,QAAK,sBAAE5E,GAAAA,cAAAA,GAAAA,gBAAAA,IACPoM,YAAS,sBAAEpM,GAAAA,gBAAAA,GAAAA,kBAAAA,IACXqM,UAAO,gCAAUrM,GAAAA,eAAAA,GAAAA,iBAAAA,IAAa,eAnBjC,CAuBUA,GAAAA,oBAAAA,EAAAA,EAAAA,OADRP,EAAAA,EAAAA,IAcI,K,MAZFC,MAAM,YACLoE,OAAK,S,OAAyBK,EAAAA,aAAa+E,UAAY/E,EAAAA,aAAa2E,SAAQ,O,sBAA8D1I,EAAAA,iBAAgB,G,mBAAsCA,EAAAA,eAAc,G,cAAiCA,EAAAA,cAAa,KAO5PwE,QAAK,iBAAExE,EAAAA,eAAc,IACrBgM,YAAS,iBAAEjI,EAAAA,YAAW,KAXzB,QAaKnE,GAAAA,cAAY,MAbjB,8BAgBAP,EAAAA,EAAAA,IAkBI6F,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAjBsBvF,GAAAA,aAAW,CAA3BwF,EAAMC,M,WADhBhG,EAAAA,EAAAA,IAkBI,KAhBDiG,IAAKD,EACN/F,MAAM,YACLoE,OAAK,S,OAAyBK,EAAAA,aAAa+E,UAAY/E,EAAAA,aAAa2E,SAAQ,O,YAAqC9I,GAAAA,gBAAgByF,GAAK,K,cAA2C,GAALA,GAAyB,GAAXtB,EAAAA,YAAW,gB,MAA+CnE,GAAAA,kBAAoBI,EAAAA,iBAAiBqF,EAAK,GAAQrF,EAAAA,iBAAiBqF,G,mBAAyCzF,GAAAA,kBAAmCI,EAAAA,eAAeqF,EAAK,GAAuBrF,EAAAA,eAAeqF,G,cAAoCzF,GAAAA,kBAAoBI,EAAAA,cAAcqF,EAAK,GAAQrF,EAAAA,cAAcqF,KAU9hBb,QAAK,GAAExE,EAAAA,eAA2B,IAAZJ,GAAAA,aAAqByF,EAAQA,EAAQ,GAC3D2G,YAAS,GAAEjI,EAAAA,YAA0B,IAAZnE,GAAAA,aAAqByF,EAAQA,EAAQ,IAfjE,QAiBKD,GAAI,GAAA8G,OAjBT,OAtCF,KA4DAvI,EAAAA,EAAAA,GAcM,MAdN,GAcM,EAbJA,EAAAA,EAAAA,GAMC,OAND,IAMCS,EAAAA,EAAAA,IAJS,WAANL,EAAAA,OAAqCA,EAAAA,eAAc,SAAgBvE,EAAAA,YAAYoG,QAAM,SAArF,KAIH,QADM7B,EAAAA,YAAW,SAAgBA,EAAAA,SAAS6B,QAAM,YAGnC,WAAN7B,EAAAA,SAAM,WADd1E,EAAAA,EAAAA,IAKC,OALD,GAIG,OAAG+E,EAAAA,EAAAA,IAAGxE,GAAAA,kBAAmB,KAACwE,EAAAA,EAAAA,IAAGxE,GAAAA,mBAAe,KAJ/C,kBAt4BJ,M,aCHJ,IAEEuM,cACElJ,KAAKmJ,iBAAmB,CAAC,IAAK,KAAM,KAAM,KAAM,MAChDnJ,KAAKoJ,MAAQ,CACX,QACA,KACA,KACA,KACA,WACA,UACA,SACA,SACA,SACA,UACA,SACA,UACA,SACA,SACA,WAEFpJ,KAAKqJ,WAAa,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEFrJ,KAAKsJ,SAAW,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEFtJ,KAAKuJ,gBAAkB,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,yBACA,mBACA,mBACA,yBACA,sBACA,6BACA,aAEFvJ,KAAKwJ,aAAe,CAClB,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,yBACA,sBACA,6BACA,aCzEN,IAMEN,cACElJ,KAAKyJ,cAAgBxL,SAASyL,cAAc,UAAUC,WAAW,OAEnEvJ,QAAS,CAGPwJ,OAAOC,GAEL7J,KAAK8J,SAASD,IAOhBC,SAASD,GAEP7J,KAAK+J,SAAW,GAChB/J,KAAKF,YAAc,EACnBE,KAAKgK,SAAW,GAEhB,IAAIC,GAAQ,EACRA,GAAOC,QAAQC,IAAI,+CAEvB,IAAIC,EAAQ,GACRC,EAAgB,EAChBC,EAAgB,EAChBC,EAAY,EACZC,EAAY,EACZC,EAAW,GACXC,EAAS,EAEb,MAAMC,EAAY3K,KAAK4K,cACjBC,EAAY7K,KAAK8K,eACjBrF,EAAWzF,KAAK+K,aAAatF,SAC7BI,EAAYJ,EAAWzF,KAAK+K,aAAalF,UACzCmF,EAAc,IACD,GAAbR,EAAuB/E,EAAWzF,KAAK+K,aAAahF,WAC5CN,EAERwF,EAAgB,IACbD,IAAgBhL,KAAK+K,aAAapF,WAGvCsE,GAAOC,QAAQC,IAAI,eAAgBc,IAAiB,gBAAiBJ,GAGzE,MAAOL,EAAYX,EAASlH,OAAQ,CA+BlC,GA9BIsH,GAAOC,QAAQC,IAAI,4BACvBE,EAAgBC,GAEZF,EAAMzH,OAAS,GAAK3C,KAAK+K,aAAa9E,WAAa,KAAGqE,GAAiBzE,GAEvD,GAAhBuE,EAAMzH,QAAe2H,GAAiBO,GACxCJ,EAAWL,EAAM,GACjBA,EAAQ,GACRG,EAAYvK,KAAKkL,aAAaT,EAAUE,EAAWK,IAAeN,EAASjF,GAC3E4E,EAAgB,IAGhBK,EAAS,EACTD,EAAWZ,EAASW,GACpBD,EAAYvK,KAAKkL,aAAaT,EAAUE,EAAWK,IAAeN,EAASjF,GAC3E6E,GAAiBW,IAAkBV,GAGjCN,GAAOC,QAAQC,IAAI,WAAYM,GAC/BR,GAAOC,QAAQC,IAAI,cAAea,KAClCf,GAAOC,QAAQC,IAAI,eAAgBQ,GACnCV,GAAOC,QAAQC,IAAI,gBAAiBc,KACpChB,GAAOC,QAAQC,IAAI,eAAgBtE,GACnCoE,GAAOC,QAAQC,IAAI,cAAeI,GAClCN,GAAOC,QAAQC,IAAI,mBAAoBE,GACvCJ,GAAOC,QAAQC,IAAI,oBAAqBG,QACzBa,GAAfV,EAAS,IACXP,QAAQC,IAAI,IAAKnK,KAAK+J,SAASpH,OAAQ,MAAOyH,EAAMzH,OAAS,EAAG,mBAG9D2H,EAAgBO,EAElBT,EAAMgB,KAAKX,GAEPZ,EAASlH,QAAU6H,EAAY,GACjCxK,KAAK+J,SAASqB,KAAKhB,OAEhB,CAEL,MAAMiB,EAAanO,KAAK4L,OAAO+B,EAAYR,EAAgBxE,GAAaoF,KAGxE,GAFIhB,GAAOC,QAAQC,IAAI,oBAAqBkB,GAExCA,EAAa,EACXpB,GAAOC,QAAQC,IAAI,kBAGvBnK,KAAK+J,SAASqB,KAAKhB,GAEnBA,EAAQ,CAACK,GAELZ,EAASlH,QAAU6H,EAAY,GACjCxK,KAAK+J,SAASqB,KAAKhB,GAGrBE,EACEC,EAAYU,KAAmBjL,KAAK+K,aAAa9E,WAAa,EAAIJ,EAAY,OAC3E,CACDoE,GAAOC,QAAQC,IAAI,mBACvB,IAAImB,EAAatL,KAAKuL,cACpBd,EACAE,EACAK,IACAN,EAASjF,EACT4F,GAEEpB,GAAOC,QAAQC,IAAI,YAAaM,EAASnD,MAAM,EAAGgE,IAClDA,EAAab,EAAS9H,QACpBsH,GAAOC,QAAQC,IAAI,gCAEvBC,EAAMgB,KAAKX,EAASnD,MAAM,EAAGgE,IAE7BtL,KAAK+J,SAASqB,KAAKhB,GAEnBpK,KAAKgK,SAASoB,KAAKpL,KAAK+J,SAASpH,QAEjC+H,EAAS,EAETN,EAAQ,CAACK,EAASnD,MAAMgE,IAExBf,EAAYvK,KAAKkL,aAAad,EAAM,GAAIO,EAAWK,IAAeN,EAASjF,GAE3E6E,EACEC,EAAYU,KAAmBjL,KAAK+K,aAAa9E,WAAa,EAAIJ,EAAY,GAG5EyE,GAAiBO,EACnBL,IAGIX,EAASlH,QAAU6H,EAAY,GAAGxK,KAAK+J,SAASqB,KAAKhB,KAGvDH,GAAOC,QAAQC,IAAI,iCAEvBC,EAAMgB,KAAKX,GAEXzK,KAAK+J,SAASqB,KAAKhB,GAEnBA,EAAQ,GAERE,EAAgB,IAIlBL,GAAOC,QAAQC,IAAI,oBAAqBG,GACxCL,GAAOC,QAAQC,IAAI,0BACvBK,MAUJe,cAAcC,EAAMb,EAAWlF,EAAUgG,EAAaC,GACpD,OAAO1L,KAAK2L,eAAeH,EAAMb,EAAWlF,EAAUgG,EAAaC,IAGrER,aAAaM,EAAMb,EAAWlF,EAAUgG,GACtC,OAAOzL,KAAK2L,eAAeH,EAAMb,EAAWlF,EAAUgG,IAGxDE,eAAeH,EAAMb,EAAWlF,EAAUgG,EAAaC,EAAa,GAClE,MAAMzB,GAAQ,EACR2B,EAAgB,wBAChBC,EAAe,YACfC,EAAgB,KAChBC,EAAaP,EAAK7I,OACxB,QAAewI,GAAXK,EAAK,GAAiB,OAAO,EACjC,IAAI5H,EAAQ,EACRoI,EAAQ,EACR5J,EAAQ,EACR6J,EAAW,EACXC,EAAeT,EAKnB,MAAMU,EAAUjP,KAAK4L,MAAM6B,EAAYlF,GAAY,EACnDrD,GAAS+J,EAAU,EAEnBD,GAAgBlM,KAAKoM,YAAYZ,EAAKlE,MAAM2E,EAAU7J,GAAQqD,GAG9D,MAAOrD,EAAQ2J,EAAY,CAKzB,GAJAnI,EAAQ5D,KAAKoM,YAAYZ,EAAKpJ,GAAQqD,GAClCwE,GAAOC,QAAQC,IAAI,cAAeqB,EAAKpJ,IACvC6H,GAAOC,QAAQC,IAAI+B,EAAcvB,EAAW/G,GAE5CsI,GAAgBvB,EAAY/G,EAC9BsI,GAAgBtI,MACX,CAEL,IAAIyI,EAAO,EAEX,MAAOR,EAAaS,QAAQd,EAAKpJ,EAAQ,KAAO,GAAKA,EAAQ,GAAKiK,EAAO,EACnEpC,GAAOC,QAAQC,IAAI,6BAA8BqB,EAAKpJ,EAAQ,IAClEA,IACAiK,IAEFA,EAAO,EAEP,MAAOT,EAAcU,QAAQd,EAAKpJ,KAAW,GAAKA,EAAQ,GAAKiK,EAAO,EAChEpC,GAAOC,QAAQC,IAAI,4BAA6BqB,EAAKpJ,IACzDA,IACAiK,IAEFA,EAAO,EAEP,MACEP,EAAcQ,QAAQd,EAAKpJ,KAAW,GACtCoJ,EAAKpJ,IAAUoJ,EAAKpJ,EAAQ,IAC5BA,EAAQ,GACRiK,EAAO,EAEHpC,GAAOC,QAAQC,IAAI,4BAA6BqB,EAAKpJ,IACzDA,IACAiK,IAMF,GAHIpC,GAAOC,QAAQC,IAAI,WAAYqB,EAAKlE,MAAM2E,EAAU7J,IACpD6H,GAAOC,QAAQC,IAAI,eAAgB+B,GACvCD,EAAW7J,EACPsJ,EAAa,GAAKM,GAASN,EAAY,MAC3CM,IAGA5J,GAAS+J,EAETD,EAAelM,KAAKoM,YAAYZ,EAAKlE,MAAM2E,EAAU7J,EAAQ,GAAIqD,GAGnErD,IAGF,OADI6H,GAAOC,QAAQC,IAAI,UAAW6B,GAC3BN,EAAa,EAAItJ,EAAQ4J,GASlCI,YAAYrN,EAAK0G,GAEf,MAAMgB,EAAazG,KAAK+K,aAAatE,WAC/B8F,EAAQ,GAAE9G,OAAcgB,IAC9BzG,KAAKyJ,cAAc8C,KAAOA,EAC1B,MAAM,MAAE3I,GAAU5D,KAAKyJ,cAAc2C,YAAYrN,GACjD,OAAO6E,KC1Qb,IACExD,QAAS,CAIPoM,cAAcC,EAAQC,EAAQC,EAAS,UAAWC,EAAQ,IACxD,MAAMC,EAAS,CAACC,EAAMC,KACpB,IAAIC,EAAMF,EAAOC,EAEjB,OADIC,EAAM,GAAKA,EAAM,OAAKA,EAAMF,EAAOC,GAChCC,GAEHC,EAAM,CAACC,EAAG7P,EAAGC,KACbJ,KAAKiQ,IAAID,EAAI5P,GAAKsP,IAAOtP,EAAIuP,EAAOK,EAAGN,IACvC1P,KAAKiQ,IAAI9P,EAAIC,GAAKsP,IAAOtP,EAAIuP,EAAOvP,EAAGsP,IACpCtP,GAET,IAAI8P,EAAOX,EAAOY,QAAQ,KAAM,IAAIC,MAAM,gBACtCC,EAAOb,EAAOW,QAAQ,KAAM,IAAIC,MAAM,gBACtCE,EAAOb,EAAOU,QAAQ,KAAM,IAAIC,MAAM,gBAC1CF,EAAOA,EAAKK,KAAKtL,GAASuL,SAASvL,EAAM,MACzCoL,EAAOA,EAAKE,KAAKtL,GAASuL,SAASvL,EAAM,MACzCoL,EAAOC,EAAKC,KAAKtL,GAASuL,SAASvL,EAAM,MACzC,IAAIwL,EAAM,CACRV,EAAIG,EAAK,GAAIG,EAAK,GAAIC,EAAK,IAC3BP,EAAIG,EAAK,GAAIG,EAAK,GAAIC,EAAK,IAC3BP,EAAIG,EAAK,GAAIG,EAAK,GAAIC,EAAK,KAGzBI,EAAS,IAAMD,EAAIE,QAAO,CAACC,EAAKC,IAAQD,GAAO,IAAMC,EAAIC,SAAS,KAAK1G,OAAO,IAAI,IAEtF,OAAOsG,GAITK,iBAAiB7L,GAGf,GACEpC,KAAKkO,YACLlO,KAAKmO,aAAenO,KAAKoO,eAAehM,IACxCpC,KAAKqO,gBAAkBrO,KAAKsO,eAE5B,OAAOtO,KAAKwM,cACVxM,KAAKuO,cAAcvN,UACnBhB,KAAKuO,cAActN,QACnB,YAMNuN,cAAcpM,GACZ,OACEpC,KAAKkO,YACLlO,KAAKmO,aAAenO,KAAKoO,eAAehM,IACxCpC,KAAKqO,gBAAkBrO,KAAKsO,eAErB,sBAEA,SAKXG,eAAerM,GACb,GACEpC,KAAKkO,YACLlO,KAAKmO,aAAenO,KAAKoO,eAAehM,IACxCpC,KAAKqO,gBAAkBrO,KAAKsO,eAE5B,OAAOtO,KAAK0O,eAAe1O,KAAKuO,cAActN,SAAU,KAK5D0N,cACM3O,KAAK4O,gBACP5O,KAAK6O,oBAAsBC,aAAY,KACrC9O,KAAK+O,iBACD/O,KAAK+O,gBAAkB,IACzB/O,KAAKgP,aACLC,cAAcjP,KAAK6O,qBACnB7O,KAAK4O,iBAAkB,EACvB5O,KAAK+O,kBAEN,KAEHE,cAAcjP,KAAK6O,sBAOvBK,eACE1E,EAAYxK,KAAKmO,YACjBgB,EAAenP,KAAKqO,eACpBe,GAAU,EACVC,EAAe,KAEf,IAAIC,EAAc,GAClB,MAAMC,EAAcvP,KAAKwP,YAAYxP,KAAKqO,gBAAgBoB,QAAQzP,KAAKmO,aAIvE,IAAIuB,EAAUH,EAAYjC,MAAM,qCAC5BoC,GAAWA,EAAQ/M,SAAQ2M,GAAgC,IAAjBI,EAAQ/M,QAEtD+M,EAAUH,EAAYjC,MAAM,aACxBoC,GAAWA,EAAQ/M,SAAQ2M,GAAgC,IAAjBI,EAAQ/M,QAEtD2M,EAAcpS,KAAK4L,MAAMwG,EAActP,KAAK2P,UAAUnL,MAMtD,MAAMoL,EAAQ1S,KAAKuH,IAAkB,GAAd6K,EAAmBD,GAG1C,GACErP,KAAK6P,cAAcrF,WAAaxK,KAAKmO,aACrCnO,KAAK6P,cAAcV,cAAgBnP,KAAKqO,eACxC,CACArO,KAAK6P,cAAc/M,MAAQ9C,KAAK8P,SAAW,EAAIF,EAC/C,MAAMG,EAAwB,IAAdT,EAAoB,IAEpC,GAAItP,KAAK6P,cAAc/M,KAAOiN,EAG5B,OAFA/P,KAAK6P,cAAgB,CAAErF,WAAY,EAAG2E,cAAe,EAAGrM,KAAM,QAC9D9C,KAAKgQ,eAAehQ,KAAKiQ,aAAajQ,KAAKmO,mBAI7CnO,KAAK6P,cAAgB,CACnBrF,UAAWxK,KAAKmO,YAChBgB,aAAcnP,KAAKqO,eACnBvL,KAAM,GAKVoN,aAAalQ,KAAKmQ,iBAElBnQ,KAAKmQ,gBAAkBrS,YAAW,KAChCkC,KAAKoQ,WAAW5F,EAAW2E,EAAcC,KACxCQ,IAILQ,WAAW5F,EAAYxK,KAAKmO,YAAagB,EAAenP,KAAKqO,eAAgBe,GAAU,GACrF,MAAMnF,GAAQ,EAId,GAHIA,GAAOC,QAAQC,IAAI,yBAA0BnK,KAAKmO,aAGlDkC,gBAAgBC,QACdrG,GAAOC,QAAQC,IAAI,qBACvBnK,KAAKkP,eAAe1E,EAAW2E,QAE1B,GAAIkB,gBAAgBE,SAAU,CAC/BtG,GAAOC,QAAQC,IAAI,oBAEvBnK,KAAKmO,YAAc3D,EACnBxK,KAAKqO,eAAiBc,EAGlBnP,KAAKsO,eAAiBtO,KAAKqO,gBACzBpE,GAAOC,QAAQC,IAAI,WACvBnK,KAAKsO,eAAiBtO,KAAKqO,eAE3BrO,KAAKwQ,WAAU,KACbxQ,KAAKyQ,YAAczQ,KAAK0Q,aAAa1Q,KAAKmO,aAC1CnO,KAAKF,YAAcE,KAAK0Q,aAAa1Q,KAAKmO,iBAIrCnO,KAAKsO,gBAAkBtO,KAAKqO,iBAC/BpE,GAAOC,QAAQC,IAAI,YACvBnK,KAAKyQ,YAAczQ,KAAK0Q,aAAa1Q,KAAKmO,aAEtCnO,KAAKF,YAAcE,KAAKyQ,cAC1BzQ,KAAKF,YAAcE,KAAKyQ,YACpBxG,GAAOC,QAAQC,IAAI,8BAA+BnK,KAAKF,eAI/D,IAAI8C,EAAU5C,KAAKwP,YAAYxP,KAAKqO,gBAAgBoB,QAEhDzP,KAAKmO,YAAc,EAAIvL,EAAQD,QACjC3C,KAAK2Q,MAAM/N,EAAQ5C,KAAKmO,YAAc,IACtCnO,KAAKkP,eAAelP,KAAKmO,YAAc,EAAGgB,IAGnCnP,KAAKqO,eAAiB,EAAIrO,KAAKwP,YAAY7M,QAClD3C,KAAK2Q,MAAM3Q,KAAKwP,YAAYxP,KAAKqO,eAAiB,GAAGoB,QAAQ,IAC7DzP,KAAKkP,eAAe,EAAGlP,KAAKqO,eAAiB,GAAG,EAAO,KAIvDrO,KAAKkP,eAAe1E,EAAW2E,GAAc,OAI5C,CACH,GAAIC,EAIF,OAFApP,KAAKkO,YAAa,OAClBlO,KAAK8P,UAAW,GAGd7F,GAAOC,QAAQC,IAAI,mBACvBnK,KAAK2Q,MAAM3Q,KAAKwP,YAAYL,GAAcM,QAAQjF,IAClDxK,KAAKkP,eAAe1E,EAAW2E,KAKnCwB,MAAMnF,GAUJ,GAAI,yCAAyCoF,KAAKpF,GAChDxL,KAAK2P,UAAUnE,KAAOA,EACtB6E,gBAAgBM,MAAM3Q,KAAK2P,eAGxB,CACH,MAAMkB,EAAgB,IAAIC,yBAC1BD,EAAcrF,KAAO,IACrBqF,EAAchM,OAAS,EACvBwL,gBAAgBM,MAAME,KAK1Bb,eAAe5N,GACRpC,KAAK2P,WACNU,gBAAgBE,WAClBvQ,KAAKgP,aACLhP,KAAKmO,YAAcnO,KAAKoO,eAAehM,GACvCpC,KAAKyQ,YAAczQ,KAAKF,YACxBE,KAAKqO,eAAiBrO,KAAKsO,eAC3BtO,KAAKkO,YAAa,EAClBlO,KAAK8P,UAAW,EAChB9P,KAAKoQ,eAKTW,YAAYvG,EAAY,GACjBxK,KAAK2P,WAIV3P,KAAKgP,aACLhP,KAAK2P,UAAUnE,KAAOxL,KAAK+J,SAAS/J,KAAKF,aACzCE,KAAK2P,UAAUqB,KAAO,QACtBhR,KAAK2P,UAAUnL,KAAOxE,KAAKiR,cAAczM,KACzCxE,KAAK2P,UAAU9K,OAAS7E,KAAKiR,cAAcpM,OAC3C7E,KAAK2P,UAAU5K,MAAQ/E,KAAKiR,cAAclM,MAC1C/E,KAAK2P,UAAUuB,MAAQlR,KAAKmR,UAAUnR,KAAKoR,YAE3CpR,KAAKmO,YAAcnO,KAAKoO,eAAe5D,GACvCxK,KAAKyQ,YAAczQ,KAAKF,YACxBE,KAAKqO,eAAiBrO,KAAKsO,eAC3BtO,KAAKkO,YAAa,EAClBlO,KAAK8P,UAAW,EAChB9P,KAAKoQ,cAhBHpQ,KAAKqR,YAAY,CAAEC,QAAS,SAAUnS,KAAM,QAASV,SAAU,OAoBnE8S,eACOvR,KAAK2P,YAEVU,gBAAgBmB,YAChB1T,YAAW,KACTkC,KAAKmR,UAAYd,gBACdmB,YACAC,QAAQP,GAAUA,EAAMF,KAAK1E,QAAQ,OAAS,MAChD,OAILoF,cACE1R,KAAK2P,UAAUqB,KAAO,QACtBhR,KAAK2P,UAAUnL,KAAOxE,KAAKiR,cAAczM,KACzCxE,KAAK2P,UAAU9K,OAAS7E,KAAKiR,cAAcpM,OAC3C7E,KAAK2P,UAAU5K,MAAQ/E,KAAKiR,cAAclM,MAC1C/E,KAAK2P,UAAUuB,MAAQlR,KAAKmR,UAAUnR,KAAKoR,YAC3CpR,KAAKiR,cAAcG,WAAapR,KAAKoR,WAEjCf,gBAAgBE,WAClBvQ,KAAKgP,aACLhP,KAAKkO,YAAa,EAClBlO,KAAK8P,UAAW,EAChB9P,KAAKoQ,eAKTuB,eACO3R,KAAK2P,YACVU,gBAAgBuB,SAChB5R,KAAK8P,UAAW,IAIlB+B,cACO7R,KAAK2P,YACVU,gBAAgByB,QAChB9R,KAAK8P,UAAW,IAIlBd,aACOhP,KAAK2P,YACV3P,KAAKkO,YAAa,EAClBlO,KAAK8P,UAAW,EAChBI,aAAalQ,KAAKmQ,iBAClBE,gBAAgB0B,WAIlBC,gBAAgB7P,GACd,OAAOA,EAAKnD,KACTqO,QAAQ,YAAa,MACrBA,QAAQ,SAAU,MAClBA,QAAQ,aAAc,IACtBA,QAAQ,UAAW,MACnBA,QAAQ,WAAY,MACpBA,QAAQ,wBAAyB,OACjCA,QAAQ,6BAA8B,OACtCA,QAAQ,YAAa,MACrBA,QAAQ,wBAAyB,OACjCA,QAAQ,qBAAsB,SAC9BA,QAAQ,SAAU,QAKzB4E,MAAO,IHikBT,IACEjT,KAAM,YACNC,MAAO,CAAC,aAAc,WAAY,SAAU,WAAY,cAAe,eACvEiT,OAAQ,CAACC,GAAgBC,GAAaC,IACtCC,OACE,MAAO,CACLC,OAAOC,EAAAA,GAAAA,MACPC,YAAaxU,SAASG,KAAKsU,YAC3BC,aAAc1U,SAASG,KAAKwU,aAC5BC,UAAW,IACXC,WAAY,KACZlI,cAAe,IACfE,eAAgB,IAChBiI,aAAc,IACdC,YAAa,KACbjI,aAAc,CACZtE,WAAY,QACZhB,SAAU,GAGVE,WAAY,IACZE,UAAW,GACXE,WAAY,EACZE,WAAY,GACZE,cAAe,GACfE,UAAW,GACXE,aAAc,IAEhBgI,cAAe,CACbvN,UAAW,UACXC,QAAS,UACTF,YAAa,WAGfgJ,SAAU,GACVC,SAAU,GACVsE,eAAgB,EAChBxO,YAAa,EACbmT,YAAa,EAEb5E,eAAgB,EAChBoC,YAAa,EACbtC,YAAa,EAEb+E,UAAW,GACXC,aAAc,CAAEvQ,QAAS,EAAGwQ,KAAM,GAClCC,MAAO,GACPC,WAAY,GACZC,UAAW,GAGXC,SAAU,EACVC,SAAU,GACVC,cAAe,KACfC,gBAAiB,EAEjBC,iBAAkB,IAClBC,qBAAsB,EACtBC,oBAAqB,EACrBC,mBAAoB,EAEpBC,MAAO,KACPC,aAAc,KACdC,WAAY,KACZC,kBAAmB,KACnBC,kBAAmB,KACnBvF,oBAAqB,KACrBsB,gBAAiB,KACjBkE,gBAAiB,KAEjBC,OAAQ,UACRC,aAAa,EACbC,YAAa,EACbC,YAAa,EACbC,cAAe,SACfC,iBAAiB,EACjBC,gBAAgB,EAChBC,cAAc,EACdC,eAAe,EACfC,iBAAiB,EACjBC,eAAe,EACfC,YAAY,EAGZtF,UAAWlS,OAAOqT,yBAA2B,IAAIA,yBAA6B,KAC9EK,UAAW,GACXC,WAAY,KACZH,cAAe,CACbzM,KAAM,EACNK,OAAQ,EACRE,MAAO,EACPqM,WAAY,GAEdlD,YAAY,EACZ4B,UAAU,EACVf,eAAgB,GAChBH,iBAAiB,EACjBiB,cAAe,CACbrF,WAAY,EACZ2E,cAAe,EACfrM,KAAM,KAIZoS,YAQAhM,gBACAiM,UACE,MAAMpK,EAAeqK,aAAaC,QAAQ,iBACtCtK,GAAgBA,EAAapI,SAAQ3C,KAAK+K,aAAeuK,KAAKC,MAAMxK,IACxE,MAAMwD,EAAgB6G,aAAaC,QAAQ,kBACvC9G,GAAiBA,EAAc5L,SAAQ3C,KAAKuO,cAAgB+G,KAAKC,MAAMhH,IAC3E,MAAMyE,EAAcoC,aAAaC,QAAQ,gBACrCrC,GAAeA,EAAYrQ,SAAQ3C,KAAKgT,YAAcA,GAC1D,MAAM/B,EAAgBmE,aAAaC,QAAQ,kBACvCpE,GAAiBA,EAActO,SAAQ3C,KAAKiR,cAAgBqE,KAAKC,MAAMtE,IAC3EjR,KAAKoR,WAAapR,KAAKiR,cAAcG,WACrCpR,KAAKsU,OAAStU,KAAKuS,MAAMiD,MAAMC,IAAInB,OACnCtU,KAAK0V,WACL,MAAMvC,EAAeiC,aAAaC,QAChC,gBAAkBrV,KAAK2V,OACvBL,KAAKM,UAAU5V,KAAKmT,eAElBA,IACFnT,KAAKmT,aAAemC,KAAKC,MAAMpC,GAC/BnT,KAAKsO,eAAiBtO,KAAKmT,aAAavQ,QACxC5C,KAAKF,YAAcE,KAAK0Q,aAAa1Q,KAAKmT,aAAaC,OAIzD3V,OAAOoY,SAAW,IACT,MACL7V,KAAKyS,YAAcxU,SAASG,KAAKsU,YACjC1S,KAAK2S,aAAe1U,SAASG,KAAKwU,cAF7B,GAMT3U,SAAS6X,UAAY,KAGnB,OAAQrY,OAAOsY,MAAMC,SACnB,KAAK,GACHhW,KAAKiW,eAAejW,KAAKkW,UACzB,MACF,KAAK,GACHlW,KAAKiW,eAAejW,KAAKmW,aACzB,MACF,KAAK,GACHnW,KAAKiW,eAAejW,KAAKoW,UACzB,MACF,KAAK,GACHpW,KAAKiW,eAAejW,KAAKqW,aACzB,QAMNrW,KAAKsW,MAAMC,WAAWC,cAAgB,WACpC,OAAO,GAGT,MAAMC,EAAgBzW,KAAK0W,eAAe1W,KAAKyW,cAAe,KAC9DzW,KAAKsW,MAAMK,YAAYC,SAAW,KAChCH,MAOJrW,QAAS,CAGPsV,WACE,GAAmB,WAAf1V,KAAKsU,OAAqB,CAC5B,MAAMuC,EAAU7W,KAAK+K,aAAaxE,aAAevG,KAAK+K,aAAaxE,aAAe,GAClFvG,KAAK6S,UAAY7S,KAAKyS,aAAeoE,EAAU,KAC/C7W,KAAK8S,WAAarV,OAAOqZ,YAAc,QACC,UAA/B9W,KAAKuS,MAAMiD,MAAMC,IAAInB,SAC9BtU,KAAK6S,UAA+B,IAAnB7S,KAAKyS,YACtBzS,KAAK8S,WAAarV,OAAOsZ,OAAO/U,OAAS,KAI3ChC,KAAK4K,cAAgB5K,KAAK6S,UAA0C,EAA9B7S,KAAK+K,aAAa1E,UAChC,MAApBrG,KAAKgT,YACPhT,KAAK8K,eAAiB,IAEtB9K,KAAK8K,eACH9K,KAAK8S,WAAa9S,KAAK+K,aAAa9E,WAAajG,KAAK+K,aAAa5E,cAEvE+D,QAAQC,IACL,KAAInK,KAAK6S,aAAa7S,KAAK4K,sBAAsB5K,KAAK8S,cAAc9S,KAAK8K,oBAI9E2L,gBACE,MAAMO,EAAI,GACJtS,EAAM1E,KAAKwP,YAAY7M,OAASqU,EAChC7Y,EAAY6B,KAAKsW,MAAMK,YAAYxY,UACnC8Y,EAAMjX,KAAKkX,oBAAoBvU,OAASqU,EACxCG,EAASja,KAAKwH,IAAIvG,EAAY8Y,EAAM,EAAG,GACvCG,EAAQ1S,EAAMyS,EAASF,EAE7BjX,KAAK6T,qBAAuB1V,EAAYuG,EACxC1E,KAAK8T,oBAAsBqD,EAC3BnX,KAAK+T,mBAAqBqD,EAAQ,EAAIA,EAAQ,IAC9CpX,KAAKwQ,WAAU,KACbxQ,KAAKsW,MAAMK,YAAYxY,UAAYA,MAIvC8X,eAAeoB,EAAIC,EAAO,KACxBpH,aAAalQ,KAAKgU,OAClBhU,KAAKgU,MAAQlW,YAAW,KACtBuZ,MACCC,IAGLZ,eAAeW,EAAIC,EAAO,KACxB,IAAIC,GAAO,EACX,OAAO,WACDA,IACFA,GAAO,EACPzZ,YAAW,KACTuZ,IACAE,GAAO,IACND,MAKTE,UAAUC,EAAKC,GACbD,EAAIE,SAAQ,CAACN,EAAIjV,IAAUiV,KAAMK,EAAKtV,OAGxCiP,YAAYuG,GACV1H,aAAalQ,KAAKiU,cAClBjU,KAAKiU,aAAenW,YAAW,IAAMkC,KAAK6X,SAASD,IAAM,MAG3DE,WAAWC,GAET,IAAIC,EAAW/Z,SAASga,uBAAuBF,GAAW,GACrD9Z,SAASia,kBAMRja,SAASka,gBACXla,SAASka,iBALXH,EAASI,qBAUbC,aACErY,KAAK+K,aAAe,CAClBtE,WAAY,QACZhB,SAAU,GACVE,WAAY,IACZE,UAAW,GACXE,WAAY,EACZE,WAAY,GACZE,cAAe,GACfE,UAAW,GACXE,aAAc,IAEhBvG,KAAKuO,cAAgB,CACnBvN,UAAW,UACXC,QAAS,UACTF,YAAa,YAOjBoV,cACMnW,KAAKsO,eAAiB,GACxBtO,KAAKsO,iBACLtO,KAAKsY,kBAELtY,KAAKqR,YAAY,CACfC,QAAS,SACTnS,KAAM,OACNV,SAAU,OAKhB8Z,YAEEvY,KAAKF,YAAc,EACnBE,KAAKsY,kBAGPpC,WAC2B,IAArBlW,KAAKF,YACHE,KAAKsO,eAAiB,GACxBtO,KAAKsO,iBACLtO,KAAKwQ,WAAU,KACbxQ,KAAKwY,WACLxY,KAAKsY,qBAGPtY,KAAKqR,YAAY,CACfC,QAAS,SACTnS,KAAM,OACNV,SAAU,OAIduB,KAAKF,cACLE,KAAKsY,mBAITlC,WACMpW,KAAKF,cAAgBE,KAAKyY,UAAY,EACpCzY,KAAKsO,eAAiBtO,KAAKwP,YAAY7M,OAAS,GAClD3C,KAAKsO,iBACLtO,KAAKsY,kBAELtY,KAAKqR,YAAY,CACfC,QAAS,UACTnS,KAAM,OACNV,SAAU,OAKduB,KAAKF,cACLE,KAAKsY,mBAITE,WACE,GAAIxY,KAAKF,cAAgBE,KAAKyY,UAAY,EACxC,OAAO,EAEPzY,KAAKF,YAAcE,KAAKyY,UAAY,EACpCzY,KAAKsY,kBAITjC,cACMrW,KAAKsO,eAAiBtO,KAAKwP,YAAY7M,OAAS,GAClD3C,KAAKsO,iBACLtO,KAAKsY,kBAELtY,KAAKqR,YAAY,CACfC,QAAS,UACTnS,KAAM,OACNV,SAAU,OAIhBia,OAAO3Z,GACLiB,KAAKsO,eAAiBpR,KAAK4L,OAAQ9I,KAAKwP,YAAY7M,OAAS,GAAK5D,EAAO,KACzEiB,KAAKsY,kBAGPK,YAAYC,GACV,IAAK5Y,KAAKgV,eAAqC,MAApBhV,KAAKgT,YAAqB,CACnD,MAAM6F,EAAW,GACbD,EAAEE,OAAS,GAEb5I,aAAalQ,KAAKkU,YAClBlU,KAAKkU,WAAapW,YAAW,IAAMkC,KAAKoW,YAAYyC,IAC3CD,EAAEE,OAAS,IAEpB5I,aAAalQ,KAAKkU,YAClBlU,KAAKkU,WAAapW,YAAW,IAAMkC,KAAKkW,YAAY2C,MAK1DE,YAAYC,GACV,IAAIC,EAAShb,SAASib,cAAc,qBAChC7Z,EAAOpB,SAASib,cAAc,gBAC9BC,EAAU9Z,EAAK+Z,UAAU,GAC7B,MAAMxV,EAAQ5D,KAAK6S,UAQnB,IAAIwG,EACAC,EACJ,GATAH,EAAQ1Y,MAAMnC,SAAW,WACzB6a,EAAQ1Y,MAAMmD,MAAQA,EAAQ,KAC9BuV,EAAQ1Y,MAAM6H,KAAO,OACrB6Q,EAAQ1Y,MAAM8H,IAAM,OACpB4Q,EAAQ1Y,MAAM8Y,UAAiC,GAApBP,GAAW,EAAI,GAAS,wCAEnDC,EAAOO,YAAYL,GAGK,MAApBnZ,KAAKgT,YAAqB,CAC5BqG,EAAU,IACV,MAAMI,GAAUT,EAAU,GAAK,GAAKpV,EACpC0V,EAAY,CACV,CAAEI,UAAW,mBACb,CAAEA,UAAW,cAAyB,GAATD,EAAe,OAC5C,CAAEC,UAAW,cAAyB,GAATD,EAAe,OAC5C,CAAEC,UAAW,cAAgBD,EAAS,aAEnC,GAAwB,MAApBzZ,KAAKgT,YAAqB,CACnCqG,EAAU,IACV,MAAMI,GAAUT,EAAU,GAAK,GAAKpV,EACpC0V,EAAY,CACV,CAAEI,UAAW,mBACb,CAAEA,UAAW,cAAyB,GAATD,EAAe,OAC5C,CAAEC,UAAW,cAAyB,GAATD,EAAe,OAC5C,CAAEC,UAAW,cAAgBD,EAAS,QAGxCzZ,KAAKwQ,WAAU,KACb,IAAImJ,EAAUta,EAAK+Z,UAAU,GAC7BO,EAAQlZ,MAAMnC,SAAW,WACzBqb,EAAQlZ,MAAMmD,MAAQA,EAAQ,KAC9B+V,EAAQlZ,MAAM6H,MAAQ0Q,GAAW,EAAI,GAAKpV,EAAQ,GAAK,KACvD+V,EAAQlZ,MAAM8H,IAAM,OACpB0Q,EAAOO,YAAYG,GAEnBA,EAAQC,QAAQN,EAAW,CACzB7a,SAAU4a,EACVQ,WAAY,EACZC,KAAM,WACNlK,MAAO,EACPmK,OAAQ,aAEVjc,YAAW,KACTmb,EAAOe,YAAYL,KAClBN,UAEwB,MAApBrZ,KAAKgT,cACdqG,EAAU,KACVF,EAAQ1Y,MAAMwZ,gBAAkBjB,EAAU,QAAU,OACpDM,EAAYN,EACR,CACE,CAAEU,UAAW,cACb,CAAEA,UAAW,mBACb,CAAEA,UAAW,oBAEf,CACE,CAAEA,UAAW,iBACb,CAAEA,UAAW,oBACb,CAAEA,UAAW,sBAIrBP,EAAQS,QAAQN,EAAW,CACzB7a,SAAU4a,EACVQ,WAAY,EACZC,KAAM,WACNlK,MAAO,EACPmK,OAAQ,aAEVjc,YAAW,KACTmb,EAAOe,YAAYb,KAClBE,IAMLa,eACEla,KAAKuU,aAAc,EACnBvU,KAAK2U,iBAAkB,EACvB3U,KAAK6U,cAAe,EACpB7U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,EACvB/U,KAAKma,eACLna,KAAKsW,MAAMC,WAAWC,cAAgB,WACpC,OAAO,IAIX4D,eACEpa,KAAKuU,aAAc,EACnBvU,KAAK2U,iBAAkB,EACvB3U,KAAK6U,cAAe,EACpB7U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,EACvB/U,KAAKma,eACLna,KAAKgP,aACLhP,KAAKqa,cAGPC,cAEEta,KAAKuU,aAAc,EACnBvU,KAAK2U,iBAAkB,EACvB3U,KAAK6U,cAAe,EACpB7U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,EACvB/U,KAAK4U,gBAAiB,EACtB5U,KAAKgV,eAAgB,EAErBhV,KAAKwQ,WAAU,KAEb,MAAMqG,EAAU7W,KAAKsO,eAAiBtO,KAAKwP,YAAY7M,OAEjD4X,EAAsC,GAA1Bva,KAAKwP,YAAY7M,OAEnC3C,KAAKsW,MAAMK,YAAYxY,UAAY0Y,EAAU0D,GAAava,KAAK8S,WAAa,KAAO,KAGrF,MAAMI,EAAYkC,aAAaC,QAAQ,aAAerV,KAAK2V,QACvDzC,IAAWlT,KAAKkT,UAAYoC,KAAKC,MAAMrC,KAI7CsH,cAAczb,GACZiB,KAAKsO,eAAiBvP,EACtBiB,KAAKma,gBAGPM,eACEza,KAAK2U,iBAAmB3U,KAAK2U,gBAC7B3U,KAAKuU,aAAc,EACnBvU,KAAK6U,cAAe,EACpB7U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,GAGzB2F,YACE1a,KAAK6U,cAAgB7U,KAAK6U,aAC1B7U,KAAKuU,aAAc,EACnBvU,KAAK2U,iBAAkB,EACvB3U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,EACvB/U,KAAK2a,aAGPA,YACM3a,KAAKiR,eAAiBjR,KAAKiR,cAAcG,aAC3CpR,KAAKoR,WAAapR,KAAKiR,cAAcG,YAElCpR,KAAKmR,WAAsC,GAAzBnR,KAAKmR,UAAUxO,QACpC3C,KAAKuR,gBAITqJ,aACE5a,KAAK8U,eAAiB9U,KAAK8U,cAC3B9U,KAAKuU,aAAc,EACnBvU,KAAK6U,cAAe,EACpB7U,KAAK2U,iBAAkB,EACvB3U,KAAK+U,iBAAkB,GAGzB8F,eACE7a,KAAK+U,iBAAmB/U,KAAK+U,gBAC7B/U,KAAKuU,aAAc,EACnBvU,KAAK6U,cAAe,EACpB7U,KAAK2U,iBAAkB,EACvB3U,KAAK8U,eAAgB,GAGvBqF,eACEna,KAAK4U,gBAAiB,EACtB5U,KAAKgV,eAAgB,EACrBhV,KAAK8U,eAAgB,GAGvBgG,aAAarH,EAAUuF,GAAU,GAC/B,IAAI5W,GAAS,EACToI,EAAY,EACZ2E,EAAenP,KAAKsO,eACpBlE,EAAQpK,KAAK+a,KAEb/a,KAAK0T,eAAiB1T,KAAK0T,eAAiB,EAC9ClJ,EAAYxK,KAAK0T,cACRsF,IAAkC,GAAvBhZ,KAAK0T,eACzBvE,GAAgB,EAChB/E,EAAQpK,KAAKwP,YAAYL,GAAgBnP,KAAKwP,YAAYL,GAAcM,QAAU,GAClFjF,EAAYJ,EAAMzH,OAAS,GAE3B6H,EAAYxK,KAAKoO,eAAe,GAElC,MAAOe,EAAenP,KAAKwP,YAAY7M,QAAUwM,GAAgB,EAAG,CAClE,MAAO3E,EAAYJ,EAAMzH,QAAU6H,GAAa,EAAG,CAEjD,GAAIwO,EAAS,CACX,MAAMta,GACoB,GAAxBsB,KAAK2T,eAAuBvJ,EAAMI,GAAW7H,OAAS,EAAI3C,KAAK2T,eACjEvR,EAAQgI,EAAMI,GAAWwQ,YAAYvH,EAAU/U,EAAQ,QAEvD0D,EAAQgI,EAAMI,GAAW8B,QAAQmH,EAAUzT,KAAK2T,eAAiB,GAGnE,GAAIvR,GAAS,EAgDX,OA/CApC,KAAK2T,eAAiBvR,EAEtBpC,KAAKsO,eAAiBa,EAEtBnP,KAAKwQ,WAAU,KAEbxQ,KAAKF,YAAcE,KAAK0Q,aAAalG,GAErCxK,KAAKwQ,WAAU,KACb,MAAMyK,EAAkBjb,KAAKiQ,aAAazF,GAC1C,IAAI0Q,EAAc9Y,EACd+Y,EAAY/Y,EAAQqR,EAAS9Q,OACjC,MAAMyY,EAAapb,KAAK+J,SAAS/J,KAAKF,aAAamb,GAAiBtY,OAEpE,GAAIwY,EAAYC,EAAY,CAE1B,KAAIF,EAAcE,GAahB,OARApb,KAAKF,cAELE,KAAKwQ,WAAU,KACb,MAAM6K,EAAW,0BACjBrb,KAAKsb,aAAaD,EAAUH,EAAcE,EAAYD,EAAYC,WAGpEpb,KAAK0T,cAAgBlJ,GAXrB2Q,EAAYC,EAehB,MAAMC,EAAW,yBAA2BJ,EAAkB,GAAK,IACnEjb,KAAKsb,aAAaD,EAAUH,EAAaC,GAChB,OAArBnb,KAAKgT,aACPhT,KAAKub,IACFrC,cAAcmC,GACdG,eAAe,CAAEC,SAAU,SAAUC,MAAO,sBAKjD1C,GAAW5O,EAAMI,GAAWwQ,YAAYvH,EAAUrR,EAAQ,IAAMA,EAClEpC,KAAK0T,cAAgBlJ,EAAY,EAEjCxK,KAAK0T,cAAgBlJ,GAIvBA,GAAawO,GAAW,EAAI,EAC5BhZ,KAAK2T,gBAAkB,EAG3BxE,GAAgB6J,GAAW,EAAI,EAC3B7J,GAAgBnP,KAAKwP,YAAY7M,OACnC3C,KAAKqR,YAAY,CAAEC,QAAS,QAASnS,KAAM,OAAQV,SAAU,MACpD0Q,EAAe,EACxBnP,KAAKqR,YAAY,CAAEC,QAAS,QAASnS,KAAM,OAAQV,SAAU,OAE7D2L,EAAQpK,KAAKwP,YAAYL,GAAgBnP,KAAKwP,YAAYL,GAAcM,QAAU,GAClFjF,EAAYwO,EAAU5O,EAAMzH,OAAS,EAAI,KAK/CgZ,cAAc/C,GAEI,GAAZA,EAAEgD,QACJ5b,KAAK6b,cAAcjD,IAIvBiD,cAAcjD,GAQZ,GAPA5Y,KAAK2U,iBAAkB,EACvB3U,KAAK6U,cAAe,EACpB7U,KAAK8U,eAAgB,EACrB9U,KAAK+U,iBAAkB,EACvB/U,KAAK4U,gBAAiB,EAGlBgE,EAAEkD,QAAUlD,EAAEmD,OAAQ,CACxB/b,KAAKwU,YAAcoE,EAAEkD,OACrB9b,KAAKyU,YAAcmE,EAAEmD,OACrB,MAAMC,EAAQ,IACRC,EAAQ,IACVrD,EAAEmD,OAAS/b,KAAK8S,WAAamJ,EAC3BrD,EAAEkD,OAAS9b,KAAK6S,UAAYmJ,EAAOhc,KAAK0U,cAAgB,UACvD1U,KAAK0U,cAAgB,YAEtBkE,EAAEkD,OAAS9b,KAAK6S,UAAYmJ,EAAOhc,KAAK0U,cAAgB,aACvD1U,KAAK0U,cAAgB,eAG9B,MAAMwH,EAASlc,KAAKmc,iBAAiBnc,KAAKiT,aACtCiJ,GAAU,GACZlc,KAAKsT,WAAatT,KAAKqT,MAAM6I,GAAQjZ,OACrCjD,KAAKuT,UAAYvT,KAAKqT,MAAM6I,GAAQhZ,QAEpClD,KAAKsT,WAAa,GACI,IAAlBtT,KAAKuT,YAAiBvT,KAAKuT,UAAYvT,KAAKwJ,aAAa,KAE/DxJ,KAAKuU,aAAc,EACnBvU,KAAK2a,aAGPyB,iBACEpc,KAAKuU,aAAc,GAGrB4H,iBAAiB/Z,GACf,IAAK,IAAIwE,KAAK5G,KAAKqT,MAAO,CACxB,MAAMhU,EAAOW,KAAK0Q,aAAa1Q,KAAKqT,MAAMzM,GAAGwM,MACvCA,EAAOpT,KAAKiQ,aAAajQ,KAAKqT,MAAMzM,GAAGwM,MAC7C,GACEpT,KAAKqT,MAAMzM,GAAGhE,SAAW5C,KAAKsO,iBAC5BjP,GAAQW,KAAKF,aAAesT,GAAQhR,GACd,IAArBpC,KAAKqc,cACK,GAATja,GACA/C,GAAQW,KAAKF,YAAc,GAC3BE,KAAK0Q,aAAa1Q,KAAKqT,MAAMzM,GAAGwM,KAAO,IAAMpT,KAAKF,aAEtD,OAAO8G,EAGX,OAAQ,GAGV0V,QAAQla,EAAOa,EAAS,GAAIC,EAAQlD,KAAKwJ,aAAa,GAAI+S,GAAS,GAGjE,MAAML,EAASlc,KAAKmc,iBAAiB/Z,GACrC,GAAI8Z,GAAU,EACZ,GAAIK,GAAoB,IAAVtZ,EAAc,CAC1B,IAAIuZ,EAAOxc,KAAKqT,MAAM6I,GACtBM,EAAKvZ,OAASA,EACduZ,EAAKtZ,MAAQA,EACblD,KAAKyc,WAAWP,EAAQM,QACnBxc,KAAK0c,WAAWR,OAClB,CACL,MAAMM,EAAO,CACX5Z,QAAS5C,KAAKsO,eACd8E,KAAMpT,KAAKoO,eAAehM,GAC1BU,MAAM,IAAI6Z,MAAOC,qBAAqBC,WAAW,IAAK,KACtD5Z,OAAQA,EACRC,MAAOA,GAETlD,KAAKqT,MAAMjI,KAAKoR,GAChBpH,aAAa0H,QAAQ,SAAW9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKqT,QACjErT,KAAK+c,eACL/c,KAAKqR,YAAY,CAAEC,QAAS,QAASnS,KAAM,UAAWV,SAAU,MAElEuB,KAAKka,gBAGPuC,WAAWra,EAAOoa,GAChBxc,KAAKqT,MAAM2J,OAAO5a,EAAO,EAAGoa,GAC5BpH,aAAa0H,QAAQ,SAAW9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKqT,QACjErT,KAAK+c,gBAGPL,WAAWta,GACTpC,KAAKqT,MAAM2J,OAAO5a,EAAO,GACrBpC,KAAKqT,MAAM1Q,OAAS,EACtByS,aAAa0H,QAAQ,SAAW9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKqT,QAGjE+B,aAAa6H,WAAW,SAAWjd,KAAK2V,QAE1C3V,KAAK+c,gBAEPG,iBAAiB9J,GACfpT,KAAK0c,WAAW1c,KAAKmc,iBAAiB/I,IACtCpT,KAAKka,gBAGPiD,WAAW/a,GACT8H,QAAQC,IAAI/H,EAAOpC,KAAKqT,MAAMjR,GAAOQ,QAAS5C,KAAKqT,MAAMjR,GAAOgR,MAChEpT,KAAKsO,eAAiBtO,KAAKqT,MAAMjR,GAAOQ,QACxC5C,KAAKwQ,WAAU,KACbtG,QAAQC,IAAInK,KAAK0Q,aAAa1Q,KAAKqT,MAAMjR,GAAOgR,OAChDpT,KAAKF,YAAcE,KAAK0Q,aAAa1Q,KAAKqT,MAAMjR,GAAOgR,SAEzDpT,KAAKma,gBAGPiD,eAAehb,GACb,MAAMgI,EAAQpK,KAAKwP,YAAYxP,KAAKqT,MAAMjR,GAAOQ,SAAS6M,QACpDjF,EAAYxK,KAAKqT,MAAMjR,GAAOgR,KACpC,IAAIxF,EAAS,GAMb,OAJEA,EADExD,EAAMI,GAAW7H,OAAS,GACnByH,EAAMI,GAAa,MAEnBJ,EAAMI,GAAWlD,MAAM,EAAG,IAAM,MAEpCsG,GAGTyP,cACE,MAAMnK,EAAYkC,aAAaC,QAAQ,aAAerV,KAAK2V,QACvDzC,IAAWlT,KAAKkT,UAAYoC,KAAKC,MAAMrC,IAC3C,MAAMxU,EAAQsB,KAAKsd,mBAAqBtd,KAAK+J,SAAS/J,KAAKF,aAAa6C,OAAS,EAAI,EAAI,EACnF4a,EAAW,CACf3a,QAAS5C,KAAKsO,eACd8E,KAAMpT,KAAKoO,eAAe1P,GAC1BoE,MAAM,IAAI6Z,MAAOC,qBAAqBC,WAAW,IAAK,MAExD7c,KAAKkT,UAAU9H,KAAKmS,GACpBnI,aAAa0H,QAAQ,aAAe9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKkT,YACrElT,KAAKqR,YAAY,CAAEC,QAAS,QAASnS,KAAM,UAAWV,SAAU,MAChEuB,KAAKka,gBAGPsD,eAAepb,GACbpC,KAAKkT,UAAU8J,OAAO5a,EAAO,GACzBpC,KAAKkT,UAAUvQ,OAAS,EAC1ByS,aAAa0H,QAAQ,aAAe9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKkT,YAGrEkC,aAAa6H,WAAW,aAAejd,KAAK2V,SAIhD8H,eAAerb,GACb8H,QAAQC,IAAI/H,EAAOpC,KAAKkT,UAAU9Q,GAAOQ,QAAS5C,KAAKkT,UAAU9Q,GAAOgR,MACxEpT,KAAKsO,eAAiBtO,KAAKkT,UAAU9Q,GAAOQ,QAC5C5C,KAAKwQ,WAAU,KACbtG,QAAQC,IAAInK,KAAK0Q,aAAa1Q,KAAKkT,UAAU9Q,GAAOgR,OACpDpT,KAAKF,YAAcE,KAAK0Q,aAAa1Q,KAAKkT,UAAU9Q,GAAOgR,SAE7DpT,KAAKma,gBAGPuD,mBAAmBtb,GACjB,MAAMgI,EAAQpK,KAAKwP,YAAYxP,KAAKkT,UAAU9Q,GAAOQ,SAAS6M,QACxDjF,EAAYxK,KAAKkT,UAAU9Q,GAAOgR,KACxC,IAAIxF,EAAS,GAUb,OATIxD,EAAMI,GAAW7H,OAAS,IAC5BiL,EAASxD,EAAMI,GACXJ,EAAMI,EAAY,KACpBoD,GAAU,OAASxD,EAAMI,EAAY,GAAGlD,MAAM,EAAG,KAEnDsG,GAAU,OAEVA,EAASxD,EAAMI,GAAWlD,MAAM,EAAG,IAAM,MAEpCsG,GAMTmP,eACE,MAAMY,EAAQle,MAAMme,KAAK5d,KAAKub,IAAIrC,cAAc,gBAAgB2E,qBAAqB,MACrFF,EAAMhG,SAAQ,CAACmG,EAAG1b,KAChB0b,EAAEC,UAAY/d,KAAKge,WAAWF,EAAEC,WAChC,MAAM7B,EAASlc,KAAKmc,iBAAiB/Z,GACrC,GAAI8Z,GAAU,EAAG,CACf,MAAMhZ,EAAQlD,KAAKqT,MAAM6I,GAAQhZ,OAASlD,KAAKwJ,aAAa,GAC5DsU,EAAEC,UAAY/d,KAAKie,YAAYH,EAAEC,UAAW,oBAAsB7a,QAKxE+a,YAAYzS,EAAM/K,GAChB,MAAQ,gBAAeA,cAAkB+K,YAE3CwS,WAAWxS,GAGT,MAAM0S,EAAO,gCACPC,EAAO,eACb,OAAO3S,EAAK6B,QAAQ6Q,EAAM,IAAIrB,WAAWsB,EAAM,KAGjD7F,iBACE7a,OAAO6d,eAAe8C,mBAGxB9C,aAAaD,EAAUH,EAAaC,GAElCnb,KAAKwQ,WAAU,KACb,IAAI6N,EAAMre,KAAKub,IAAIrC,cAAcmC,GAC7BiD,EAAQrgB,SAASsgB,cACjBC,EAAYH,EAAII,WAGpBH,EAAMI,SAASF,EAAWtD,GAC1BoD,EAAMK,OAAOH,EAAWrD,GACxB,IAAIyD,EAAYnhB,OAAO6d,eACvBsD,EAAUR,kBACVQ,EAAUC,SAASP,GACnBA,EAAMQ,SACNR,EAAQ,SAIZS,WACE,OAAI/e,KAAKwP,aAAexP,KAAKwP,YAAYxP,KAAKsO,gBACrCtO,KAAKwP,YAAYxP,KAAKsO,gBAAgB/L,MAEtCvC,KAAKgf,YAAYzc,OAI5B0c,gBAAgB7c,GACd,OAAa,GAATA,GAAkC,GAApBpC,KAAKF,YACdE,KAAK+K,aAAatF,SAAWzF,KAAK+K,aAAahF,WAC1C/F,KAAK+K,aAAatF,UAGlCyZ,kBACE,OAAIlf,KAAK6S,UAAY,IAAY7S,KAAK6S,UAC1B,KAGdsM,iBACE,GAAInf,KAAKF,YAAc,EAAG,OAAO,EACjC,MAAMsf,EAAW,GACXC,EAAerf,KAAK+J,SAAS/J,KAAKF,aAExC,IAAK,IAAI8G,KAAKyY,EACZD,EAAShU,KAAKiU,EAAazY,GAAGjE,QAEhC,OAAOyc,EAASvR,QAAO,CAACC,EAAKC,IAAQD,EAAMC,GAAK,IAIlDuR,kBACE,OAAOtf,KAAK+J,SAAS8D,QACnB,CAACC,EAAKC,IAAQD,EAAMC,EAAIF,QAAO,CAACC,EAAKC,IAAQD,EAAMC,EAAIpL,QAAQ,IAC/D,IAIJ4c,WAAWC,GACT,IAAKxf,KAAKgK,SAAU,OAAO,EAC3B,IAAK,IAAIpD,KAAK5G,KAAKgK,SACjB,GAAIwV,GAAaxf,KAAKgK,SAASpD,GAAI,OAAO,EAE5C,OAAO,GAGT0W,kBACE,SAAOtd,KAAKqc,aAAa1Z,QAAsC,GAA5B3C,KAAKqc,aAAa1Z,SAOvDyL,eAAehM,GAEb,IAAIqd,EAAYrd,EAChB,IAAK,IAAIwE,EAAI,EAAGA,GAAK5G,KAAKF,YAAa8G,IAEjC5G,KAAKuf,WAAW3Y,IAClB6Y,IAEFA,IAAczf,KAAK+J,SAASnD,IAAM,IAAIjE,OAGxC,OADA8c,IAAczf,KAAK+J,SAAS/J,KAAKF,cAAgB,IAAI6C,OAC9C8c,GAGTxP,aAAazF,GACX,IAAIiV,EAAYjV,EAChB,IAAK,IAAI5D,EAAI,EAAGA,EAAI5G,KAAK+J,SAASpH,OAAQiE,IAMxC,GAJI5G,KAAKuf,WAAW3Y,IAClB6Y,IAEFA,GAAazf,KAAK+J,SAASnD,GAAGjE,OAC1B8c,EAAY,EAAG,OAAOA,EAAYzf,KAAK+J,SAASnD,GAAGjE,QAI3D+N,aAAalG,GACX,IAAIiV,EAAYjV,EAChB,IAAK,IAAI5D,EAAI,EAAGA,EAAI5G,KAAK+J,SAASpH,OAAQiE,IAMxC,GAJI5G,KAAKuf,WAAW3Y,IAClB6Y,IAEFA,GAAazf,KAAK+J,SAASnD,GAAGjE,OAC1B8c,EAAY,EAAG,OAAO7Y,GAI9B8H,eAAexL,EAAO0J,EAAQ,IAC5B,MAAMC,EAAS,CAACC,EAAMC,KACpB,IAAIC,EAAMF,EAAOC,EAEjB,OADIC,EAAM,GAAKA,EAAM,OAAKA,EAAMF,EAAOC,GAChCC,GAET,IAAIW,EAAMzK,EAAMmK,QAAQ,KAAM,IAAIC,MAAM,gBACxCK,EAAMA,EAAIF,KAAKtL,GAAS0K,EAAOa,SAASvL,EAAM,IAAKyK,KACnD,IAAIgB,EAAS,IAAMD,EAAIE,QAAO,CAACC,EAAKC,IAAQD,GAAO,IAAMC,EAAIC,SAAS,KAAK1G,OAAO,IAAI,IAEtF,OAAOsG,GAGT8R,aAAaxc,GACX,IAAIyc,EAAa,KAAOzc,EAAMmK,QAAQ,KAAM,IACxCuS,EAAM,UAAY,SAAWD,GAAY3R,SAAS,IACtD,MAAO,IAAM4R,EAAIC,UAAUD,EAAIjd,OAAS,EAAGid,EAAIjd,SAGjDmd,gBAAgBrT,EAAQC,GACtB,IAAIqT,EAAS,KAAOtT,EAAOY,QAAQ,KAAM,IACrC2S,EAAS,UAAY,KAAOtT,EAAOW,QAAQ,KAAM,KACjDuS,EAAM,UAAY,WAAaG,EAASC,GAAU,GAAGC,QAAQ,IAAIjS,SAAS,IAC9E,MAAO,IAAM4R,EAAIC,UAAUD,EAAIjd,OAAS,EAAGid,EAAIjd,SAGjDud,YAAY1V,EAAWgV,EAAYxf,KAAKF,aACtC,IAAI0L,EAAO,GAQX,OAPAxL,KAAK+J,SAAS4N,SAAQ,CAACtY,EAAM+C,KACvBA,GAASod,GACXngB,EAAK+C,GAAOuV,SAAQ,CAACvE,EAAMhR,KACrBA,GAASoI,IAAWgB,GAAQ4H,SAI/B5H,GAGT2U,UAAU3U,EAAO,GAAIjM,GACnB,OAAOiM,EAAK7I,OAASpD,EAAQiM,EAAKlE,MAAM,EAAG/H,GAAS,MAAQiM,GAG9D4U,qBACE,MAAMxd,EAAU5C,KAAKwP,YAAYxP,KAAKsO,gBACtC,IAAK1L,EAAS,MAAO,GACrB,MAAMwQ,EAAOpT,KAAKoO,eAAepO,KAAKiT,aACtC,OAAOrQ,EAAQ6M,QAAQ2D,KAM3BvT,SAAU,CAERkb,KAAM,CACJhb,MAEE,OAAIC,KAAKwP,aAAexP,KAAKwP,YAAYxP,KAAKsO,gBACrCtO,KAAKwP,YAAYxP,KAAKsO,gBAAgBmB,QACpCzP,KAAKgf,aAAehf,KAAKgf,YAAYvP,QACvCzP,KAAKgf,YAAYvP,QACZ,KAIlBgJ,UAAW,WACT,OAAOzY,KAAK+J,SAASpH,QAGvB0Z,aAAc,WACZ,OAAIrc,KAAKuf,WAAWvf,KAAKF,aAChBE,KAAK+J,SAAS/J,KAAKF,aAAa,GAElC,IAGTugB,YAAa,WAEX,IAAIC,EAAS,GACb,IAAK,IAAI1Z,KAAK5G,KAAK+J,SAAS/J,KAAKF,aAC/BwgB,EAAOlV,KAAKpL,KAAK+J,SAAS/J,KAAKF,aAAa8G,IAG9C,OADI5G,KAAKuf,WAAWvf,KAAKF,cAAcwgB,EAAOC,QACvCD,GAETpJ,oBAAqB,WAEnB,MAAMpa,EAAQkD,KAAKwP,YAAY7M,OACzBsU,EAAMjX,KAAK4T,iBACXlV,EAAQxB,KAAKwH,IAAIxH,KAAK4L,MAAM9I,KAAK6T,qBAAuB/W,GAASma,EAAM,EAAG,GAChF,IAAIuJ,EAAU,GACd,IAAK,IAAI5Z,EAAIlI,EAAOkI,EAAIlI,EAAQuY,GAAOrQ,EAAI9J,EAAO8J,IAChD4Z,EAAQpV,KAAK,CAAE9I,GAAItC,KAAKwP,YAAY5I,GAAGtE,GAAIC,MAAOvC,KAAKwP,YAAY5I,GAAGrE,QAGxE,OAAOie,IAMXvO,MAAO,CACLwO,SAAU,CACRC,QAAQ3hB,GACN,GAAIA,EAAK,CAEP,MAAMoU,EAAeiC,aAAaC,QAChC,gBAAkBrV,KAAK2V,OACvBL,KAAKM,UAAU5V,KAAKmT,eAElBA,GACFnT,KAAKmT,aAAemC,KAAKC,MAAMpC,GAC/BnT,KAAKsO,eAAiBtO,KAAKmT,aAAavQ,QACxC5C,KAAKwQ,WAAU,KACbxQ,KAAKF,YAAcE,KAAK0Q,aAAa1Q,KAAKmT,aAAaC,WAGzDpT,KAAKsO,eAAiB,EACtBtO,KAAKF,YAAc,OAEhB,CAEL,MAAMpB,EAAQsB,KAAKsd,mBAAqBtd,KAAK+J,SAAS/J,KAAKF,aAAa6C,OAAS,EAAI,EAAI,EACzF3C,KAAKmT,aAAe,CAAEvQ,QAAS5C,KAAKsO,eAAgB8E,KAAMpT,KAAKoO,eAAe1P,IAC9E0W,aAAa0H,QAAQ,gBAAkB9c,KAAK2V,OAAQL,KAAKM,UAAU5V,KAAKmT,kBAI9E4H,KAAM,CACJ2F,QAAQ3hB,GACNiB,KAAK8J,SAAS/K,KAGlByQ,YAAa,CACXkR,UAEE,MAAMrN,EAAQ+B,aAAaC,QAAQ,SAAWrV,KAAK2V,QAC/CtC,IAAOrT,KAAKqT,MAAQiC,KAAKC,MAAMlC,IACnC,MAAMH,EAAYkC,aAAaC,QAAQ,aAAerV,KAAK2V,QACvDzC,IAAWlT,KAAKkT,UAAYoC,KAAKC,MAAMrC,IAE3C,MAAMkE,EAAQpX,KAAKwP,YAAY7M,OAAS3C,KAAKkX,oBAAoBvU,OACjE3C,KAAK+T,mBAA6B,GAARqD,GAE5BuJ,WAAW,GAEbhL,OAAQ,CACN+K,UACE1gB,KAAKkT,UAAY,GACjBlT,KAAKqT,MAAQ,KAGjBtI,aAAc,CACZ2V,UACExQ,aAAalQ,KAAKmU,mBAClBnU,KAAKmU,kBAAoBrW,YAAW,KAClCkC,KAAK0V,WACL1V,KAAK4J,OAAO5J,KAAK+a,MACjB3F,aAAa0H,QAAQ,gBAAiBxH,KAAKM,UAAU5V,KAAK+K,iBACzD,MAEL6V,MAAM,GAERrS,cAAe,CACbmS,UACEtL,aAAa0H,QAAQ,iBAAkBxH,KAAKM,UAAU5V,KAAKuO,iBAE7DqS,MAAM,GAER3P,cAAe,CACbyP,UACExQ,aAAalQ,KAAKoU,mBAClBpU,KAAKoU,kBAAoBtW,YAAW,KAClCkC,KAAK0R,cACL0D,aAAa0H,QAAQ,iBAAkBxH,KAAKM,UAAU5V,KAAKiR,kBAC1D,MAEL2P,MAAM,GAERnO,cACEvC,aAAalQ,KAAKqU,iBAClBrU,KAAKqU,gBAAkBvW,YAAW,KAChCkC,KAAK0V,WACL1V,KAAK4J,OAAO5J,KAAK+a,QAChB,MAELpI,eACEzC,aAAalQ,KAAKqU,iBAClBrU,KAAKqU,gBAAkBvW,YAAW,KAChCkC,KAAK0V,WACL1V,KAAK4J,OAAO5J,KAAK+a,QAChB,MAELzM,eAAeuS,EAAUC,GAGvB9gB,KAAKwT,SAAWuN,YAAaF,EAAW7gB,KAAKwP,YAAY7M,OAAU,KAAKsd,QAAQ,IACxD,MAApBjgB,KAAKgT,YACPhT,KAAKsW,MAAMC,WAAWpY,UAAY,EACzB,SAAS6iB,SAAShhB,KAAKgT,eAAiBhT,KAAKiV,aACtDjV,KAAKiV,YAAa,EAClBjV,KAAK+Y,YAAY8H,EAAWC,GAC5BhjB,YAAW,KACTkC,KAAKiV,YAAa,IACjB,OAGPnV,YAAY+gB,EAAUC,GAGhB,SAASE,SAAShhB,KAAKgT,eAAiBhT,KAAKiV,YAC/CjV,KAAK+Y,YAAY8H,EAAWC,IAGhCT,cACErgB,KAAKwQ,WAAU,IAAMxQ,KAAK+c,kBAE5B/J,YAAY6N,EAAUC,GACJ,MAAZD,GAAgC,MAAZC,IACtB9gB,KAAK0V,WACL1V,KAAK4J,OAAO5J,KAAK+a,OAEnB3F,aAAa0H,QAAQ,eAAgB9c,KAAKgT,gB,SIxkEhD,MAAMzS,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,MAEpE,W","sources":["webpack://yun-admin/./src/components/Pagination/index.vue","webpack://yun-admin/./src/utils/scroll-to.js","webpack://yun-admin/./src/components/Pagination/index.vue?4b83","webpack://yun-admin/./src/components/YunReader/YunReader.vue","webpack://yun-admin/./src/components/YunReader/mixins/SettingConstants.js","webpack://yun-admin/./src/components/YunReader/mixins/RepageHandler.js","webpack://yun-admin/./src/components/YunReader/mixins/SpeechHandler.js","webpack://yun-admin/./src/components/YunReader/YunReader.vue?6e3f"],"sourcesContent":["<template>\n  <div :class=\"{ hidden: hidden }\" class=\"pagination-container\">\n    <el-pagination\n      :background=\"background\"\n      v-model:current-page=\"currentPage\"\n      v-model:page-size=\"pageSize\"\n      :layout=\"layout\"\n      :page-sizes=\"pageSizes\"\n      :total=\"total\"\n      v-bind=\"$attrs\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport { scrollTo } from \"@/utils/scroll-to\"\n\nexport default {\n  name: \"Pagination\",\n  props: {\n    total: {\n      required: true,\n      type: Number,\n    },\n    page: {\n      type: Number,\n      default: 1,\n    },\n    limit: {\n      type: Number,\n      default: 20,\n    },\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 30, 50]\n      },\n    },\n    layout: {\n      type: String,\n      default: \"total, sizes, prev, pager, next, jumper\",\n    },\n    background: {\n      type: Boolean,\n      default: true,\n    },\n    autoScroll: {\n      type: Boolean,\n      default: true,\n    },\n    hidden: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    currentPage: {\n      get() {\n        return this.page\n      },\n      set(val) {\n        this.$emit(\"update:page\", val)\n      },\n    },\n    pageSize: {\n      get() {\n        return this.limit\n      },\n      set(val) {\n        this.$emit(\"update:limit\", val)\n      },\n    },\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.$emit(\"pagination\", { page: this.currentPage, limit: val })\n      if (this.autoScroll) {\n        scrollTo(0, 800)\n      }\n    },\n    handleCurrentChange(val) {\n      this.$emit(\"pagination\", { page: val, limit: this.pageSize })\n      if (this.autoScroll) {\n        scrollTo(0, 800)\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n.pagination-container {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden {\n  display: none;\n}\n</style>\n","Math.easeInOutQuad = function (t, b, c, d) {\n  t /= d / 2\n  if (t < 1) {\n    return (c / 2) * t * t + b\n  }\n  t--\n  return (-c / 2) * (t * (t - 2) - 1) + b\n}\n\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\nvar requestAnimFrame = (function () {\n  return (\n    window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    function (callback) {\n      window.setTimeout(callback, 1000 / 60)\n    }\n  )\n})()\n\n/**\n * Because it's so fucking difficult to detect the scrolling element, just move them all\n * @param {number} amount\n */\nfunction move(amount) {\n  document.documentElement.scrollTop = amount\n  document.body.parentNode.scrollTop = amount\n  document.body.scrollTop = amount\n}\n\nfunction position() {\n  return (\n    document.documentElement.scrollTop ||\n    document.body.parentNode.scrollTop ||\n    document.body.scrollTop\n  )\n}\n\n/**\n * @param {number} to\n * @param {number} duration\n * @param {Function} callback\n */\nexport function scrollTo(to, duration, callback) {\n  const start = position()\n  const change = to - start\n  const increment = 20\n  let currentTime = 0\n  duration = typeof duration === \"undefined\" ? 500 : duration\n  var animateScroll = function () {\n    // increment the time\n    currentTime += increment\n    // find the value with the quadratic in-out easing function\n    var val = Math.easeInOutQuad(currentTime, start, change, duration)\n    // move the document.body\n    move(val)\n    // do the animation unless its over\n    if (currentTime < duration) {\n      requestAnimFrame(animateScroll)\n    } else {\n      if (callback && typeof callback === \"function\") {\n        // the animation is done so lets callback\n        callback()\n      }\n    }\n  }\n  animateScroll()\n}\n","import { render } from \"./index.vue?vue&type=template&id=15ef1945&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=15ef1945&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\WorkSpace\\\\Dev\\\\Projects\\\\YunAdmin\\\\YunAdmin.Web\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15ef1945\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!-- 阅读器 -->\r\n    <div\r\n      class=\"reader-container\"\r\n      :style=\"{\r\n        width: pageWidth + 20 + 'px',\r\n        backgroundColor: colorSettings.borderColor,\r\n        '--page-text-color': colorSettings.textColor,\r\n        '--page-bg-color': colorSettings.bgColor,\r\n        '--page-border-color': colorSettings.borderColor,\r\n      }\"\r\n      @mousewheel=\"wheelHandle\"\r\n    >\r\n      <!-- ////////// 头部 ////////// -->\r\n      <div class=\"reader-head\">\r\n        <span class=\"header-text\">{{ getTitle() }}</span>\r\n      </div>\r\n\r\n      <!-- ////////// 目录 ////////// -->\r\n      <transition name=\"catalogFade\">\r\n        <!-- 目录窗体容器 -->\r\n        <div\r\n          v-show=\"catalogVisible\"\r\n          class=\"catalog-container\"\r\n          :style=\"{\r\n            'user-select': 'none',\r\n            height: pageHeight + 'px',\r\n            width: getCatalogWidth() + 'px',\r\n          }\"\r\n        >\r\n          <!-- 目录标题栏 -->\r\n          <div style=\"margin: 10px 0 0 10px; height: 40px\">\r\n            <!-- 返回图标 -->\r\n            <el-icon class=\"catalog-button\" :size=\"24\" @click=\"closeCatalog\"><Back /></el-icon>\r\n            <!-- 标题文字 -->\r\n            <span class=\"catalog-title\" :style=\"'width:' + (getCatalogWidth() - 70) + 'px;'\">\r\n              {{ bookName }}\r\n            </span>\r\n            <!-- 书籍图标 -->\r\n            <!-- <el-icon :size=\"26\"><Notebook /></el-icon> -->\r\n          </div>\r\n          <!-- Tabs -->\r\n          <el-tabs class=\"catalog-tabs\" tab-position=\"bottom\" :stretch=\"true\">\r\n            <!-- tab-pane 目录 -->\r\n            <el-tab-pane>\r\n              <template #label>\r\n                <span class=\"custom-tabs-label\">\r\n                  <el-icon :style=\"'top:2px;font-size:16px'\"><calendar /></el-icon>\r\n                  <span :style=\"'margin-left:4px;font-size:18px'\">目录</span>\r\n                </span>\r\n              </template>\r\n              <!-- 章节列表 -->\r\n              <div ref=\"catalogPane\" :style=\"'overflow: auto; height:' + (pageHeight - 120) + 'px'\">\r\n                <div :style=\"{ height: catalogBeforeHeight + 'px' }\"></div>\r\n                <div\r\n                  v-for=\"(item, index) in chapterListRendered\"\r\n                  :key=\"index\"\r\n                  class=\"catalog-item\"\r\n                  :style=\"\r\n                    'font-weight:' +\r\n                    (item.id == currentChapter ? 'bold' : 'normal') +\r\n                    ';color:' +\r\n                    (item.id == currentChapter ? '#990066' : '#252525')\r\n                  \"\r\n                  @click=\"selectChapter(item.id)\"\r\n                >\r\n                  {{ item.title }}\r\n                </div>\r\n                <div :style=\"{ height: catalogAfterHeight + 'px' }\"></div>\r\n              </div>\r\n              <!-- {{ (\"000\" + item.id).substr(-4) }}&nbsp;-&nbsp;{{ item.title }} -->\r\n            </el-tab-pane>\r\n            <!-- tab-pane 书签 -->\r\n            <el-tab-pane>\r\n              <template #label>\r\n                <span class=\"custom-tabs-label\">\r\n                  <el-icon :style=\"'top:2px;font-size:16px'\"><CollectionTag /></el-icon>\r\n                  <span :style=\"'margin-left:4px;font-size:18px'\">书签</span>\r\n                </span>\r\n              </template>\r\n              <!-- 书签列表 -->\r\n              <div :style=\"'overflow: auto; height:' + (pageHeight - 120) + 'px'\">\r\n                <div\r\n                  v-if=\"!bookmarks.length\"\r\n                  style=\"color: #777777; text-align: center; margin-top: 20px\"\r\n                >\r\n                  暂时没有书签\r\n                </div>\r\n                <div\r\n                  v-for=\"(item, index) in bookmarks\"\r\n                  :key=\"index\"\r\n                  class=\"bookmark-item\"\r\n                  @click=\"jumpToBookmark(index)\"\r\n                >\r\n                  <div class=\"bookmark-item-title\">\r\n                    <span :style=\"'width:' + (getCatalogWidth() - 70) + 'px;'\">{{\r\n                      chapterList[item.chapter].title\r\n                    }}</span>\r\n                    <el-icon\r\n                      class=\"link-type\"\r\n                      style=\"float: right; margin-right: 20px\"\r\n                      :size=\"18\"\r\n                      @click.stop=\"deleteBookmark(index)\"\r\n                      ><Remove\r\n                    /></el-icon>\r\n                  </div>\r\n                  <div class=\"bookmark-item-small-text\">\r\n                    <!-- <el-icon :size=\"14\" style=\"top: 2px\"><Timer /></el-icon> -->\r\n                    <span>{{ item.time }}&emsp;</span>\r\n                    <!-- <svg-icon icon-class=\"list\" style=\"font-size: 10px\" />&nbsp; -->\r\n                    <span>{{ item.chapter + \" / \" + chapterList.length }}</span>\r\n                  </div>\r\n                  <div class=\"bookmark-item-preview\">{{ getBookmarkPreview(index) }}</div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n            <!-- tab-pane 笔记 -->\r\n            <el-tab-pane>\r\n              <template #label>\r\n                <span class=\"custom-tabs-label\">\r\n                  <el-icon :style=\"'top:2px;font-size:16px'\"><Edit /></el-icon>\r\n                  <span :style=\"'margin-left:4px;font-size:18px'\">笔记</span>\r\n                </span>\r\n              </template>\r\n              <div :style=\"'overflow: auto; height:' + (pageHeight - 120) + 'px'\">\r\n                <div\r\n                  v-if=\"!notes.length\"\r\n                  style=\"color: #777777; text-align: center; margin-top: 20px\"\r\n                >\r\n                  暂时没有笔记\r\n                </div>\r\n                <div\r\n                  v-for=\"(item, index) in notes\"\r\n                  :key=\"index\"\r\n                  class=\"bookmark-item\"\r\n                  @click=\"jumpToNote(index)\"\r\n                >\r\n                  <div class=\"bookmark-item-title\">\r\n                    <span :style=\"'width:' + (getCatalogWidth() - 70) + 'px;'\">{{\r\n                      \"评述：\" + (item.remark == \"\" ? \"(空)\" : item.remark)\r\n                    }}</span>\r\n                    <el-icon\r\n                      class=\"link-type\"\r\n                      style=\"float: right; margin-right: 20px\"\r\n                      :size=\"18\"\r\n                      @click.stop=\"deleteNote(index)\"\r\n                      ><Remove\r\n                    /></el-icon>\r\n                  </div>\r\n                  <div class=\"bookmark-item-small-text\">\r\n                    <span>{{ item.time }}&emsp;</span>\r\n                    <span>{{ limitText(chapterList[item.chapter].title, 22) }}</span>\r\n                  </div>\r\n                  <div class=\"bookmark-item-preview\">\r\n                    <span :style=\"'background-color:' + item.color\">{{\r\n                      getNotePreview(index)\r\n                    }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </transition>\r\n\r\n      <!-- ////////// 页面按钮容器 ////////// -->\r\n      <div\r\n        class=\"body-button-container\"\r\n        :style=\"'width: ' + pageWidth + 'px;visibility:' + (catalogVisible ? 'hidden' : 'inherit')\"\r\n      >\r\n        <!-- 返回 -->\r\n        <span class=\"body-button goback\" @click=\"handleGoBack\">\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><Back /></el-icon>\r\n        </span>\r\n        <!-- 目录 -->\r\n        <span\r\n          class=\"body-button catalog\"\r\n          :style=\"'bottom: ' + -pageHeight + 'px'\"\r\n          @click=\"openCatalog\"\r\n        >\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><List /></el-icon>\r\n        </span>\r\n        <!-- 上一章 -->\r\n        <span\r\n          class=\"body-button prevchapter\"\r\n          :style=\"'left: ' + pageWidth / 3 + 'px'\"\r\n          @click=\"handleDebounce(prevChapter)\"\r\n        >\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><CaretLeft /></el-icon>\r\n        </span>\r\n        <!-- 下一章 -->\r\n        <span\r\n          class=\"body-button nextchapter\"\r\n          :style=\"'left: ' + (pageWidth * 2) / 3 + 'px'\"\r\n          @click=\"handleDebounce(nextChapter)\"\r\n        >\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><CaretRight /></el-icon>\r\n        </span>\r\n        <!-- 上一页 -->\r\n        <span\r\n          class=\"body-button prevpage\"\r\n          :style=\"'top: ' + pageHeight / 2 + 'px'\"\r\n          @click=\"handleDebounce(prevPage)\"\r\n          @dblclick=\"handleDebounce(firstPage, 50)\"\r\n        >\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><ArrowLeftBold /></el-icon>\r\n        </span>\r\n        <!-- 下一页 -->\r\n        <span\r\n          class=\"body-button nextpage\"\r\n          :style=\"'top: ' + pageHeight / 2 + 'px'\"\r\n          @click=\"handleDebounce(nextPage)\"\r\n          @dblclick=\"handleDebounce(lastPage, 50)\"\r\n        >\r\n          <el-icon class=\"body-button-icon\" :size=\"32\"><ArrowRightBold /></el-icon>\r\n        </span>\r\n        <!-- 语音朗读 气泡卡片 -->\r\n        <el-popover\r\n          :visible=\"voiceVisible\"\r\n          placement=\"top-end\"\r\n          :show-arrow=\"false\"\r\n          :width=\"popoverWidth\"\r\n        >\r\n          <div style=\"margin: 10px 10px; user-select: none\">\r\n            <div>\r\n              <span style=\"margin-right: 15px\">发音</span>\r\n              <el-select\r\n                v-model=\"voiceIndex\"\r\n                placeholder=\"请选择\"\r\n                no-match-text=\"默认\"\r\n                style=\"width: 252px\"\r\n                @change=\"changeVoice()\"\r\n              >\r\n                <el-option\r\n                  v-for=\"(item, index) in voiceList\"\r\n                  :key=\"index\"\r\n                  :label=\"voiceNameFormat(item)\"\r\n                  :value=\"index\"\r\n                >\r\n                  <span\r\n                    style=\"\r\n                      width: 280px;\r\n                      float: right;\r\n                      color: var(--el-text-color-secondary);\r\n                      font-size: 14px;\r\n                    \"\r\n                    >{{ index + 1 + \" - \" + voiceNameFormat(item) }}</span\r\n                  >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div style=\"margin-top: 20px\">\r\n              <span>语速</span>\r\n              <el-slider\r\n                v-model=\"speechOptions.rate\"\r\n                :min=\"0.1\"\r\n                :max=\"3\"\r\n                :step=\"0.1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <span>音量</span>\r\n              <el-slider\r\n                v-model=\"speechOptions.volume\"\r\n                :min=\"0\"\r\n                :max=\"1\"\r\n                :step=\"0.05\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <span>音调</span>\r\n              <el-slider\r\n                v-model=\"speechOptions.pitch\"\r\n                :min=\"0\"\r\n                :max=\"2\"\r\n                :step=\"0.1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n            </div>\r\n            <el-divider border-style=\"dashed\" style=\"margin: 10px 0\"></el-divider>\r\n            <div>\r\n              <span>{{ \"定时 ( \" + speechTimeLeft + \" 分钟 )\" }} </span>\r\n              <el-slider\r\n                v-model=\"speechTimeLeft\"\r\n                show-stops\r\n                :min=\"0\"\r\n                :max=\"120\"\r\n                :step=\"10\"\r\n                class=\"setting-slider\"\r\n              />\r\n              <span style=\"margin-right: 20px\">开关</span>\r\n              <el-switch :disabled=\"!isSpeaking\" v-model=\"timedSpeechOpen\" @change=\"timedSpeech\" />\r\n            </div>\r\n            <el-divider border-style=\"dashed\" style=\"margin: 5px 0\"></el-divider>\r\n            <div style=\"margin-top: 20px\">\r\n              <!-- <span style=\"margin-right: 10px\">控制</span> -->\r\n              <el-button type=\"primary\" plain round @click=\"speechStart(0)\">开始</el-button>\r\n              <el-button type=\"primary\" plain round @click=\"speechResume\">继续</el-button>\r\n              <el-button type=\"primary\" plain round @click=\"speechPause\">暂停</el-button>\r\n              <el-button type=\"primary\" plain round @click=\"speechStop\">停止</el-button>\r\n            </div>\r\n          </div>\r\n          <template #reference>\r\n            <span\r\n              class=\"body-button voice\"\r\n              :style=\"'bottom: ' + -pageHeight + 'px'\"\r\n              @click=\"openVoice\"\r\n            >\r\n              <el-icon class=\"body-button-icon\" :size=\"32\"><VideoPlay /></el-icon>\r\n            </span>\r\n          </template>\r\n        </el-popover>\r\n        <!-- 设置 气泡卡片 -->\r\n        <el-popover\r\n          :visible=\"settingsVisible\"\r\n          popper-class=\"popover-settings\"\r\n          placement=\"bottom-end\"\r\n          :width=\"popoverWidth\"\r\n        >\r\n          <!-- 选项卡 -->\r\n          <el-tabs type=\"border-card\" style=\"min-height: 510px; user-select: none\">\r\n            <!-- 排版 -->\r\n            <el-tab-pane label=\"排版\">\r\n              <span>字号</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.fontSize\"\r\n                :min=\"12\"\r\n                :max=\"48\"\r\n                :step=\"1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>行间距</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.lineHeight\"\r\n                :min=\"1\"\r\n                :max=\"2\"\r\n                :step=\"0.1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>段间距</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.paraSpace\"\r\n                :min=\"0\"\r\n                :max=\"1\"\r\n                :step=\"0.1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>标题放大</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.titleScale\"\r\n                :min=\"1\"\r\n                :max=\"3\"\r\n                :step=\"0.1\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <el-divider border-style=\"dashed\" style=\"margin: 10px 0\" />\r\n              <span>上边距</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.paddingTop\"\r\n                :min=\"0\"\r\n                :max=\"40\"\r\n                :step=\"2\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>下边距</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.paddingBottom\"\r\n                :min=\"0\"\r\n                :max=\"40\"\r\n                :step=\"2\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>侧边距</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.paddingLR\"\r\n                :min=\"0\"\r\n                :max=\"40\"\r\n                :step=\"2\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n              <span>阅读器宽度</span>\r\n              <el-slider\r\n                v-model=\"sizeSettings.widthPercent\"\r\n                :min=\"20\"\r\n                :max=\"80\"\r\n                :step=\"5\"\r\n                show-input\r\n                class=\"setting-slider\"\r\n              />\r\n            </el-tab-pane>\r\n            <!-- 字体 -->\r\n            <el-tab-pane label=\"字体\">\r\n              <div>\r\n                <div style=\"margin-bottom: 10px\">字体</div>\r\n                <div\r\n                  style=\"margin: 2px 2px; display: inline-block\"\r\n                  v-for=\"(item, index) in fonts\"\r\n                  :key=\"index\"\r\n                >\r\n                  <el-button\r\n                    :type=\"sizeSettings.fontFamily == item ? 'primary' : 'default'\"\r\n                    @click=\"sizeSettings.fontFamily = item\"\r\n                    >{{ item }}</el-button\r\n                  >\r\n                </div>\r\n                <div style=\"margin-top: 15px\">预览效果</div>\r\n                <div\r\n                  :style=\"{\r\n                    'font-family': sizeSettings.fontFamily,\r\n                    margin: '5px 0',\r\n                    'text-align': 'center',\r\n                  }\"\r\n                >\r\n                  <div style=\"font-size: 30px\">Hello 这是预览</div>\r\n                  <div style=\"font-size: 24px\">Hello 这是预览</div>\r\n                  <div style=\"font-size: 18px\">Hello 这是预览</div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n            <!-- 颜色 -->\r\n            <el-tab-pane label=\"颜色\">\r\n              <div class=\"theme-setbar\">\r\n                <span style=\"margin-right: 10px\">主题</span>\r\n                <div style=\"float: right\">\r\n                  <template\r\n                    v-for=\"(i, index) in [\r\n                      [0, 0],\r\n                      [0, 1],\r\n                      [0, 2],\r\n                      [5, 4],\r\n                      [3, 8],\r\n                      [0, 5],\r\n                      [2, 9],\r\n                      [7, 8],\r\n                    ]\"\r\n                    :key=\"index\"\r\n                  >\r\n                    <span\r\n                      class=\"text-button\"\r\n                      :style=\"'color:' + textColors[i[0]] + ';background-color:' + bgColors[i[1]]\"\r\n                      @click=\"\r\n                        ;(colorSettings.textColor = textColors[i[0]]),\r\n                          (colorSettings.bgColor = bgColors[i[1]])\r\n                      \"\r\n                      >主题{{ index + 1 }}</span\r\n                    >\r\n                    <br v-if=\"index == 3\" /><br v-if=\"index == 3\" />\r\n                  </template>\r\n                </div>\r\n              </div>\r\n              <el-divider border-style=\"dashed\"></el-divider>\r\n              <div>\r\n                <span style=\"margin-right: 10px\">纹理</span>\r\n                <div style=\"float: right\">\r\n                  <span\r\n                    v-for=\"(item, index) in [\r\n                      require('./images/paper01.jpg'),\r\n                      require('./images/paper02.png'),\r\n                      require('./images/paper03.png'),\r\n                      require('./images/paper04.png'),\r\n                      require('./images/paper05.png'),\r\n                    ]\"\r\n                    :key=\"index\"\r\n                    class=\"text-button\"\r\n                    :style=\"{\r\n                      'margin-right': '5px',\r\n                      background: 'url(' + item + ')',\r\n                    }\"\r\n                    @click=\"colorSettings.bgColor = 'url(' + item + ')'\"\r\n                    >&emsp;&ensp;</span\r\n                  >\r\n                </div>\r\n              </div>\r\n              <el-divider border-style=\"dashed\"></el-divider>\r\n              <div class=\"color-setbar\" style=\"clear: right\">\r\n                <span>文字</span\r\n                ><el-color-picker\r\n                  v-model=\"colorSettings.textColor\"\r\n                  show-alpha\r\n                  :predefine=\"predefineColors\"\r\n                />\r\n                <div style=\"float: right; width: 180px; line-height: 30px\">\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in textColors.slice(0, 5)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.textColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in textColors.slice(5, 10)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.textColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"color-setbar\" style=\"clear: right\">\r\n                <span>背景</span\r\n                ><el-color-picker\r\n                  v-model=\"colorSettings.bgColor\"\r\n                  show-alpha\r\n                  :predefine=\"predefineColors\"\r\n                />\r\n                <div style=\"float: right; width: 180px; line-height: 30px\">\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in bgColors.slice(0, 5)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.bgColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in bgColors.slice(5, 10)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.bgColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"color-setbar\" style=\"clear: right\">\r\n                <span>边框</span\r\n                ><el-color-picker\r\n                  v-model=\"colorSettings.borderColor\"\r\n                  show-alpha\r\n                  :predefine=\"predefineColors\"\r\n                />\r\n                <div style=\"float: right; width: 180px; line-height: 30px\">\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in bgColors.slice(0, 5)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.borderColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                  <div>\r\n                    <el-button\r\n                      v-for=\"(item, index) in bgColors.slice(5, 10)\"\r\n                      :key=\"index\"\r\n                      size=\"small\"\r\n                      :color=\"item\"\r\n                      @click=\"colorSettings.borderColor = item\"\r\n                      class=\"color-button\"\r\n                    ></el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-tab-pane>\r\n            <!-- 其他 -->\r\n            <el-tab-pane label=\"其他\">\r\n              <div style=\"margin-bottom: 10px\">\r\n                <div style=\"margin-bottom: 10px\">翻页效果</div>\r\n                <el-radio-group v-model=\"pageTurning\">\r\n                  <el-radio-button\r\n                    v-for=\"(item, index) in pageTurningModes\"\r\n                    :key=\"index\"\r\n                    :label=\"item\"\r\n                  />\r\n                </el-radio-group>\r\n                <div style=\"margin-top: 20px; margin-bottom: 10px\">默认设置</div>\r\n                <el-button @click=\"resetStyle\">恢复默认设置</el-button>\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n          <template #reference>\r\n            <span class=\"body-button settings\" @click=\"openSettings\">\r\n              <el-icon class=\"body-button-icon\" :size=\"32\"><Tools /></el-icon>\r\n            </span>\r\n          </template>\r\n        </el-popover>\r\n        <!-- 搜索 气泡卡片 -->\r\n        <el-popover\r\n          :visible=\"searchVisible\"\r\n          popper-class=\"popover-search\"\r\n          placement=\"bottom\"\r\n          :show-arrow=\"false\"\r\n          :width=\"popoverWidth\"\r\n          :offset=\"-30\"\r\n          @hide=\"tempParaIndex = null\"\r\n        >\r\n          <div style=\"margin: 10px 10px; user-select: none\">\r\n            <div style=\"display: flex; justify-content: center\">\r\n              <el-button\r\n                style=\"margin: 0 10px; align-self: center\"\r\n                size=\"small\"\r\n                icon=\"ArrowLeftBold\"\r\n                round\r\n                @click=\"handleSearch(keywords, true)\"\r\n              ></el-button>\r\n              <!-- <div style=\"display: inline-block; text-align: center; width: 180px\"> -->\r\n              <el-input\r\n                v-model=\"keywords\"\r\n                placeholder=\"全文搜索\"\r\n                prefix-icon=\"Search\"\r\n                clearable\r\n                @keyup.enter=\"handleSearch(keywords)\"\r\n              ></el-input>\r\n              <!-- </div> -->\r\n              <el-button\r\n                style=\"margin: 0 10px; align-self: center\"\r\n                size=\"small\"\r\n                icon=\"ArrowRightBold\"\r\n                round\r\n                @click=\"handleSearch(keywords)\"\r\n              ></el-button>\r\n            </div>\r\n          </div>\r\n          <template #reference>\r\n            <span\r\n              class=\"body-button search\"\r\n              :style=\"'left: ' + pageWidth / 2 + 'px'\"\r\n              @click=\"openSearch\"\r\n            >\r\n              <el-icon class=\"body-button-icon\" :size=\"30\"><Search /></el-icon>\r\n            </span>\r\n          </template>\r\n        </el-popover>\r\n        <!-- 阅读进度 气泡卡片 -->\r\n        <el-popover\r\n          :visible=\"progressVisible\"\r\n          placement=\"top\"\r\n          :show-arrow=\"false\"\r\n          :width=\"popoverWidth\"\r\n          :offset=\"-30\"\r\n        >\r\n          <div style=\"margin: 5px 10px; user-select: none\">\r\n            <div style=\"text-align: center\">\r\n              <span style=\"color: var(--el-text-color-secondary)\">当前进度：{{ progress }}%</span>\r\n            </div>\r\n            <div style=\"margin: 0\">\r\n              <el-button\r\n                style=\"margin-right: 20px\"\r\n                size=\"small\"\r\n                icon=\"ArrowLeftBold\"\r\n                round\r\n                @click=\"handleDebounce(prevChapter)\"\r\n              ></el-button>\r\n              <div style=\"display: inline-block; text-align: center; width: 180px\">\r\n                <el-slider\r\n                  v-model=\"progress\"\r\n                  :min=\"0\"\r\n                  :max=\"100\"\r\n                  :step=\"0.1\"\r\n                  :show-tooltip=\"false\"\r\n                  @click=\"jumpTo(progress)\"\r\n                  @change=\"jumpTo\"\r\n                />\r\n              </div>\r\n              <el-button\r\n                style=\"margin-left: 20px\"\r\n                size=\"small\"\r\n                icon=\"ArrowRightBold\"\r\n                round\r\n                @click=\"handleDebounce(nextChapter)\"\r\n              ></el-button>\r\n            </div>\r\n            <div style=\"text-align: center; margin-top: 5px\">\r\n              <span class=\"link-type\" style=\"font-size: 16px\" @click=\"addBookmark\">\r\n                <el-icon :size=\"18\" style=\"top: 4px\"><CirclePlus /></el-icon>\r\n                添加书签\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <template #reference>\r\n            <span\r\n              class=\"body-button progress\"\r\n              :style=\"'left: ' + pageWidth / 2 + 'px;bottom: ' + -pageHeight + 'px'\"\r\n              @click=\"openProgress\"\r\n            >\r\n              <el-icon class=\"body-button-icon\" :size=\"32\"><Odometer /></el-icon>\r\n            </span>\r\n          </template>\r\n        </el-popover>\r\n        <!-- Home键 -->\r\n        <span\r\n          class=\"body-button home\"\r\n          :style=\"'left: ' + pageWidth / 2 + 'px;bottom: ' + -pageHeight + 'px;visibility:visible'\"\r\n          @click=\"closePopover\"\r\n        >\r\n          <!-- fullscreen('reader-container') -->\r\n        </span>\r\n        <!-- 弹出菜单 -->\r\n        <el-popover\r\n          :visible=\"menuVisible\"\r\n          popper-class=\"popover-menu\"\r\n          :show-arrow=\"false\"\r\n          :placement=\"menuPlacement\"\r\n          :width=\"195\"\r\n          :offset=\"0\"\r\n        >\r\n          <div style=\"user-select: none\">\r\n            <div class=\"popmenu-title\">\r\n              <span>{{ limitText(getCurrentParaText(), 8) }}</span>\r\n              <el-icon\r\n                class=\"link-type\"\r\n                style=\"float: right; margin-bottom: 10px\"\r\n                :size=\"18\"\r\n                @click=\"menuVisible = false\"\r\n                ><CloseBold\r\n              /></el-icon>\r\n            </div>\r\n            <div style=\"clear: both\">\r\n              <el-button\r\n                class=\"menu-button-short\"\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"speechStart(currentPara), closePopover()\"\r\n                >开始朗读</el-button\r\n              >\r\n              <el-button\r\n                class=\"menu-button-short\"\r\n                style=\"margin-left: 9px\"\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"speechResume(), closePopover()\"\r\n                >继续朗读</el-button\r\n              >\r\n              <el-button\r\n                class=\"menu-button-short\"\r\n                style=\"margin-left: 0\"\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"speechPause(), closePopover()\"\r\n                >暂停朗读</el-button\r\n              >\r\n              <el-button\r\n                class=\"menu-button-short\"\r\n                style=\"margin-left: 9px\"\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"speechStop(), closePopover()\"\r\n                >停止朗读</el-button\r\n              >\r\n            </div>\r\n            <el-divider border-style=\"dashed\" style=\"margin: 5px 0\"></el-divider>\r\n            <el-input\r\n              v-model=\"noteRemark\"\r\n              placeholder=\"输入评论\"\r\n              prefix-icon=\"Edit\"\r\n              clearable\r\n              type=\"textarea\"\r\n              style=\"margin: 5px 0\"\r\n              resize=\"none\"\r\n              :autosize=\"{ minRows: 1, maxRows: 3 }\"\r\n              :maxlength=\"500\"\r\n              @keyup.enter=\"addNote(currentPara, noteRemark, noteColor, true)\"\r\n            ></el-input>\r\n            <el-button\r\n              class=\"menu-button\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon=\"Plus\"\r\n              plain\r\n              @click=\"addNote(currentPara, noteRemark, noteColor, true)\"\r\n              >{{ searchMarkedPara(currentPara) > -1 ? \"修改\" : \"添加\" }}笔记</el-button\r\n            >\r\n            <el-button\r\n              v-show=\"searchMarkedPara(currentPara) > -1\"\r\n              class=\"menu-button\"\r\n              style=\"margin-left: 0\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon=\"Minus\"\r\n              plain\r\n              @click=\"handleDeleteNote(currentPara)\"\r\n              >删除笔记</el-button\r\n            >\r\n            <div style=\"line-height: 30px\">\r\n              <div>\r\n                <el-button\r\n                  v-for=\"(item, index) in markedColors.slice(0, 5)\"\r\n                  :key=\"index\"\r\n                  size=\"small\"\r\n                  :color=\"item\"\r\n                  @click=\"noteColor = item\"\r\n                  :style=\"{\r\n                    border: noteColor == item ? '1px dashed #222' : '1px solid #FFF',\r\n                  }\"\r\n                ></el-button>\r\n              </div>\r\n              <div>\r\n                <el-button\r\n                  v-for=\"(item, index) in markedColors.slice(5, 10)\"\r\n                  :key=\"index\"\r\n                  size=\"small\"\r\n                  :color=\"item\"\r\n                  @click=\"noteColor = item\"\r\n                  :style=\"{\r\n                    border: noteColor == item ? '1px dashed #222' : '1px solid #FFF',\r\n                  }\"\r\n                ></el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <template #reference>\r\n            <span\r\n              :style=\"{ position: 'absolute', left: menuOffsetX + 'px', top: menuOffsetY + 'px' }\"\r\n            ></span>\r\n          </template>\r\n        </el-popover>\r\n      </div>\r\n\r\n      <!-- ////////// 正文 ////////// -->\r\n      <div\r\n        class=\"reader-body\"\r\n        ref=\"readerBody\"\r\n        :style=\"{\r\n          'font-size': sizeSettings.fontSize + 'px',\r\n          'font-family': sizeSettings.fontFamily,\r\n          'line-height': sizeSettings.lineHeight,\r\n          'padding-top': sizeSettings.paddingTop + 'px',\r\n          'padding-bottom': sizeSettings.paddingBottom + 'px',\r\n          'padding-left': sizeSettings.paddingLR + 'px',\r\n          'padding-right': sizeSettings.paddingLR + 'px',\r\n          height: pageHeight + 'px',\r\n          color: colorSettings.textColor,\r\n          background: colorSettings.bgColor,\r\n          'background-position': Math.floor((currentPage / (pageList.length ?? 1)) * 100) + '%',\r\n          overflow: pageTurning == '滚动' ? 'auto' : 'visible',\r\n        }\"\r\n        @click=\"closePopover\"\r\n        @mousedown=\"closePopupMenu\"\r\n        @mouseup.prevent=\"handleMouseup\"\r\n      >\r\n        <!-- 开头段落（判断是否首行缩进） -->\r\n        <p\r\n          v-if=\"hasNoIndentPara()\"\r\n          class=\"main-para\"\r\n          :style=\"{\r\n            margin: sizeSettings.paraSpace * sizeSettings.fontSize + 'px 0',\r\n            'text-indent': 0,\r\n            color: getParaTextColor(0),\r\n            'background-color': getParaBgColor(0),\r\n            'text-shadow': getTextShadow(0),\r\n          }\"\r\n          @click=\"speechFromPara(0)\"\r\n          @mousedown=\"currentPara = 0\"\r\n        >\r\n          {{ noIndentPara }}\r\n        </p>\r\n        <!-- 正常段落 -->\r\n        <p\r\n          v-for=\"(item, index) in indentParas\"\r\n          :key=\"index\"\r\n          class=\"main-para\"\r\n          :style=\"{\r\n            margin: sizeSettings.paraSpace * sizeSettings.fontSize + 'px 0',\r\n            'font-size': getParaFontSize(index) + 'px',\r\n            'font-weight': index == 0 && currentPage == 0 ? 'bold' : 'normal',\r\n            color: hasNoIndentPara() ? getParaTextColor(index + 1) : getParaTextColor(index),\r\n            'background-color': hasNoIndentPara()\r\n              ? getParaBgColor(index + 1)\r\n              : getParaBgColor(index),\r\n            'text-shadow': hasNoIndentPara() ? getTextShadow(index + 1) : getTextShadow(index),\r\n          }\"\r\n          @click=\"speechFromPara(noIndentPara == '' ? index : index + 1)\"\r\n          @mousedown=\"currentPara = noIndentPara == '' ? index : index + 1\"\r\n        >\r\n          {{ item }}\r\n        </p>\r\n      </div>\r\n\r\n      <!-- ////////// 底部 ////////// -->\r\n      <div class=\"reader-foot\">\r\n        <span class=\"footer-text\" style=\"float: left; text-align: left; margin-left: 10px\"\r\n          >{{\r\n            device == \"desktop\"\r\n              ? currentChapter + 1 + \" / \" + (chapterList.length ?? 0) + \" 章&emsp;\"\r\n              : \"\"\r\n          }}{{ currentPage + 1 + \" / \" + (pageList.length ?? 0) + \" 页\" }}</span\r\n        >\r\n        <span\r\n          v-if=\"device == 'desktop'\"\r\n          class=\"footer-text\"\r\n          style=\"float: right; text-align: right; margin-right: 10px\"\r\n          >字数：{{ getPageWordNum() }}/{{ getTotalWordNum() }}</span\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from \"vuex\"\r\nimport ConstantsMixin from \"./mixins/SettingConstants\"\r\nimport RepageMixin from \"./mixins/RepageHandler\"\r\nimport SpeechMixin from \"./mixins/SpeechHandler\"\r\n\r\nexport default {\r\n  name: \"YunReader\",\r\n  props: [\"changeMode\", \"inReader\", \"bookId\", \"bookName\", \"articleData\", \"chapterList\"],\r\n  mixins: [ConstantsMixin, RepageMixin, SpeechMixin],\r\n  data() {\r\n    return {\r\n      store: useStore(),\r\n      screenWidth: document.body.clientWidth,\r\n      screenHeight: document.body.clientHeight,\r\n      pageWidth: 960, //页面宽度\r\n      pageHeight: 1020, //页面高度\r\n      textareaWidth: 720, //正文内容宽度\r\n      textareaHeight: 900, //正文内容高度\r\n      popoverWidth: 342, //气泡卡片宽度\r\n      pageTurning: \"拟真\", //翻页方式\r\n      sizeSettings: {\r\n        fontFamily: \"Arial\",\r\n        fontSize: 18,\r\n        // fontWeight:'数值+px',\r\n        // fontStyle: 'italic',\r\n        lineHeight: 1.5, //行高（字高倍数）\r\n        paraSpace: 0.5, //段落间距（字高倍数）\r\n        titleScale: 2, //标题字体放大倍数\r\n        paddingTop: 20,\r\n        paddingBottom: 20,\r\n        paddingLR: 20,\r\n        widthPercent: 50,\r\n      },\r\n      colorSettings: {\r\n        textColor: \"#000000\",\r\n        bgColor: \"#EFEFEF\",\r\n        borderColor: \"#FAFAFA\",\r\n      },\r\n      //文本内容\r\n      pageList: [], //当前章节分页数组\r\n      noIndent: [], //首段首行不缩进的页\r\n      currentChapter: 0, //当前章，默认为0\r\n      currentPage: 0, //当前页，默认为0\r\n      currentPara: 0, //当前段落(鼠标按下时所在的段落)，默认为0\r\n      //语音朗读位置\r\n      readingChapter: 0, //正在朗读的章，默认为0\r\n      readingPage: 0, //正在朗读的页，默认为0\r\n      readingPara: 0, //正在朗读的段落，默认为0\r\n      //书签笔记\r\n      bookmarks: [], //书签\r\n      lastPosition: { chapter: 0, para: 0 }, //最后阅读的位置（书签）\r\n      notes: [], //笔记\r\n      noteRemark: \"\", //笔记评论\r\n      noteColor: \"\", //笔记标记颜色\r\n      // remarkRows: 2, //笔记评论输入框的默认行数\r\n      //进度与搜索\r\n      progress: 0, //当前阅读进度（百分比）\r\n      keywords: \"\", //搜索文本关键词\r\n      tempParaIndex: null, //临时记录段落索引，用于文本连续搜索\r\n      tempStartIndex: -1, //临时记录关键词索引，用于文本连续搜索\r\n      //目录性能优化\r\n      catalogRenderMax: 100, //目录列表要渲染的数量\r\n      catalogScrollPercent: 0, //目录滚动的位置对应的索引\r\n      catalogBeforeHeight: 0, //目录渲染区之前空白的高度\r\n      catalogAfterHeight: 0, //目录渲染区之后空白的高度\r\n      //定时器\r\n      timer: null,\r\n      messageTimer: null,\r\n      wheelTimer: null,\r\n      sizeSettingsTimer: null,\r\n      speechOptionTimer: null,\r\n      timedSpeechInterval: null,\r\n      autoSpeechTimer: null,\r\n      screenSizeTimer: null,\r\n      //其他\r\n      device: \"desktop\",\r\n      menuVisible: false, //弹出菜单显隐\r\n      menuOffsetX: 0, //弹出菜单位置X向偏移\r\n      menuOffsetY: 0, //弹出菜单位置Y向偏移\r\n      menuPlacement: \"bottom\", //菜单弹出位置\r\n      settingsVisible: false, //选项设置弹窗显隐\r\n      catalogVisible: false, //目录弹窗显隐\r\n      voiceVisible: false, //语音朗读弹窗显隐\r\n      searchVisible: false, //搜索弹窗显隐\r\n      progressVisible: false, //阅读进度弹窗显隐\r\n      isWheelLocked: false, //是否锁定阅读界面鼠标响应\r\n      turnLocked: false, //翻页锁定(避免翻页过快或者章和页同时变化时的翻页冲突)\r\n      // isMouseDown: false, //鼠标是否被按下\r\n      //语音朗读\r\n      utterance: window.SpeechSynthesisUtterance ? new SpeechSynthesisUtterance() : null,\r\n      voiceList: [],\r\n      voiceIndex: \"默认\",\r\n      speechOptions: {\r\n        rate: 1,\r\n        volume: 1,\r\n        pitch: 1,\r\n        voiceIndex: 0,\r\n      },\r\n      isSpeaking: false, //语言朗读是否在进行\r\n      isPaused: false, //语言朗读是否处于暂停状态(不能用speechSynthesis.paused代替，因为它永远是false)\r\n      speechTimeLeft: 60, //语音朗读定时剩余时间（分钟）\r\n      timedSpeechOpen: false, //语音朗读定时是否启动\r\n      readingStatus: {\r\n        paraIndex: -1,\r\n        chapterIndex: -1,\r\n        time: 0,\r\n      }, //这个状态用于朗读卡死时重新从当前段落开始朗读\r\n    }\r\n  },\r\n  created() {\r\n    // var url = \"http://192.168.0.113:8080/#/article/book\"\r\n    // window.open(\r\n    //   url,\r\n    //   \"readerWindow\",\r\n    //   \"alwaysRaised=yes,z-look=yes,toolbar=no,location=no,resizable=no,height=960,width=800,,scrollbars=yes,left=380,top=300\"\r\n    // )\r\n  },\r\n  beforeMount() {},\r\n  mounted() {\r\n    const sizeSettings = localStorage.getItem(\"SIZE_SETTINGS\")\r\n    if (sizeSettings && sizeSettings.length) this.sizeSettings = JSON.parse(sizeSettings) //设置排版尺寸\r\n    const colorSettings = localStorage.getItem(\"COLOR_SETTINGS\")\r\n    if (colorSettings && colorSettings.length) this.colorSettings = JSON.parse(colorSettings) //设置页面配色\r\n    const pageTurning = localStorage.getItem(\"PAGE_TURNING\")\r\n    if (pageTurning && pageTurning.length) this.pageTurning = pageTurning //设置翻页方式\r\n    const speechOptions = localStorage.getItem(\"SPEECH_OPTIONS\")\r\n    if (speechOptions && speechOptions.length) this.speechOptions = JSON.parse(speechOptions) //设置语音参数\r\n    this.voiceIndex = this.speechOptions.voiceIndex\r\n    this.device = this.store.state.app.device\r\n    this.pageInit()\r\n    const lastPosition = localStorage.getItem(\r\n      \"LASTPOSITION_\" + this.bookId,\r\n      JSON.stringify(this.lastPosition)\r\n    )\r\n    if (lastPosition) {\r\n      this.lastPosition = JSON.parse(lastPosition)\r\n      this.currentChapter = this.lastPosition.chapter\r\n      this.currentPage = this.getPageIndex(this.lastPosition.para)\r\n    }\r\n\r\n    //监听浏览器尺寸\r\n    window.onresize = () => {\r\n      return (() => {\r\n        this.screenWidth = document.body.clientWidth\r\n        this.screenHeight = document.body.clientHeight\r\n      })()\r\n    }\r\n    // 监听键盘按键\r\n    document.onkeydown = () => {\r\n      // 注意this的作用域，如果函数定义为function，使用var that = this\r\n      // 如果定义为lambda表达式则不需要\r\n      switch (window.event.keyCode) {\r\n        case 37:\r\n          this.handleDebounce(this.prevPage)\r\n          break\r\n        case 38:\r\n          this.handleDebounce(this.prevChapter)\r\n          break\r\n        case 39:\r\n          this.handleDebounce(this.nextPage)\r\n          break\r\n        case 40:\r\n          this.handleDebounce(this.nextChapter)\r\n          break\r\n      }\r\n    }\r\n    // document.onmousedown = () => (this.isMouseDown = true)\r\n    // document.onmouseup = () => (this.isMouseDown = false)\r\n    //屏蔽正文区域系统右键菜单\r\n    this.$refs.readerBody.oncontextmenu = function () {\r\n      return false\r\n    }\r\n    //先取出闭包函数，再给onscroll，不能直接给\r\n    const setRenderArea = this.handleThrottle(this.setRenderArea, 100)\r\n    this.$refs.catalogPane.onscroll = () => {\r\n      setRenderArea()\r\n    }\r\n    // window.onerror = function (message, source, line, column, error) {\r\n    //   alert(message)\r\n    // }\r\n    // console.log(\"测试：\", this.measureText(\"‘\", 20))\r\n  },\r\n  methods: {\r\n    //#region 其他\r\n    // 根据设备类型设置页面尺寸\r\n    pageInit() {\r\n      if (this.device == \"desktop\") {\r\n        const percent = this.sizeSettings.widthPercent ? this.sizeSettings.widthPercent : 50\r\n        this.pageWidth = this.screenWidth * (percent / 100)\r\n        this.pageHeight = window.innerHeight - 220\r\n      } else if (this.store.state.app.device == \"mobile\") {\r\n        this.pageWidth = this.screenWidth * 0.95\r\n        this.pageHeight = window.screen.height - 100\r\n        // alert(this.textareaWidth + \",\" + this.pageHeight + \",\" + this.textareaHeight)\r\n      }\r\n      //正文内容（盒子最内侧）宽度，一定要算准，否则分页效果会出问题\r\n      this.textareaWidth = this.pageWidth - this.sizeSettings.paddingLR * 2\r\n      if (this.pageTurning == \"滚动\") {\r\n        this.textareaHeight = 100000\r\n      } else {\r\n        this.textareaHeight =\r\n          this.pageHeight - this.sizeSettings.paddingTop - this.sizeSettings.paddingBottom\r\n      }\r\n      console.log(\r\n        `宽:${this.pageWidth}(${this.textareaWidth}) , 高:${this.pageHeight}(${this.textareaHeight})`\r\n      )\r\n    },\r\n    // 设置目录动态渲染区域的相关参数\r\n    setRenderArea() {\r\n      const h = 30\r\n      const max = this.chapterList.length * h\r\n      const scrollTop = this.$refs.catalogPane.scrollTop\r\n      const len = this.chapterListRendered.length * h\r\n      const before = Math.max(scrollTop - len / 2, 0)\r\n      const after = max - before - len\r\n      // console.log(before, len, after, \"before + len + after =\", before + len + after)\r\n      this.catalogScrollPercent = scrollTop / max\r\n      this.catalogBeforeHeight = before\r\n      this.catalogAfterHeight = after > 0 ? after : 150\r\n      this.$nextTick(() => {\r\n        this.$refs.catalogPane.scrollTop = scrollTop\r\n      })\r\n    },\r\n    // 通过定时器实现防抖\r\n    handleDebounce(fn, wait = 100) {\r\n      clearTimeout(this.timer) //清除定时器\r\n      this.timer = setTimeout(() => {\r\n        fn()\r\n      }, wait)\r\n    },\r\n    // 通过定时器实现节流\r\n    handleThrottle(fn, wait = 100) {\r\n      let lock = true\r\n      return function () {\r\n        if (lock) {\r\n          lock = false //关锁\r\n          setTimeout(() => {\r\n            fn()\r\n            lock = true //开锁\r\n          }, wait)\r\n        }\r\n      }\r\n    },\r\n    // 组合函数并执行\r\n    combineFn(fns, args) {\r\n      fns.forEach((fn, index) => fn(...args[index]))\r\n    },\r\n    // 对$message函数进行封装便于防抖\r\n    showMessage(obj) {\r\n      clearTimeout(this.messageTimer) //清除定时器\r\n      this.messageTimer = setTimeout(() => this.$message(obj), 200)\r\n    },\r\n    // 全屏\r\n    fullscreen(className) {\r\n      // 获取需要全屏展示的div\r\n      let fullarea = document.getElementsByClassName(className)[0]\r\n      if (!document.fullscreenElement) {\r\n        // 全屏\r\n        fullarea.requestFullscreen()\r\n        // alert(fullarea)\r\n      } else {\r\n        // 退出全屏\r\n        if (document.exitFullscreen) {\r\n          document.exitFullscreen()\r\n        }\r\n      }\r\n    },\r\n    //恢复默认设置\r\n    resetStyle() {\r\n      this.sizeSettings = {\r\n        fontFamily: \"Arial\",\r\n        fontSize: 18,\r\n        lineHeight: 1.5, //行高（字高倍数）\r\n        paraSpace: 0.5, //段落间距（字高倍数）\r\n        titleScale: 2, //标题字体放大倍数\r\n        paddingTop: 20,\r\n        paddingBottom: 20,\r\n        paddingLR: 20,\r\n        widthPercent: 50,\r\n      }\r\n      this.colorSettings = {\r\n        textColor: \"#000000\",\r\n        bgColor: \"#EFEFEF\",\r\n        borderColor: \"#FAFAFA\",\r\n      }\r\n    },\r\n    //#endregion\r\n\r\n    //#region 翻页\r\n    //上一章\r\n    prevChapter() {\r\n      if (this.currentChapter > 0) {\r\n        this.currentChapter--\r\n        this.clearSelection()\r\n      } else {\r\n        this.showMessage({\r\n          message: \"已到达第一章\",\r\n          type: \"info\",\r\n          duration: 1000,\r\n        })\r\n      }\r\n    },\r\n    // 首页\r\n    firstPage() {\r\n      // eslint-disable-next-line no-unused-expressions\r\n      this.currentPage = 0\r\n      this.clearSelection()\r\n    },\r\n    // 上一页\r\n    prevPage() {\r\n      if (this.currentPage === 0) {\r\n        if (this.currentChapter > 0) {\r\n          this.currentChapter--\r\n          this.$nextTick(() => {\r\n            this.lastPage()\r\n            this.clearSelection()\r\n          })\r\n        } else {\r\n          this.showMessage({\r\n            message: \"已到达第一页\",\r\n            type: \"info\",\r\n            duration: 1000,\r\n          })\r\n        }\r\n      } else {\r\n        this.currentPage--\r\n        this.clearSelection()\r\n      }\r\n    },\r\n    // 下一页\r\n    nextPage() {\r\n      if (this.currentPage === this.pageTotal - 1) {\r\n        if (this.currentChapter < this.chapterList.length - 1) {\r\n          this.currentChapter++\r\n          this.clearSelection()\r\n        } else {\r\n          this.showMessage({\r\n            message: \"已到达最后一页\",\r\n            type: \"info\",\r\n            duration: 1000,\r\n          })\r\n        }\r\n        // return false\r\n      } else {\r\n        this.currentPage++\r\n        this.clearSelection()\r\n      }\r\n    },\r\n    // 尾页\r\n    lastPage() {\r\n      if (this.currentPage === this.pageTotal - 1) {\r\n        return false\r\n      } else {\r\n        this.currentPage = this.pageTotal - 1\r\n        this.clearSelection()\r\n      }\r\n    },\r\n    //下一章\r\n    nextChapter() {\r\n      if (this.currentChapter < this.chapterList.length - 1) {\r\n        this.currentChapter++\r\n        this.clearSelection()\r\n      } else {\r\n        this.showMessage({\r\n          message: \"已到达最后一章\",\r\n          type: \"info\",\r\n          duration: 1000,\r\n        })\r\n      }\r\n    },\r\n    jumpTo(val) {\r\n      this.currentChapter = Math.floor(((this.chapterList.length - 1) * val) / 100)\r\n      this.clearSelection()\r\n    },\r\n    //处理鼠标滚轮事件\r\n    wheelHandle(e) {\r\n      if (!this.isWheelLocked && this.pageTurning != \"滚动\") {\r\n        const debounce = 50\r\n        if (e.deltaY > 0) {\r\n          //向下 wheelDelta <0\r\n          clearTimeout(this.wheelTimer) //清除定时器\r\n          this.wheelTimer = setTimeout(() => this.nextPage(), debounce)\r\n        } else if (e.deltaY < 0) {\r\n          //向上 wheelDelta >0\r\n          clearTimeout(this.wheelTimer) //清除定时器\r\n          this.wheelTimer = setTimeout(() => this.prevPage(), debounce)\r\n        }\r\n      }\r\n    },\r\n    //翻页动画\r\n    animatePage(reverse) {\r\n      let parent = document.querySelector(\".reader-container\")\r\n      let page = document.querySelector(\".reader-body\")\r\n      let oldPage = page.cloneNode(1) //复制节点，作为旧页面\r\n      const width = this.pageWidth\r\n      oldPage.style.position = \"absolute\"\r\n      oldPage.style.width = width + \"px\"\r\n      oldPage.style.left = \"10px\"\r\n      oldPage.style.top = \"30px\"\r\n      oldPage.style.boxShadow = (reverse ? -1 : 1) * 6 + \"px 0px 6px 1px rgb(128 131 137 / 25%)\"\r\n      // oldPage.style.transform = \"rotateX(30deg)\"\r\n      parent.appendChild(oldPage) //旧页面节点加入DOM\r\n      let timeout //翻页动作时长\r\n      let keyframes //动画关键帧\r\n      if (this.pageTurning == \"覆盖\") {\r\n        timeout = 400 //翻页动作时长\r\n        const deltaX = (reverse ? 1 : -1) * width\r\n        keyframes = [\r\n          { transform: \"translateX(0px)\" },\r\n          { transform: \"translateX(\" + deltaX * 0.5 + \"px)\" },\r\n          { transform: \"translateX(\" + deltaX * 0.9 + \"px)\" },\r\n          { transform: \"translateX(\" + deltaX + \"px)\" },\r\n        ]\r\n      } else if (this.pageTurning == \"平移\") {\r\n        timeout = 400 //翻页动作时长\r\n        const deltaX = (reverse ? 1 : -1) * width\r\n        keyframes = [\r\n          { transform: \"translateX(0px)\" },\r\n          { transform: \"translateX(\" + deltaX * 0.5 + \"px)\" },\r\n          { transform: \"translateX(\" + deltaX * 0.9 + \"px)\" },\r\n          { transform: \"translateX(\" + deltaX + \"px)\" },\r\n        ]\r\n        //DOM更新后复制的页面才是新页面\r\n        this.$nextTick(() => {\r\n          let newPage = page.cloneNode(1) //复制节点，作为临时的新页面\r\n          newPage.style.position = \"absolute\"\r\n          newPage.style.width = width + \"px\"\r\n          newPage.style.left = (reverse ? -1 : 1) * width + 10 + \"px\"\r\n          newPage.style.top = \"30px\"\r\n          parent.appendChild(newPage) //临时新页面节点加入DOM\r\n          // 新页面开启动画\r\n          newPage.animate(keyframes, {\r\n            duration: timeout, // 动画时长 (单位毫秒)\r\n            iterations: 1, // 重复次数 (无限循环：Infinity)\r\n            fill: \"forwards\", // 结束时不复位\r\n            delay: 0, // 设置动画延迟时长 (单位毫秒)\r\n            easing: \"ease-out\", // 设置动画 运动速率 (linear: 匀速)\r\n          })\r\n          setTimeout(() => {\r\n            parent.removeChild(newPage) //移除临时新页面\r\n          }, timeout)\r\n        })\r\n      } else if (this.pageTurning == \"拟真\") {\r\n        timeout = 1200 //翻页动作时长\r\n        oldPage.style.transformOrigin = reverse ? \"right\" : \"left\"\r\n        keyframes = reverse\r\n          ? [\r\n              { transform: \"rotateY(0)\" },\r\n              { transform: \"rotateY(100deg)\" },\r\n              { transform: \"rotateY(180deg)\" },\r\n            ]\r\n          : [\r\n              { transform: \"rotateY(0deg)\" },\r\n              { transform: \"rotateY(-100deg)\" },\r\n              { transform: \"rotateY(-180deg)\" },\r\n            ]\r\n      }\r\n      //旧页面开启动画\r\n      oldPage.animate(keyframes, {\r\n        duration: timeout, // 动画时长 (单位毫秒)\r\n        iterations: 1, // 重复次数 (无限循环：Infinity)\r\n        fill: \"forwards\", // 结束时不复位\r\n        delay: 0, // 设置动画延迟时长 (单位毫秒)\r\n        easing: \"ease-out\", // 设置动画 运动速率 (linear: 匀速)\r\n      })\r\n      setTimeout(() => {\r\n        parent.removeChild(oldPage) //移除旧页面\r\n      }, timeout)\r\n    },\r\n    //#endregion\r\n\r\n    //#region 功能操作\r\n    // 点击正文时关闭其他弹窗\r\n    closePopover() {\r\n      this.menuVisible = false\r\n      this.settingsVisible = false\r\n      this.voiceVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n      this.closeCatalog()\r\n      this.$refs.readerBody.oncontextmenu = function () {\r\n        return false //屏蔽右键菜单\r\n      }\r\n    },\r\n    // 返回\r\n    handleGoBack() {\r\n      this.menuVisible = false\r\n      this.settingsVisible = false\r\n      this.voiceVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n      this.closeCatalog() //关闭目录\r\n      this.speechStop() //停止语音朗读\r\n      this.changeMode()\r\n    },\r\n    // 打开目录\r\n    openCatalog() {\r\n      // const timeStart = performance.now()\r\n      this.menuVisible = false\r\n      this.settingsVisible = false\r\n      this.voiceVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n      this.catalogVisible = true\r\n      this.isWheelLocked = true\r\n      //目录自动定位到当前章节所在位置\r\n      this.$nextTick(() => {\r\n        //当前章节百分比\r\n        const percent = this.currentChapter / this.chapterList.length\r\n        //滚动条总高度，30是height(不是字体高度) + 上下margin，\r\n        const scrollMax = this.chapterList.length * 30\r\n        //下面定位到当前章节所在位置，使当前章节出现在大约1/3高度\r\n        this.$refs.catalogPane.scrollTop = percent * scrollMax - (this.pageHeight - 120) / 3\r\n      })\r\n      //读取书签记录\r\n      const bookmarks = localStorage.getItem(\"BOOKMARKS_\" + this.bookId)\r\n      if (bookmarks) this.bookmarks = JSON.parse(bookmarks)\r\n      // console.log(performance.now() - timeStart)\r\n    },\r\n    // 目录中选择了章节\r\n    selectChapter(val) {\r\n      this.currentChapter = val\r\n      this.closeCatalog()\r\n    },\r\n    // 打开选项板\r\n    openSettings() {\r\n      this.settingsVisible = !this.settingsVisible\r\n      this.menuVisible = false\r\n      this.voiceVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n    },\r\n    // 打开语音朗读面板\r\n    openVoice() {\r\n      this.voiceVisible = !this.voiceVisible\r\n      this.menuVisible = false\r\n      this.settingsVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n      this.voiceInit()\r\n    },\r\n    // 初始化语音发音人\r\n    voiceInit() {\r\n      if (this.speechOptions && this.speechOptions.voiceIndex) {\r\n        this.voiceIndex = this.speechOptions.voiceIndex\r\n      }\r\n      if (!this.voiceList || this.voiceList.length == 0) {\r\n        this.getVoiceList()\r\n      }\r\n    },\r\n    // 打开搜索面板\r\n    openSearch() {\r\n      this.searchVisible = !this.searchVisible\r\n      this.menuVisible = false\r\n      this.voiceVisible = false\r\n      this.settingsVisible = false\r\n      this.progressVisible = false\r\n    },\r\n    // 打开进度面板\r\n    openProgress() {\r\n      this.progressVisible = !this.progressVisible\r\n      this.menuVisible = false\r\n      this.voiceVisible = false\r\n      this.settingsVisible = false\r\n      this.searchVisible = false\r\n    },\r\n    // 关闭目录面板\r\n    closeCatalog() {\r\n      this.catalogVisible = false\r\n      this.isWheelLocked = false\r\n      this.searchVisible = false\r\n    },\r\n    // 文本搜索\r\n    handleSearch(keywords, reverse = false) {\r\n      let index = -1\r\n      let paraIndex = 0\r\n      let chapterIndex = this.currentChapter\r\n      let paras = this.list //this.chapterList[chapterIndex] ? this.chapterList[chapterIndex].content : []\r\n      //注意：null >= 0 为 true\r\n      if (this.tempParaIndex && this.tempParaIndex >= 0) {\r\n        paraIndex = this.tempParaIndex\r\n      } else if (reverse && this.tempParaIndex == -1) {\r\n        chapterIndex -= 1\r\n        paras = this.chapterList[chapterIndex] ? this.chapterList[chapterIndex].content : []\r\n        paraIndex = paras.length - 1\r\n      } else {\r\n        paraIndex = this.getParaIndexCh(0)\r\n      }\r\n      while (chapterIndex < this.chapterList.length && chapterIndex >= 0) {\r\n        while (paraIndex < paras.length && paraIndex >= 0) {\r\n          //开始查找\r\n          if (reverse) {\r\n            const start =\r\n              this.tempStartIndex == -1 ? paras[paraIndex].length - 1 : this.tempStartIndex\r\n            index = paras[paraIndex].lastIndexOf(keywords, start - 1)\r\n          } else {\r\n            index = paras[paraIndex].indexOf(keywords, this.tempStartIndex + 1)\r\n          }\r\n          //如果找到了\r\n          if (index > -1) {\r\n            this.tempStartIndex = index\r\n            //切换到对应章节\r\n            this.currentChapter = chapterIndex\r\n            //先换章，下一次DOM更新时再换页，否则是先换页再换章\r\n            this.$nextTick(() => {\r\n              //先换页\r\n              this.currentPage = this.getPageIndex(paraIndex)\r\n              //下一次DOM更新时再选中文本\r\n              this.$nextTick(() => {\r\n                const paraIndexOfPage = this.getParaIndex(paraIndex)\r\n                let startOffset = index\r\n                let endOffset = index + keywords.length\r\n                const paraLength = this.pageList[this.currentPage][paraIndexOfPage].length\r\n                //如果终点超出了段落长度，终点在下一页（可能遇到了页面最后一段）\r\n                if (endOffset > paraLength) {\r\n                  //并且起点没超出段落长度，起点在当前页\r\n                  if (startOffset < paraLength) {\r\n                    endOffset = paraLength //只选中关键词前一部分，终点就是段落前一部分结尾\r\n                    //否则说明关键词整个都在下一页\r\n                  } else {\r\n                    //先换页\r\n                    this.currentPage++\r\n                    //下次DOM更新时再选中文本\r\n                    this.$nextTick(() => {\r\n                      const selector = \".main-para:nth-child(1)\"\r\n                      this.getSelection(selector, startOffset - paraLength, endOffset - paraLength)\r\n                    })\r\n                    //避免连续搜索时一直搜到本次的结果，要放在nextTick外面\r\n                    this.tempParaIndex = paraIndex // + (reverse ? -1 : 1)\r\n                    return //要放在nextTick外面\r\n                  }\r\n                }\r\n                const selector = \".main-para:nth-child(\" + (paraIndexOfPage + 1) + \")\"\r\n                this.getSelection(selector, startOffset, endOffset)\r\n                if (this.pageTurning === \"滚动\") {\r\n                  this.$el\r\n                    .querySelector(selector)\r\n                    .scrollIntoView({ behavior: \"smooth\", block: \"center\" })\r\n                }\r\n              })\r\n            })\r\n            //避免连续搜索时一直搜到本次的结果，要放在nextTick外面\r\n            if (reverse && paras[paraIndex].lastIndexOf(keywords, index - 1) == index) {\r\n              this.tempParaIndex = paraIndex - 1\r\n            } else {\r\n              this.tempParaIndex = paraIndex // + (reverse ? -1 : 1)\r\n            }\r\n            return //要放在nextTick外面\r\n          } else {\r\n            paraIndex += reverse ? -1 : 1\r\n            this.tempStartIndex = -1\r\n          }\r\n        }\r\n        chapterIndex += reverse ? -1 : 1\r\n        if (chapterIndex == this.chapterList.length) {\r\n          this.showMessage({ message: \"后面没有了\", type: \"info\", duration: 1000 })\r\n        } else if (chapterIndex < 0) {\r\n          this.showMessage({ message: \"前面没有了\", type: \"info\", duration: 1000 })\r\n        } else {\r\n          paras = this.chapterList[chapterIndex] ? this.chapterList[chapterIndex].content : []\r\n          paraIndex = reverse ? paras.length - 1 : 0\r\n        }\r\n      }\r\n    },\r\n    // 鼠标按键松开\r\n    handleMouseup(e) {\r\n      //如果是鼠标右键\r\n      if (e.button == 2) {\r\n        this.openPopupMenu(e)\r\n      }\r\n    },\r\n    // 打开弹出菜单\r\n    openPopupMenu(e) {\r\n      this.settingsVisible = false\r\n      this.voiceVisible = false\r\n      this.searchVisible = false\r\n      this.progressVisible = false\r\n      this.catalogVisible = false\r\n      // e.offsetX, e.offsetY, e.pageX, e.pageY, e.clientX, e.clientY\r\n      // console.log(e.layerX, e.layerY)\r\n      if (e.layerX || e.layerY) {\r\n        this.menuOffsetX = e.layerX\r\n        this.menuOffsetY = e.layerY\r\n        const menuW = 240\r\n        const menuH = 360\r\n        if (e.layerY > this.pageHeight - menuH) {\r\n          if (e.layerX > this.pageWidth - menuW) this.menuPlacement = \"top-end\"\r\n          else this.menuPlacement = \"top-start\"\r\n        } else {\r\n          if (e.layerX > this.pageWidth - menuW) this.menuPlacement = \"bottom-end\"\r\n          else this.menuPlacement = \"bottom-start\"\r\n        }\r\n      }\r\n      const search = this.searchMarkedPara(this.currentPara)\r\n      if (search > -1) {\r\n        this.noteRemark = this.notes[search].remark\r\n        this.noteColor = this.notes[search].color\r\n      } else {\r\n        this.noteRemark = \"\"\r\n        if (this.noteColor == \"\") this.noteColor = this.markedColors[0]\r\n      }\r\n      this.menuVisible = true\r\n      this.voiceInit()\r\n    },\r\n    // 关闭弹出菜单\r\n    closePopupMenu() {\r\n      this.menuVisible = false\r\n    },\r\n    // 在笔记列表中查找当前段落，返回在笔记列表中的索引\r\n    searchMarkedPara(index) {\r\n      for (let i in this.notes) {\r\n        const page = this.getPageIndex(this.notes[i].para)\r\n        const para = this.getParaIndex(this.notes[i].para)\r\n        if (\r\n          this.notes[i].chapter == this.currentChapter &&\r\n          ((page == this.currentPage && para == index) ||\r\n            (this.noIndentPara != \"\" &&\r\n              index == 0 &&\r\n              page == this.currentPage - 1 &&\r\n              this.getPageIndex(this.notes[i].para + 1) == this.currentPage))\r\n        ) {\r\n          return i\r\n        }\r\n      }\r\n      return -1\r\n    },\r\n    //添加笔记\r\n    addNote(index, remark = \"\", color = this.markedColors[0], update = false) {\r\n      // const notes = localStorage.getItem(\"NOTES_\" + this.bookId)\r\n      // if (notes) this.notes = JSON.parse(notes)\r\n      const search = this.searchMarkedPara(index)\r\n      if (search > -1) {\r\n        if (update || remark != \"\") {\r\n          let note = this.notes[search]\r\n          note.remark = remark\r\n          note.color = color\r\n          this.updateNote(search, note)\r\n        } else this.deleteNote(search)\r\n      } else {\r\n        const note = {\r\n          chapter: this.currentChapter,\r\n          para: this.getParaIndexCh(index),\r\n          time: new Date().toLocaleDateString().replaceAll(\"/\", \"-\"),\r\n          remark: remark,\r\n          color: color,\r\n        }\r\n        this.notes.push(note)\r\n        localStorage.setItem(\"NOTES_\" + this.bookId, JSON.stringify(this.notes))\r\n        this.setTextStyle()\r\n        this.showMessage({ message: \"笔记已添加\", type: \"success\", duration: 1000 })\r\n      }\r\n      this.closePopover()\r\n    },\r\n    //更新指定笔记\r\n    updateNote(index, note) {\r\n      this.notes.splice(index, 1, note)\r\n      localStorage.setItem(\"NOTES_\" + this.bookId, JSON.stringify(this.notes))\r\n      this.setTextStyle()\r\n    },\r\n    //删除指定笔记\r\n    deleteNote(index) {\r\n      this.notes.splice(index, 1)\r\n      if (this.notes.length > 0) {\r\n        localStorage.setItem(\"NOTES_\" + this.bookId, JSON.stringify(this.notes))\r\n      } else {\r\n        //如果书签列表是空的，则清除存储记录\r\n        localStorage.removeItem(\"NOTES_\" + this.bookId)\r\n      }\r\n      this.setTextStyle()\r\n    },\r\n    handleDeleteNote(para) {\r\n      this.deleteNote(this.searchMarkedPara(para))\r\n      this.closePopover()\r\n    },\r\n    //跳转到指定笔记的位置\r\n    jumpToNote(index) {\r\n      console.log(index, this.notes[index].chapter, this.notes[index].para)\r\n      this.currentChapter = this.notes[index].chapter\r\n      this.$nextTick(() => {\r\n        console.log(this.getPageIndex(this.notes[index].para))\r\n        this.currentPage = this.getPageIndex(this.notes[index].para)\r\n      })\r\n      this.closeCatalog()\r\n    },\r\n    //获取笔记预览内容\r\n    getNotePreview(index) {\r\n      const paras = this.chapterList[this.notes[index].chapter].content\r\n      const paraIndex = this.notes[index].para\r\n      let result = \"\"\r\n      if (paras[paraIndex].length < 40) {\r\n        result = paras[paraIndex] + \"...\"\r\n      } else {\r\n        result = paras[paraIndex].slice(0, 40) + \"...\"\r\n      }\r\n      return result\r\n    },\r\n    //添加书签\r\n    addBookmark() {\r\n      const bookmarks = localStorage.getItem(\"BOOKMARKS_\" + this.bookId)\r\n      if (bookmarks) this.bookmarks = JSON.parse(bookmarks)\r\n      const start = this.hasNoIndentPara() && this.pageList[this.currentPage].length > 0 ? 1 : 0\r\n      const bookmark = {\r\n        chapter: this.currentChapter,\r\n        para: this.getParaIndexCh(start),\r\n        time: new Date().toLocaleDateString().replaceAll(\"/\", \"-\"),\r\n      }\r\n      this.bookmarks.push(bookmark)\r\n      localStorage.setItem(\"BOOKMARKS_\" + this.bookId, JSON.stringify(this.bookmarks))\r\n      this.showMessage({ message: \"书签已添加\", type: \"success\", duration: 1000 })\r\n      this.closePopover()\r\n    },\r\n    //删除指定书签\r\n    deleteBookmark(index) {\r\n      this.bookmarks.splice(index, 1)\r\n      if (this.bookmarks.length > 0) {\r\n        localStorage.setItem(\"BOOKMARKS_\" + this.bookId, JSON.stringify(this.bookmarks))\r\n      } else {\r\n        //如果书签列表是空的，则清除存储记录\r\n        localStorage.removeItem(\"BOOKMARKS_\" + this.bookId)\r\n      }\r\n    },\r\n    //跳转到指定书签的位置\r\n    jumpToBookmark(index) {\r\n      console.log(index, this.bookmarks[index].chapter, this.bookmarks[index].para)\r\n      this.currentChapter = this.bookmarks[index].chapter\r\n      this.$nextTick(() => {\r\n        console.log(this.getPageIndex(this.bookmarks[index].para))\r\n        this.currentPage = this.getPageIndex(this.bookmarks[index].para)\r\n      })\r\n      this.closeCatalog()\r\n    },\r\n    //获取书签预览内容\r\n    getBookmarkPreview(index) {\r\n      const paras = this.chapterList[this.bookmarks[index].chapter].content\r\n      const paraIndex = this.bookmarks[index].para\r\n      let result = \"\"\r\n      if (paras[paraIndex].length < 20) {\r\n        result = paras[paraIndex]\r\n        if (paras[paraIndex + 1]) {\r\n          result += \"\\r\\n\" + paras[paraIndex + 1].slice(0, 20)\r\n        }\r\n        result += \"...\"\r\n      } else {\r\n        result = paras[paraIndex].slice(0, 40) + \"...\"\r\n      }\r\n      return result\r\n    },\r\n    //#endregion\r\n\r\n    //#region 模板内容与样式\r\n    // 改变正文样式\r\n    setTextStyle() {\r\n      const pTags = Array.from(this.$el.querySelector(\".reader-body\").getElementsByTagName(\"p\"))\r\n      pTags.forEach((p, index) => {\r\n        p.innerHTML = this.clearStyle(p.innerHTML)\r\n        const search = this.searchMarkedPara(index)\r\n        if (search > -1) {\r\n          const color = this.notes[search].color ?? this.markedColors[0]\r\n          p.innerHTML = this.insertStyle(p.innerHTML, \"background-color:\" + color)\r\n          // p.innerHTML = p.innerHTML.fontcolor(\"Red\")\r\n        }\r\n      })\r\n    },\r\n    insertStyle(text, style) {\r\n      return `<span style=\"${style}\" key=\"0\">${text}</span>`\r\n    },\r\n    clearStyle(text) {\r\n      // const reg1 = /^(<span style=\".*\" key=\"0\">)|(<font .*=\".*\">) /g\r\n      // const reg2 = /(<\\/span>)|(<\\/font>)$/g\r\n      const reg1 = /^(<span style=\".*\" key=\"0\">)/g\r\n      const reg2 = /(<\\/span>)$/g\r\n      return text.replace(reg1, \"\").replaceAll(reg2, \"\")\r\n    },\r\n    // 取消文字选中\r\n    clearSelection() {\r\n      window.getSelection().removeAllRanges()\r\n    },\r\n    // 选中文本\r\n    getSelection(selector, startOffset, endOffset) {\r\n      //添加$nextTick，否则换页后无法选中。2022-12-05\r\n      this.$nextTick(() => {\r\n        let elm = this.$el.querySelector(selector) //选中元素\r\n        let range = document.createRange()\r\n        let startNode = elm.firstChild //元素内容\r\n        //如果不是文本节点\r\n        // if (startNode.nodeType !== 3) startNode = startNode.firstChild\r\n        range.setStart(startNode, startOffset)\r\n        range.setEnd(startNode, endOffset)\r\n        let selection = window.getSelection()\r\n        selection.removeAllRanges()\r\n        selection.addRange(range)\r\n        range.detach() //从文档中分离\r\n        range = null //解除引用\r\n      })\r\n    },\r\n    // 获取章节标题\r\n    getTitle() {\r\n      if (this.chapterList && this.chapterList[this.currentChapter]) {\r\n        return this.chapterList[this.currentChapter].title\r\n      } else {\r\n        return this.articleData.title\r\n      }\r\n    },\r\n    // 获取段落字号\r\n    getParaFontSize(index) {\r\n      if (index == 0 && this.currentPage == 0) {\r\n        return this.sizeSettings.fontSize * this.sizeSettings.titleScale\r\n      } else return this.sizeSettings.fontSize\r\n    },\r\n    // 计算目录宽度\r\n    getCatalogWidth() {\r\n      if (this.pageWidth < 400) return this.pageWidth\r\n      else return 400\r\n    },\r\n    // 获取当前页字数\r\n    getPageWordNum() {\r\n      if (this.currentPage < 0) return 0\r\n      const lenArray = []\r\n      const currentArray = this.pageList[this.currentPage]\r\n      //遍历Vue中对象(Proxy对象)的方法，不能直接用map,reduce等函数\r\n      for (let i in currentArray) {\r\n        lenArray.push(currentArray[i].length)\r\n      }\r\n      return lenArray.reduce((sum, pre) => sum + pre, 0)\r\n      // return this.pageList[this.currentPage].reduce((sum, pre) => sum + pre.length, 0)\r\n    },\r\n    // 获取本章总字数\r\n    getTotalWordNum() {\r\n      return this.pageList.reduce(\r\n        (sum, pre) => sum + pre.reduce((sum, pre) => sum + pre.length, 0),\r\n        0\r\n      )\r\n    },\r\n    // 判断是否是首行不缩进的段落\r\n    isNoIndent(pageIndex) {\r\n      if (!this.noIndent) return false\r\n      for (let i in this.noIndent) {\r\n        if (pageIndex == this.noIndent[i]) return true\r\n      }\r\n      return false\r\n    },\r\n    // 判断本页是否有首行不缩进的段落\r\n    hasNoIndentPara() {\r\n      if (!(!this.noIndentPara.length || this.noIndentPara.length == 0)) return true\r\n      return false\r\n    },\r\n    //#endregion\r\n\r\n    //#region 转换函数\r\n    /** @description 将段落在当前页的索引转换为段落在当前章的索引 */\r\n    getParaIndexCh(index) {\r\n      // if (this.pageList.length == 0) return 0\r\n      let tempIndex = index\r\n      for (let i = 0; i <= this.currentPage; i++) {\r\n        //如果该页是首段首行不缩进的，则实际段落序号减1\r\n        if (this.isNoIndent(i)) {\r\n          tempIndex--\r\n        }\r\n        tempIndex += (this.pageList[i] ?? \"\").length\r\n      }\r\n      tempIndex -= (this.pageList[this.currentPage] ?? []).length\r\n      return tempIndex\r\n    },\r\n    /** @description 将段落在当前章的索引转换为段落在当前页的索引 */\r\n    getParaIndex(paraIndex) {\r\n      let tempIndex = paraIndex\r\n      for (let i = 0; i < this.pageList.length; i++) {\r\n        //如果该页是首段首行不缩进的，则段落数量加1\r\n        if (this.isNoIndent(i)) {\r\n          tempIndex++\r\n        }\r\n        tempIndex -= this.pageList[i].length\r\n        if (tempIndex < 0) return tempIndex + this.pageList[i].length\r\n      }\r\n    },\r\n    /** @description 根据段落在当前章的索引返回当前页索引 */\r\n    getPageIndex(paraIndex) {\r\n      let tempIndex = paraIndex\r\n      for (let i = 0; i < this.pageList.length; i++) {\r\n        //如果该页是首段首行不缩进的，则段落数量加1\r\n        if (this.isNoIndent(i)) {\r\n          tempIndex++\r\n        }\r\n        tempIndex -= this.pageList[i].length\r\n        if (tempIndex < 0) return i\r\n      }\r\n    },\r\n    // 获取临近的颜色\r\n    getClosedColor(color, delta = 10) {\r\n      const adjust = (base, variation) => {\r\n        let mix = base + variation\r\n        if (mix < 0 || mix > 255) mix = base - variation\r\n        return mix\r\n      }\r\n      let rgb = color.replace(/#/g, \"\").match(/[\\da-z]{2}/gi)\r\n      rgb = rgb.map((item) => adjust(parseInt(item, 16), delta))\r\n      let result = \"#\" + rgb.reduce((sum, pre) => sum + (\"0\" + pre.toString(16)).slice(-2), \"\")\r\n      // console.log(result)\r\n      return result\r\n    },\r\n    // 颜色取反\r\n    reverseColor(color) {\r\n      let colorValue = \"0x\" + color.replace(/#/g, \"\")\r\n      let str = \"000000\" + (0xffffff - colorValue).toString(16)\r\n      return \"#\" + str.substring(str.length - 6, str.length)\r\n    },\r\n    // 颜色平均值取反\r\n    reverseAvgColor(colorA, colorB) {\r\n      let valueA = \"0x\" + colorA.replace(/#/g, \"\")\r\n      let valueB = 0xffffff - (\"0x\" + colorB.replace(/#/g, \"\"))\r\n      let str = \"000000\" + (0xffffff - ((valueA + valueB) / 2).toFixed(0)).toString(16)\r\n      return \"#\" + str.substring(str.length - 6, str.length)\r\n    },\r\n    // 返回本章指定某页某段(包含)之后的文本\r\n    getRestText(paraIndex, pageIndex = this.currentPage) {\r\n      let text = \"\"\r\n      this.pageList.forEach((page, index) => {\r\n        if (index >= pageIndex) {\r\n          page[index].forEach((para, index) => {\r\n            if (index >= paraIndex) text += para\r\n          })\r\n        }\r\n      })\r\n      return text\r\n    },\r\n    /** @description 返回限定长度的字符串，超出部分用...代替 */\r\n    limitText(text = \"\", limit) {\r\n      return text.length > limit ? text.slice(0, limit) + \"...\" : text\r\n    },\r\n    // 获取当前段落的文本\r\n    getCurrentParaText() {\r\n      const chapter = this.chapterList[this.currentChapter]\r\n      if (!chapter) return \"\"\r\n      const para = this.getParaIndexCh(this.currentPara)\r\n      return chapter.content[para]\r\n    },\r\n    //#endregion\r\n  },\r\n\r\n  //#region 计算属性\r\n  computed: {\r\n    // 本章全部文本按段落分到数组\r\n    list: {\r\n      get() {\r\n        //先判断是否有数据，直接return会卡死\r\n        if (this.chapterList && this.chapterList[this.currentChapter]) {\r\n          return this.chapterList[this.currentChapter].content\r\n        } else if (this.articleData && this.articleData.content) {\r\n          return this.articleData.content\r\n        } else return \"\"\r\n      },\r\n    },\r\n    // 本章总页数\r\n    pageTotal: function () {\r\n      return this.pageList.length\r\n    },\r\n    // 首行不缩进的段落文本\r\n    noIndentPara: function () {\r\n      if (this.isNoIndent(this.currentPage)) {\r\n        return this.pageList[this.currentPage][0]\r\n      }\r\n      return \"\"\r\n    },\r\n    // 首行不缩进段落之后的正常缩进的段落数组\r\n    indentParas: function () {\r\n      // let newArr = this.pageList[this.currentPage] //不能这样直接赋值\r\n      let newArr = []\r\n      for (let i in this.pageList[this.currentPage]) {\r\n        newArr.push(this.pageList[this.currentPage][i])\r\n      }\r\n      if (this.isNoIndent(this.currentPage)) newArr.shift()\r\n      return newArr\r\n    },\r\n    chapterListRendered: function () {\r\n      // const t1 = performance.now()\r\n      const total = this.chapterList.length\r\n      const len = this.catalogRenderMax //要渲染的列表长度\r\n      const start = Math.max(Math.floor(this.catalogScrollPercent * total) - len / 2, 0)\r\n      let newList = []\r\n      for (let i = start; i < start + len && i < total; i++) {\r\n        newList.push({ id: this.chapterList[i].id, title: this.chapterList[i].title })\r\n      }\r\n      // console.log(performance.now() - t1)\r\n      return newList\r\n    },\r\n  },\r\n  //#endregion\r\n\r\n  //#region 数据监听\r\n  watch: {\r\n    inReader: {\r\n      handler(val) {\r\n        if (val) {\r\n          //进入阅读器\r\n          const lastPosition = localStorage.getItem(\r\n            \"LASTPOSITION_\" + this.bookId,\r\n            JSON.stringify(this.lastPosition)\r\n          )\r\n          if (lastPosition) {\r\n            this.lastPosition = JSON.parse(lastPosition)\r\n            this.currentChapter = this.lastPosition.chapter\r\n            this.$nextTick(() => {\r\n              this.currentPage = this.getPageIndex(this.lastPosition.para)\r\n            })\r\n          } else {\r\n            this.currentChapter = 0\r\n            this.currentPage = 0\r\n          }\r\n        } else {\r\n          //离开阅读器\r\n          const start = this.hasNoIndentPara() && this.pageList[this.currentPage].length > 0 ? 1 : 0\r\n          this.lastPosition = { chapter: this.currentChapter, para: this.getParaIndexCh(start) }\r\n          localStorage.setItem(\"LASTPOSITION_\" + this.bookId, JSON.stringify(this.lastPosition))\r\n        }\r\n      },\r\n    },\r\n    list: {\r\n      handler(val) {\r\n        this.repaging(val) //生成分页数据\r\n      },\r\n    },\r\n    chapterList: {\r\n      handler() {\r\n        //加载书签和笔记\r\n        const notes = localStorage.getItem(\"NOTES_\" + this.bookId)\r\n        if (notes) this.notes = JSON.parse(notes)\r\n        const bookmarks = localStorage.getItem(\"BOOKMARKS_\" + this.bookId)\r\n        if (bookmarks) this.bookmarks = JSON.parse(bookmarks)\r\n        //初始化目录渲染参数\r\n        const after = this.chapterList.length - this.chapterListRendered.length\r\n        this.catalogAfterHeight = after * 30\r\n      },\r\n      immediate: true, //立即监视\r\n    },\r\n    bookId: {\r\n      handler() {\r\n        this.bookmarks = [] //换书时清空书签列表缓存\r\n        this.notes = [] //换书时清空笔记列表缓存\r\n      },\r\n    },\r\n    sizeSettings: {\r\n      handler() {\r\n        clearTimeout(this.sizeSettingsTimer) //清除定时器\r\n        this.sizeSettingsTimer = setTimeout(() => {\r\n          this.pageInit()\r\n          this.repage(this.list) //重新分页\r\n          localStorage.setItem(\"SIZE_SETTINGS\", JSON.stringify(this.sizeSettings))\r\n        }, 500)\r\n      },\r\n      deep: true, //开启深度监视\r\n    },\r\n    colorSettings: {\r\n      handler() {\r\n        localStorage.setItem(\"COLOR_SETTINGS\", JSON.stringify(this.colorSettings))\r\n      },\r\n      deep: true, //开启深度监视\r\n    },\r\n    speechOptions: {\r\n      handler() {\r\n        clearTimeout(this.speechOptionTimer) //清除定时器\r\n        this.speechOptionTimer = setTimeout(() => {\r\n          this.changeVoice()\r\n          localStorage.setItem(\"SPEECH_OPTIONS\", JSON.stringify(this.speechOptions))\r\n        }, 500)\r\n      },\r\n      deep: true, //开启深度监视\r\n    },\r\n    screenWidth() {\r\n      clearTimeout(this.screenSizeTimer) //清除定时器\r\n      this.screenSizeTimer = setTimeout(() => {\r\n        this.pageInit()\r\n        this.repage(this.list) //重新分页\r\n      }, 500)\r\n    },\r\n    screenHeight() {\r\n      clearTimeout(this.screenSizeTimer) //清除定时器\r\n      this.screenSizeTimer = setTimeout(() => {\r\n        this.pageInit()\r\n        this.repage(this.list) //重新分页\r\n      }, 500)\r\n    },\r\n    currentChapter(newValue, oldValue) {\r\n      // this.closePopover()\r\n      // this.$nextTick(() => this.setTextStyle())\r\n      this.progress = parseFloat(((newValue / this.chapterList.length) * 100).toFixed(1))\r\n      if (this.pageTurning == \"滚动\") {\r\n        this.$refs.readerBody.scrollTop = 0\r\n      } else if (\"覆盖平移拟真\".includes(this.pageTurning) && !this.turnLocked) {\r\n        this.turnLocked = true\r\n        this.animatePage(newValue < oldValue)\r\n        setTimeout(() => {\r\n          this.turnLocked = false\r\n        }, 100)\r\n      }\r\n    },\r\n    currentPage(newValue, oldValue) {\r\n      // this.closePopover()\r\n      // this.$nextTick(() => this.setTextStyle())\r\n      if (\"覆盖平移拟真\".includes(this.pageTurning) && !this.turnLocked) {\r\n        this.animatePage(newValue < oldValue)\r\n      }\r\n    },\r\n    indentParas() {\r\n      this.$nextTick(() => this.setTextStyle())\r\n    },\r\n    pageTurning(newValue, oldValue) {\r\n      if (newValue == \"滚动\" || oldValue == \"滚动\") {\r\n        this.pageInit()\r\n        this.repage(this.list)\r\n      }\r\n      localStorage.setItem(\"PAGE_TURNING\", this.pageTurning)\r\n    },\r\n  },\r\n  //#endregion\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// 滚动条样式美化\r\n@mixin pretty-scrollbar {\r\n  //滚动条整体样式\r\n  ::-webkit-scrollbar {\r\n    width: 10px;\r\n    height: 10px;\r\n    background: #ccc;\r\n  }\r\n  //滚动条里面轨道\r\n  ::-webkit-scrollbar-track {\r\n    background: #999;\r\n  }\r\n  ::-webkit-scrollbar-track-piece {\r\n    background: #ccc;\r\n  }\r\n  //滚动条里面小方块\r\n  ::-webkit-scrollbar-thumb {\r\n    background: #666;\r\n  }\r\n  ::-webkit-scrollbar-button {\r\n    background-color: #e5e5e5;\r\n  }\r\n  ::-webkit-scrollbar-corner {\r\n    background: #82afff;\r\n  }\r\n  ::-webkit-scrollbar-resizer {\r\n    background: #ff0bee;\r\n  }\r\n  // scrollbar {\r\n  //   -moz-appearance: none !important;\r\n  //   background: rgb(0, 255, 0) !important;\r\n  // }\r\n  // scrollbarbutton {\r\n  //   -moz-appearance: none !important;\r\n  //   background-color: rgb(0, 0, 255) !important;\r\n  // }\r\n  // scrollbarbutton:hover {\r\n  //   -moz-appearance: none !important;\r\n  //   background-color: rgb(255, 0, 0) !important;\r\n  // }\r\n}\r\n\r\n//菜单过渡动画\r\n.catalogFade-enter-to,\r\n.catalogFade-enter-active,\r\n.catalogFade-enter-from {\r\n  pointer-events: none;\r\n  animation-name: catalog_enter;\r\n  animation-duration: 0.3s;\r\n  // animation-fill-mode: forwards; //元素将保留由最后一个关键帧设置的样式值\r\n}\r\n.catalogFade-leave-to,\r\n.catalogFade-leave-active,\r\n.catalogFade-leave-from {\r\n  pointer-events: none;\r\n  animation-name: catalog_leave;\r\n  animation-duration: 0.3s;\r\n}\r\n@keyframes catalog_enter {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n@keyframes catalog_leave {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n//气泡卡片样式\r\n.el-popper + .is-light + .el-popover {\r\n  &.popover-search {\r\n    background-color: rgba(251, 251, 251, 0.1);\r\n    padding: 0;\r\n    text-align: center;\r\n  }\r\n  // &.popover-menu {\r\n  //   background-color: rgba(251, 251, 251, 0.1);\r\n  //   padding: 0;\r\n  //   text-align: center;\r\n  // }\r\n  // &.popover-settings {\r\n  //   // background-color: rgba(251, 251, 251, 0.1);\r\n  //   // padding: 0;\r\n  // }\r\n  background-color: rgba(251, 251, 251, 0.99);\r\n  border-radius: 10px;\r\n  // .el-popper__arrow {\r\n  //   display: none;\r\n  // }\r\n}\r\n\r\n.setting-slider {\r\n  .el-input-number {\r\n    width: 110px;\r\n  }\r\n}\r\n//选项设置界面样式\r\n.theme-setbar {\r\n  margin: 10px 0 60px 0;\r\n}\r\n.text-button {\r\n  margin-right: 2px;\r\n  padding: 8px 10px;\r\n  // border-radius: 0px;\r\n  cursor: pointer;\r\n}\r\n.el-color-picker {\r\n  margin: 0 20px;\r\n}\r\n.color-setbar {\r\n  margin: 0px 0 40px 0;\r\n}\r\n.color-button {\r\n  border: 1px solid #dddddd;\r\n}\r\n\r\n.menu-button {\r\n  margin: 5px 0;\r\n  width: 170px;\r\n}\r\n.menu-button-short {\r\n  margin: 5px 0;\r\n  width: 80px;\r\n}\r\n.popmenu-title {\r\n  background: linear-gradient(to right, #99999960, #cccccc60);\r\n  border-radius: 0px 5px 5px 10px;\r\n  padding-top: 2px;\r\n  span {\r\n    margin-left: 10px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n//主界面按钮样式\r\n.body-button-container {\r\n  position: relative;\r\n  .body-button {\r\n    // background-color: red;\r\n    position: absolute;\r\n    width: 40px;\r\n    height: 100px;\r\n    -moz-user-select: none; //防止选取元素的文本（Firefox用）\r\n    user-select: none; //防止选取元素的文本（IE和Chrome用）\r\n    color: rgba(255, 255, 255, 0.3); //前景色和透明度\r\n    background-color: rgba(128, 128, 128, 0); //背景色和透明度\r\n    // opacity: 0; //初始透明度设为0\r\n    &:hover {\r\n      // opacity: 0.15; //鼠标悬浮时透明度\r\n      color: rgba(255, 255, 255, 0.5); //前景色和透明度\r\n      background-color: rgba(128, 128, 128, 0.15); //背景色和透明度\r\n    }\r\n    &:active {\r\n      // opacity: 0.3; //鼠标点击时透明度\r\n      color: rgba(255, 255, 255, 0.7); //前景色和透明度\r\n      background-color: rgba(128, 128, 128, 0.3); //背景色和透明度\r\n    }\r\n    &.catalog {\r\n      width: 50px;\r\n      height: 50px;\r\n      left: 0;\r\n      border-radius: 0px 10px 0px 10px;\r\n    }\r\n    &.goback {\r\n      width: 50px;\r\n      height: 50px;\r\n      left: 0;\r\n      border-radius: 10px 0px 10px 0px;\r\n    }\r\n    &.settings {\r\n      width: 50px;\r\n      height: 50px;\r\n      right: 0;\r\n      border-radius: 0px 10px 0px 10px;\r\n    }\r\n    &.voice {\r\n      width: 50px;\r\n      height: 50px;\r\n      right: 0;\r\n      border-radius: 10px 0px 10px 0px;\r\n    }\r\n    &.search {\r\n      width: 100px;\r\n      height: 40px;\r\n      transform: translate(-50%, 0);\r\n      border-radius: 0px 0px 10px 10px;\r\n    }\r\n    &.progress {\r\n      width: 100px;\r\n      height: 40px;\r\n      transform: translate(-50%, 0);\r\n      border-radius: 10px 10px 0px 0px;\r\n    }\r\n    &.home {\r\n      color: rgb(201, 201, 201, 0.6); //前景色和透明度\r\n      background-color: rgba(255, 255, 255, 0.1); //背景色和透明度\r\n      box-shadow: inset 0 0 4px 1px rgb(150 150 150 / 40%); //内阴影\r\n      border: 1px solid #fafafa;\r\n      width: 60px;\r\n      height: 28px;\r\n      transform: translate(-50%, 114%);\r\n      border-radius: 15px 15px 15px 15px;\r\n      &:hover {\r\n        color: rgb(201, 201, 201, 0.3); //前景色和透明度\r\n        background-color: rgba(255, 255, 255, 0.3); //背景色和透明度\r\n        box-shadow: inset 0 0 2px 1px rgb(150 150 150 / 30%); //内阴影\r\n      }\r\n    }\r\n    &.prevpage {\r\n      left: 0;\r\n      transform: translate(0, -50%);\r\n      border-radius: 0px 20px 20px 0px;\r\n    }\r\n    &.nextpage {\r\n      right: 0;\r\n      transform: translate(0, -50%);\r\n      border-radius: 20px 0px 0px 20px;\r\n    }\r\n    &.prevchapter {\r\n      width: 50px;\r\n      height: 40px;\r\n      top: 0;\r\n      transform: translate(-50%, 0);\r\n      border-radius: 0px 0px 10px 10px;\r\n    }\r\n    &.nextchapter {\r\n      width: 50px;\r\n      height: 40px;\r\n      top: 0;\r\n      transform: translate(-50%, 0);\r\n      border-radius: 0px 0px 10px 10px;\r\n    }\r\n    //按钮内部图标样式\r\n    .body-button-icon {\r\n      color: inherit;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n}\r\n\r\n//目录窗体样式\r\n.catalog-container {\r\n  @include pretty-scrollbar;\r\n  position: absolute;\r\n  // width: calc(50% - 20px);\r\n  // min-width: 320px;\r\n  max-width: 600px;\r\n  padding: 10px 0px 10px 0px;\r\n  resize: horizontal;\r\n  background-color: #8aa6b9;\r\n  // box-shadow: var(--el-box-shadow-light);\r\n  box-shadow: 2px 0px 4px 1px rgb(128 131 137 / 30%); //水平偏移 竖向偏移 模糊距离 阴影大小 颜色\r\n  border-radius: 10px;\r\n  opacity: 0.99;\r\n  text-align: left;\r\n  .catalog-button {\r\n    margin-left: 10px;\r\n    &:hover {\r\n      color: #1e90ff;\r\n    }\r\n  }\r\n  .catalog-title {\r\n    margin-left: 10px;\r\n    font-size: 20px;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  .catalog-tabs {\r\n    background-color: #a1b3c0; //#a1b3c0\r\n    border: 0;\r\n    //目录条目\r\n    .catalog-item {\r\n      // transform: translate3d(0, 0, 0); //强制GPU加速\r\n      position: relative;\r\n      padding: 6px 0 4px 0;\r\n      font-size: 16px;\r\n      height: 30px; //这里限制一下高度，不要根据字号自动计算\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      cursor: pointer;\r\n      color: #252525;\r\n      &:hover {\r\n        // color: #1e90ff; //模板中动态绑定了颜色，这里不生效了\r\n        background: #90a9c2;\r\n      }\r\n      //利用前面伪元素留空白（不在元素上直接设margin是因为后面画的线不要空白）\r\n      &:before {\r\n        content: \"\";\r\n        margin-right: 20px; //空出20px\r\n      }\r\n      //后面画线\r\n      &:after {\r\n        display: block;\r\n        content: \"\";\r\n        position: absolute; //定位背景横线的位置\r\n        width: 100%; //宽和⾼做出来的背景横线\r\n        height: 1px;\r\n        transform: ScaleY(0.5); //减0.5变成0.5px的线\r\n        background: #999999;\r\n        top: 29px;\r\n      }\r\n    }\r\n    //书签条目\r\n    .bookmark-item {\r\n      cursor: pointer;\r\n      position: relative;\r\n      padding: 6px 0 4px 0;\r\n      font-size: 15px;\r\n      color: #252525;\r\n      &:hover {\r\n        color: #1e90ff;\r\n        background: #90a9c2;\r\n      }\r\n      .bookmark-item-title {\r\n        margin: 5px 0;\r\n        padding-left: 20px;\r\n        span {\r\n          display: inline-block; //文字超出省略需在块元素中\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n      }\r\n      .bookmark-item-small-text {\r\n        // margin: 5px 0;\r\n        padding-left: 20px;\r\n        padding-right: 10px;\r\n        color: #777777;\r\n        font-size: 12px;\r\n        height: 15px;\r\n        // text-align: right;\r\n      }\r\n      .bookmark-item-preview {\r\n        margin: 5px 0;\r\n        padding-left: 20px;\r\n        padding-right: 10px;\r\n        color: #666666;\r\n        font-size: 14px;\r\n        height: 30px;\r\n        text-indent: 2em;\r\n        // width: 360px;\r\n        // display: -webkit-box;\r\n        // -webkit-line-clamp: 2;\r\n        // -webkit-box-orient: vertical;\r\n        // overflow: hidden;\r\n        // text-overflow: ellipsis;\r\n        // white-space: nowrap;\r\n      }\r\n      //后面画线\r\n      &:after {\r\n        content: \"\";\r\n        display: block;\r\n        position: absolute; //定位背景横线的位置\r\n        width: 100%; //宽和⾼做出来的背景横线\r\n        height: 1px;\r\n        transform: ScaleY(0.5); //减0.5变成0.5px的线\r\n        background: #999999;\r\n        top: 95px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//阅读器样式\r\n.reader-container {\r\n  @include pretty-scrollbar;\r\n  position: relative;\r\n  padding: 6px 10px 36px 10px; //阅读器边框大小\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  // background: linear-gradient(225deg, #ccc8c8, #f3eeee);//渐变色\r\n  box-shadow: 1px 1px 8px 2px rgb(128 131 137 / 50%); //水平偏移 竖向偏移 模糊距离 阴影大小 颜色\r\n  border-radius: 15px;\r\n  transform-style: preserve-3d;\r\n  -webkit-transform-style: preserve-3d;\r\n  -moz-transform-style: preserve-3d;\r\n  -ms-transform-style: preserve-3d;\r\n  perspective: 5000px; //透视距离\r\n  // 头部样式\r\n  .reader-head {\r\n    // margin-bottom: 4px;\r\n    margin-left: 10px;\r\n    font-size: 15px;\r\n    height: 24px;\r\n    color: gray;\r\n    text-align: left;\r\n    .header-text {\r\n      // float: left;\r\n      margin-left: 10px;\r\n      width: 300px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    } //设置头部标签最大宽度，超出部分显示省略号\r\n  }\r\n  // 正文样式\r\n  .reader-body {\r\n    // font-variant-east-asian: traditional;\r\n    // -webkit-font-smoothing: subpixel-antialiased;\r\n    // -moz-osx-font-smoothing: grayscale;\r\n    border-radius: 10px;\r\n    // text-align: left;\r\n    text-align: justify; //文本两端对齐(调试时注释掉以便查看排版)\r\n    text-indent: 2em;\r\n    white-space: pre-wrap; //保留空白符序列，但是正常地进行换行\r\n    word-wrap: break-word; //允许在长单词或URL地址内部进行换行\r\n    word-break: break-all; //允许在单词内换行\r\n    box-shadow: inset 1px 1px 5px 1px rgb(128 131 137 / 50%); //内阴影\r\n    // background-image: radial-gradient(#f5dab8 10%, transparent 0),\r\n    //   radial-gradient(#f5dab8 50%, transparent 0);\r\n    // background-size: 20px 20px;\r\n    // background-position: 0 0, 10px 10px;\r\n    backface-visibility: hidden; //元素背面向屏幕时是否可见\r\n    // transform-origin: left;\r\n    // -ms-transform-origin-x: left;\r\n    // -webkit-transform-origin-x: left;\r\n    // perspective-origin: center;\r\n  }\r\n  // 底部样式\r\n  .reader-foot {\r\n    text-align: left;\r\n    margin-left: 10px;\r\n    .footer-text {\r\n      font-size: 14px;\r\n      color: gray;\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n//电脑端样式\r\n@media screen and (min-width: 1081px) {\r\n}\r\n\r\n//手机端样式\r\n@media screen and (max-width: 1080px) {\r\n  //手机端调整一下app-container\r\n  .app-container {\r\n    padding: 10px 0 0 0;\r\n  }\r\n  .reader-container {\r\n    // 头部样式\r\n    .reader-head {\r\n      font-size: 14px;\r\n      color: gray;\r\n      .header-text {\r\n        width: 260px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","export default {\n  //定义常量（非响应式）\n  beforeMount() {\n    this.pageTurningModes = [\"无\", \"覆盖\", \"平移\", \"拟真\", \"滚动\"]\n    this.fonts = [\n      \"Arial\",\n      \"楷体\",\n      \"宋体\",\n      \"黑体\",\n      \"方正楷体_GBK\",\n      \"方正楷体_简体\",\n      \"思源宋体_中\",\n      \"思源宋体_细\",\n      \"思源黑体_粗\",\n      \"思源黑体_常规\",\n      \"思源黑体_细\",\n      \"思源黑体_极细\",\n      \"思源柔黑_中\",\n      \"思源柔黑_细\",\n      \"思源柔黑_极细\",\n    ]\n    this.textColors = [\n      \"#000000\",\n      \"#3D3D3D\",\n      \"#555555\",\n      \"#336699\",\n      \"#336666\",\n      \"#990033\",\n      \"#FF6666\",\n      \"#ffd04b\",\n      \"#FFCCCC\",\n      \"#FAFAFA\",\n    ]\n    this.bgColors = [\n      \"#EEE0C6\",\n      \"#CCEACC\",\n      \"#FAFAFA\",\n      \"#EFEFEF\",\n      \"#CCCCCC\",\n      \"#669999\",\n      \"#F0DAD2\",\n      \"#6699CC\",\n      \"#282828\",\n      \"#000000\",\n    ]\n    this.predefineColors = [\n      \"#ff4500\",\n      \"#ff8c00\",\n      \"#ffd700\",\n      \"#90ee90\",\n      \"#00ced1\",\n      \"#1e90ff\",\n      \"#c71585\",\n      \"rgba(255, 69, 0, 0.68)\",\n      \"rgb(255, 120, 0)\",\n      \"hsv(51, 100, 98)\",\n      \"hsva(120, 40, 94, 0.5)\",\n      \"hsl(181, 100%, 37%)\",\n      \"hsla(209, 100%, 56%, 0.73)\",\n      \"#c7158577\",\n    ]\n    this.markedColors = [\n      \"#ff000020\",\n      \"#ff450060\",\n      \"#ff8c0060\",\n      \"#ffd70060\",\n      \"#90ee9060\",\n      \"#00ced160\",\n      \"#1e90ff60\",\n      \"#c7158560\",\n      \"rgba(255, 69, 0, 0.68)\",\n      \"hsl(181, 100%, 37%)\",\n      \"hsla(209, 100%, 56%, 0.73)\",\n      \"#42b983\",\n    ]\n  },\n}\n","export default {\n  // data() {\n  //   return {\n  //     canvasContext: this.getCanvasContext(),\n  //   }\n  // },\n  beforeMount() {\n    this.canvasContext = document.createElement(\"canvas\").getContext(\"2d\")\n  },\n  methods: {\n    //#region 分页处理\n    /** @description 重新分页 */\n    repage(paraList) {\n      // const percent = this.getParaIndexCh(0) / Math.max(this.list.length, 1) //记录当前章节阅读百分比\n      this.repaging(paraList) //更新分页数据\n      // this.currentPage = this.getPageIndex(Math.ceil(this.list.length * percent)) //还原当前章节阅读进度\n    },\n    // 页面排版原理：\n    // 1. 行间距上下各一半，按本行字号计算。字号不同的行之间，行间距各取一半相加。\n    // 2. 段间距会取相邻两段的段间距比较，取较大者。\n    /** @description 分页处理过程 */\n    repaging(paraList) {\n      // var timeStart = performance.now()\n      this.pageList = [] //清空页面数组\n      this.currentPage = 0 //当前页面重置为0\n      this.noIndent = [] //清空数组\n\n      let debug = false\n      if (debug) console.log(\">>>>>>>>>>>>> REPAIGING START >>>>>>>>>>>>>\") //调试\n\n      let paras = [] //当前页段落数组\n      let previosHeight = 0 //上一次累计高度\n      let currentHeight = 0 //当前累计高度\n      let paraLines = 0 //段落行数\n      let paraIndex = 0 //本页段落索引（从0开始）\n      let paraText = \"\" //段落文本\n      let indent = 2 //首行缩进（字宽倍数，默认为2）\n\n      const lineWidth = this.textareaWidth\n      const maxHeight = this.textareaHeight //正文区域最大高度（影响文字最大显示行数）\n      const fontSize = this.sizeSettings.fontSize\n      const paraSpace = fontSize * this.sizeSettings.paraSpace //段间距(与页面模板对应)\n      const getFontSize = () => {\n        if (paraIndex == 0) return fontSize * this.sizeSettings.titleScale\n        else return fontSize\n      } //获取字号\n      const getLineHeight = () => {\n        return getFontSize() * this.sizeSettings.lineHeight\n      } //获取行高\n\n      if (debug) console.log(\"lineHeight =\", getLineHeight(), \", maxHeight =\", maxHeight) //调试\n\n      //循环遍历各段落 START\n      while (paraIndex < paraList.length) {\n        if (debug) console.log(\">>>>>> PARA START >>>>>>\") //调试\n        previosHeight = currentHeight //记一下之前的累计高度\n        //开始新段落，如果不是本页首段并且上边距设置大于0，段间距加入累计\n        if (paras.length > 0 || this.sizeSettings.paddingTop > 0) currentHeight += paraSpace\n        //如果上一轮开启了新页面且分配了大段落（超出页面行数限制）给新页面\n        if (paras.length == 1 && currentHeight >= maxHeight) {\n          paraText = paras[0]\n          paras = [] //上一轮分到的段落太大，清空重新分析\n          paraLines = this.getParaLines(paraText, lineWidth, getFontSize(), indent * fontSize) //本次段落行数\n          previosHeight = 0\n        } else {\n          //否则读取新段落\n          indent = 2 //恢复首行缩进为2倍字宽\n          paraText = paraList[paraIndex]\n          paraLines = this.getParaLines(paraText, lineWidth, getFontSize(), indent * fontSize) //本次段落行数\n          currentHeight += getLineHeight() * paraLines //当前累计高度\n        }\n        // if (paraText.indexOf(\"陈二狗靠着墙\")) debug = true\n        if (debug) console.log(\"paraText\", paraText) //调试\n        if (debug) console.log(\"fontSize = \", getFontSize()) //调试\n        if (debug) console.log(\"lineWidth = \", lineWidth) //调试\n        if (debug) console.log(\"lineHeight = \", getLineHeight()) //调试\n        if (debug) console.log(\"paraSpace = \", paraSpace) //调试\n        if (debug) console.log(\"paraLines =\", paraLines) //调试\n        if (debug) console.log(\"previosHeight = \", previosHeight) //调试\n        if (debug) console.log(\"currentHeight1 = \", currentHeight) //调试\n        if (paraText[0] == undefined) {\n          console.log(\"第\", this.pageList.length, \"页 第\", paras.length + 1, \"段之前出现 undefined\")\n        }\n        //如果当前累计高度小于正文区域最大高度\n        if (currentHeight < maxHeight) {\n          //把当前段落的文本添加到当前页面\n          paras.push(paraText)\n          //如果是最后的段落，循环就要终止了，保存最后一部分数据\n          if (paraList.length == paraIndex + 1) {\n            this.pageList.push(paras) //保存数据\n          }\n        } else {\n          //算出底部剩余空间能放多少行\n          const spareLines = Math.floor((maxHeight - previosHeight - paraSpace) / getLineHeight())\n          if (debug) console.log(\"****** spareLines\", spareLines) //调试\n          //三种情况：全部放入下一页；切分；全部放入本页\n          if (spareLines < 1) {\n            if (debug) console.log(\"spareLines < 1\") //调试\n            //全部放入下一页\n            //保存数据，本页分配结束\n            this.pageList.push(paras)\n            //新页面添加段落全部文本，作为开头\n            paras = [paraText]\n            //★如果是最后的段落，循环就要终止了，保存最后一部分数据\n            if (paraList.length == paraIndex + 1) {\n              this.pageList.push(paras) //保存数据\n            }\n            //本段高度计入新页面的currentHeight，如果页面上边距不为0上面还要加个段间距\n            currentHeight =\n              paraLines * getLineHeight() + (this.sizeSettings.paddingTop > 0 ? paraSpace : 0)\n          } else {\n            if (debug) console.log(\"spareLines >= 1\") //调试\n            let sliceIndex = this.getSliceIndex(\n              paraText,\n              lineWidth,\n              getFontSize(),\n              indent * fontSize,\n              spareLines\n            )\n            if (debug) console.log(\"sliceText\", paraText.slice(0, sliceIndex)) //调试\n            if (sliceIndex < paraText.length) {\n              if (debug) console.log(\"sliceIndex < paraText.length\") //调试\n              //切分段落前一部分给本页，作为本页结尾\n              paras.push(paraText.slice(0, sliceIndex))\n              //保存数据，本页分配结束\n              this.pageList.push(paras)\n              //下一页首段首行不缩进，记录其索引\n              this.noIndent.push(this.pageList.length)\n              //下一段首行缩进设为0\n              indent = 0\n              //新页面添加分割段落后一部分的文本，作为开头\n              paras = [paraText.slice(sliceIndex)]\n              //计算本段后一部分的行数\n              paraLines = this.getParaLines(paras[0], lineWidth, getFontSize(), indent * fontSize)\n              //本段后一部分的高度计入新页面的currentHeight，如果页面上边距不为0上面还要加个段间距\n              currentHeight =\n                paraLines * getLineHeight() + (this.sizeSettings.paddingTop > 0 ? paraSpace : 0)\n              // if(debug) console.log(\"paraLines\", paraLines) //调试\n              //如果本段后一部分高度超过新页面最大高度\n              if (currentHeight >= maxHeight) {\n                paraIndex-- //大段落，下一轮要继续处理，不读取新段落，所以段落索引减1\n              } else {\n                //★如果是最后的段落，循环就要终止了，保存最后一部分数据\n                if (paraList.length == paraIndex + 1) this.pageList.push(paras) //保存数据\n              }\n            } else {\n              if (debug) console.log(\"sliceIndex >= paraText.length\") //调试\n              //全部放入本页\n              paras.push(paraText)\n              //保存数据\n              this.pageList.push(paras)\n              //清空当前页面数据，形成新页面\n              paras = []\n              //重置新页面的currentHeight为0\n              currentHeight = 0\n            } //切分位置判断结束\n          } //空行判断结束\n        } //累计高度判断结束\n        if (debug) console.log(\"currentHeight2 = \", currentHeight) //调试\n        if (debug) console.log(\">>>>>> PARA END >>>>>>\") //调试\n        paraIndex++\n      }\n      //循环遍历各段落 END\n      // var timeEnd = performance.now()\n      // if (this.device == \"desktop\") {\n      //   console.log(\"repaging 耗时\", `${(timeEnd - timeStart).toFixed(2)}ms`)\n      // }\n      // else alert(\"repaging耗时\" + `${(timeEnd - timeStart).toFixed(2)}ms`)\n    },\n    /** @description 根据指定的行数获取分割的位置 */\n    getSliceIndex(text, lineWidth, fontSize, indentWidth, limitLines) {\n      return this.calcParaLayout(text, lineWidth, fontSize, indentWidth, limitLines)\n    },\n    /** @description 获取段落的行数 */\n    getParaLines(text, lineWidth, fontSize, indentWidth) {\n      return this.calcParaLayout(text, lineWidth, fontSize, indentWidth)\n    },\n    /** @description 计算段落布局。如果限定行数，则返回分割的位置，否则返回段落的行数。 */\n    calcParaLayout(text, lineWidth, fontSize, indentWidth, limitLines = 0) {\n      const debug = false //text.indexOf(\"雷达峰有许多神秘的传说\") > -1\n      const nonFrontChars = \",.?;:)}]，。？；：’”）】』》、…\" //不能放在行首的字符\n      const nonBackChars = \"({[‘“（【『《\" //不能放在行末的字符\n      const nonBreakChars = \"—…\" //不能分行断开的字符串\n      const textLength = text.length\n      if (text[0] == undefined) return 0 //特殊情况处理\n      let width = 0\n      let lines = 1\n      let index = 0\n      let preIndex = 0\n      let currentWidth = indentWidth\n\n      /* 性能优化2022-11-09 性能优化约70% */\n      /* 每行开始前预读一批字符，避免从头逐个循环 */\n      //每行初始计算的字符数量，减2是因为可能会遇到特殊字符回退计算的情况\n      const preload = Math.floor(lineWidth / fontSize) - 4\n      index += preload - 2\n      //此处slice的时候index不用加1，因为后面没跟index++，直接计算此时index位的宽度\n      currentWidth += this.measureText(text.slice(preIndex, index), fontSize)\n      /* 性能优化2022-11-09 */\n\n      while (index < textLength) {\n        width = this.measureText(text[index], fontSize)\n        if (debug) console.log(\"text[index]\", text[index]) //调试\n        if (debug) console.log(currentWidth, lineWidth, width) //调试\n        //注意用 <= ，因为极端情况下刚好排满也是不换行的\n        if (currentWidth <= lineWidth - width) {\n          currentWidth += width\n        } else {\n          //准备换行了\n          let temp = 0 //引入temp计数防止死循环\n          //如果行末是不能收尾的特殊字符，则回退一位，直到行末不是特殊字符或者超出限制\n          while (nonBackChars.indexOf(text[index - 1]) > -1 && index > 1 && temp < 5) {\n            if (debug) console.log(\"nonBackChars text[index-1]\", text[index - 1]) //调试\n            index--\n            temp++\n          }\n          temp = 0 //重置temp\n          //如果下一行首位是不能开头的特殊字符，则回退一位，直到下一行首位不是特殊字符或者超出限制\n          while (nonFrontChars.indexOf(text[index]) > -1 && index > 0 && temp < 5) {\n            if (debug) console.log(\"nonFrontChars text[index]\", text[index]) //调试\n            index--\n            temp++\n          }\n          temp = 0 //重置temp\n          //如果下一行首位与本行末是必须在同一行连贯的字符，则回退一位\n          while (\n            nonBreakChars.indexOf(text[index]) > -1 &&\n            text[index] == text[index - 1] &&\n            index > 1 &&\n            temp < 5\n          ) {\n            if (debug) console.log(\"nonBreakChars text[index]\", text[index]) //调试\n            index--\n            temp++\n          }\n          //可以换行了\n          if (debug) console.log(\"lineText\", text.slice(preIndex, index)) //调试\n          if (debug) console.log(\"currentWidth\", currentWidth) //调试\n          preIndex = index\n          if (limitLines > 0 && lines >= limitLines) break\n          lines++ //行数+1\n\n          /* 性能优化2022-11-09 */\n          index += preload\n          //此处slice的时候index要加1，否则后面紧跟的index++会使此时的index被跳过\n          currentWidth = this.measureText(text.slice(preIndex, index + 1), fontSize)\n          /* 性能优化2022-11-09 */\n        }\n        index++\n      }\n      if (debug) console.log(\"lines =\", lines)\n      return limitLines > 0 ? index : lines\n    },\n    // 获取Canvas上下文\n    // getCanvasContext() {\n    //   const canvas = document.createElement(\"canvas\")\n    //   const context = canvas.getContext(\"2d\")\n    //   return context\n    // },\n    // 利用Canvas测算字符串宽度\n    measureText(val, fontSize) {\n      // 方法一，用Canvas测量字符串宽度\n      const fontFamily = this.sizeSettings.fontFamily\n      const font = `${fontSize}px ${fontFamily}`\n      this.canvasContext.font = font\n      const { width } = this.canvasContext.measureText(val)\n      return width\n      // 方法二，适用于单字节字符宽度等于双字节字符一半的情况\n      // if (!val || !val.length) return 0\n      // let singleArr = val.match(/[^\\x00-\\xff]/gi) //eslint-disable-line\n      // return val.length + (singleArr ? singleArr.length : 0) * fontSize\n    },\n    //#endregion\n\n    //#region 分页处理废弃算法\n    // 分页处理(算法一)\n    // pageDataHandleA(paraList) {\n    //   this.pageList = [] //清空页面数组\n    //   this.currentPage = 0 //当前页面重置为0\n    //   this.noIndent = [] //清空数组\n    //   const lineWords = Math.floor((this.textareaWidth / this.sizeSettings.fontSize) * 2) //行最大字节数\n    //   const lineHeight = this.sizeSettings.fontSize * this.sizeSettings.lineHeight //行高度\n    //   const maxHeight = this.textareaHeight //正文区域最大高度（影响文字最大显示行数）\n    //   const paraSpace = this.sizeSettings.paraSpace * this.sizeSettings.fontSize //段间距\n    //   let paras = [] //当前页累计文本\n    //   let previosHeight = 0 //上一次累计高度\n    //   let currentHeight = 0 //当前累计高度\n    //   let paraLines = 0 //段落行数\n    //   let paraIndex = 0 //本页段落索引（从0开始）\n    //   //这里不要用 while (paraList[paraIndex])，数组元素可能有undefined值，导致循环意外终止\n    //   // paraList[paraIndex] != null && paraList[paraIndex] != undefined\n    //   while (paraIndex < paraList.length) {\n    //     const paraText = paraList[paraIndex]\n    //     paraLines = Math.ceil((this.getByteLength(paraText) + 4) / lineWords) //本次段落行数\n    //     previosHeight = currentHeight //记一下之前的累计高度\n    //     currentHeight += lineHeight * paraLines //当前累计高度\n    //     //如果当前累计高度小于正文区域最大高度\n    //     if (currentHeight < maxHeight) {\n    //       //把当前段落的文本添加到当前页面\n    //       paras.push(paraText)\n    //       //如果是最后的段落，循环就要终止了\n    //       if (paraList.length == paraIndex + 1) {\n    //         this.pageList.push(paras) //保存数据\n    //       }\n    //     } else {\n    //       //本页最后一段能显示的文字数量\n    //       let divideIndex =\n    //         Math.floor((maxHeight - previosHeight - paraSpace) / lineHeight) * lineWords - 4\n    //       //当剩余高度过小出现负数，不再进行段落分割\n    //       if (divideIndex < 0) {\n    //         divideIndex = 0\n    //       } else {\n    //         divideIndex = this.convertByteLength(paraText, divideIndex)\n    //       }\n    //       //当前页面添加分割段落前半部分的文本，作为结尾\n    //       paras.push(paraText.slice(0, divideIndex))\n    //       //添加到页面数组中，保存数据\n    //       this.pageList.push(paras)\n    //       paras = [] //清空当前页面数据，形成新页面\n    //       if (paraText.length > divideIndex + 1) {\n    //         //新页面添加分割段落后半部分的文本，作为开头\n    //         paras.push(paraText.slice(divideIndex))\n    //         //如果段落进行了切割，则下一页首段首行不缩进，记录下一页索引\n    //         if (divideIndex > 0) this.noIndent.push(this.pageList.length)\n    //         //分割段落后半部分的高度作为新页面的currentHeight\n    //         currentHeight =\n    //           Math.ceil(this.getByteLength(paras[0]) / lineWords) * lineHeight\n    //       } else {\n    //         currentHeight = 0 //重置新页面的currentHeight为0\n    //       }\n    //     }\n    //     currentHeight += paraSpace //准备下一段，段间距加入累计\n    //     paraIndex++\n    //   } //循环遍历各段落\n    // },\n    // // 得到字节长度\n    // getByteLength(text) {\n    //   if (!text || !text.length) return 0\n    //   // 方法一（不全面）\n    //   // let singleArr = text.match(/[a-zA-Z0-9,;.!@#-+/\\\\$%^*()<>?:\"“”'{}~]/gi)\n    //   // return text.length * 2 - (singleArr ? singleArr.length : 0)\n    //   // 方法二（不全面，中文标点未识别）\n    //   // let singleArr = text.match(/[\\u4e00-\\u9fa5\\uf900-\\ufa2d]/g)\n    //   // return text.length + (singleArr ? singleArr.length : 0)\n    //   // 方法三(匹配Ascii码大于255的字符，即双字节的字符)\n    //   let singleArr = text.match(/[^\\x00-\\xff]/gi) //eslint-disable-line\n    //   return text.length + (singleArr ? singleArr.length : 0)\n    // },\n    // // 计算出相应文本中对应字节长度的的字符长度\n    // convertByteLength(text, byteLength) {\n    //   let tempLength = Math.floor(byteLength / 2) //当前字符长度\n    //   let tempByteLength = this.getByteLength(text.slice(0, tempLength)) //计算对应当前字符长度的字节长度\n    //   let prevByteLength = 0 //上一轮字节长度\n    //   // console.log(\"byteLength = \", byteLength) //调试\n    //   // console.log(\"tempLength = \", tempLength) //调试\n    //   // console.log(\"tempByteLength = \", tempByteLength) //调试\n    //   // 未超出指定字节长度范围，且字节长度有所增长(避免死循环)\n    //   while (tempByteLength < byteLength - 1 && prevByteLength < tempByteLength) {\n    //     tempLength += Math.floor((byteLength - tempByteLength) / 2) //二分法得出下一轮字符长度\n    //     prevByteLength = tempByteLength //记录上一轮字节长度\n    //     tempByteLength = this.getByteLength(text.slice(0, tempLength)) //计算对应本轮字符长度的字节长度\n    //     // console.log(\"tempLength = \", tempLength, \", tempByteLength = \", tempByteLength) //调试\n    //   }\n    //   return tempLength\n    // },\n    //#endregion\n  },\n}\n","export default {\n  methods: {\n    //#region 语音朗读\n\n    /** @description 获取朗读焦点段落的颜色 */\n    getFocusColor(colorA, colorB, colorC = \"#DD66CC\", delta = 10) {\n      const adjust = (base, variation) => {\n        let mix = base + variation\n        if (mix < 0 || mix > 255) mix = base - variation\n        return mix\n      }\n      const fix = (a, b, c) => {\n        if (Math.abs(a - c) < delta) c = adjust(a, delta)\n        if (Math.abs(b - c) < delta) c = adjust(c, delta)\n        return c\n      }\n      let rgbA = colorA.replace(/#/g, \"\").match(/[\\da-z]{2}/gi)\n      let rgbB = colorB.replace(/#/g, \"\").match(/[\\da-z]{2}/gi)\n      let rgbC = colorC.replace(/#/g, \"\").match(/[\\da-z]{2}/gi)\n      rgbA = rgbA.map((item) => parseInt(item, 16))\n      rgbB = rgbB.map((item) => parseInt(item, 16))\n      rgbB = rgbC.map((item) => parseInt(item, 16))\n      let rgb = [\n        fix(rgbA[0], rgbB[0], rgbC[0]),\n        fix(rgbA[1], rgbB[1], rgbC[1]),\n        fix(rgbA[2], rgbB[2], rgbC[2]),\n      ]\n      // console.log(rgb)\n      let result = \"#\" + rgb.reduce((sum, pre) => sum + (\"0\" + pre.toString(16)).slice(-2), \"\")\n      // console.log(result)\n      return result\n    },\n\n    /** @description 获取段落文本颜色 */\n    getParaTextColor(index) {\n      //用isSpeaking不用speechSynthesis.speaking是因为Vue在某些情况下\n      //不能及时监测到speechSynthesis.speaking值的变化，导致段落文字亮显状态未更新\n      if (\n        this.isSpeaking &&\n        this.readingPara == this.getParaIndexCh(index) &&\n        this.readingChapter == this.currentChapter\n      ) {\n        return this.getFocusColor(\n          this.colorSettings.textColor,\n          this.colorSettings.bgColor,\n          \"#DD66CC\"\n        )\n      }\n    },\n\n    /** @description 获取文字阴影 */\n    getTextShadow(index) {\n      if (\n        this.isSpeaking &&\n        this.readingPara == this.getParaIndexCh(index) &&\n        this.readingChapter == this.currentChapter\n      ) {\n        return \"1px 1px 1px #999999\"\n      } else {\n        return \"0 0 0\"\n      }\n    },\n\n    /** @description 获取段落背景颜色 */\n    getParaBgColor(index) {\n      if (\n        this.isSpeaking &&\n        this.readingPara == this.getParaIndexCh(index) &&\n        this.readingChapter == this.currentChapter\n      ) {\n        return this.getClosedColor(this.colorSettings.bgColor, -20)\n      }\n    },\n\n    /** @description 定时朗读 */\n    timedSpeech() {\n      if (this.timedSpeechOpen) {\n        this.timedSpeechInterval = setInterval(() => {\n          this.speechTimeLeft--\n          if (this.speechTimeLeft <= 0) {\n            this.speechStop()\n            clearInterval(this.timedSpeechInterval)\n            this.timedSpeechOpen = false\n            this.speechTimeLeft == 60\n          }\n        }, 60000)\n      } else {\n        clearInterval(this.timedSpeechInterval)\n      }\n    },\n\n    /** @description 自动语音朗读定时任务\n     * @params defalutDelay 默认延时时间，与性能直接相关\n     */\n    autoSpeechTask(\n      paraIndex = this.readingPara,\n      chapterIndex = this.readingChapter,\n      endFlag = false,\n      defalutDelay = 500\n    ) {\n      let readingTime = 50\n      const readingText = this.chapterList[this.readingChapter].content[this.readingPara]\n      // console.log(\"utterance.text\", this.utterance.text)\n      // console.log(\"readingText\", readingText)\n      //匹配出汉字、数字及部分符号的数量并计算出预计时间（标准速度下）\n      let tempArr = readingText.match(/[$0-9\\u4e00-\\u9fa5\\uf900-\\ufa2d]/g)\n      if (tempArr && tempArr.length) readingTime += tempArr.length * 320\n      //匹配出英文字母数量并计算出预计时间（标准速度下）\n      tempArr = readingText.match(/[a-zA-Z]/g)\n      if (tempArr && tempArr.length) readingTime += tempArr.length * 160\n      //除以朗读速率得出预计总朗读时间\n      readingTime = Math.floor(readingTime / this.utterance.rate)\n      //如果不用正则匹配，可用下面的方法简单估算总朗读时间\n      // let readingTime = Math.floor((readingText.length / this.utterance.rate) * 150)\n      // console.log(\"readingTime\", readingTime)\n\n      //设置定时器延时(延时如果超出段落朗读时间会出问题！所以乘以0.6安全系数)\n      const delay = Math.min(readingTime * 0.6, defalutDelay)\n\n      //读新段落卡住时(可能是网络的原因)自动重新读取\n      if (\n        this.readingStatus.paraIndex == this.readingPara &&\n        this.readingStatus.chapterIndex == this.readingChapter\n      ) {\n        this.readingStatus.time += this.isPaused ? 0 : delay\n        const maxTime = readingTime * 1.2 + 3000\n        // console.log(\"time\", this.readingStatus.time, maxTime)\n        if (this.readingStatus.time > maxTime) {\n          this.readingStatus = { paraIndex: -1, chapterIndex: -1, time: 0 } //重置状态\n          this.speechFromPara(this.getParaIndex(this.readingPara))\n          return\n        }\n      } else {\n        this.readingStatus = {\n          paraIndex: this.readingPara,\n          chapterIndex: this.readingChapter,\n          time: 0,\n        }\n      }\n\n      //清除语音朗读定时器\n      clearTimeout(this.autoSpeechTimer)\n      //开启下一次朗读检查的定时任务\n      this.autoSpeechTimer = setTimeout(() => {\n        this.autoSpeech(paraIndex, chapterIndex, endFlag)\n      }, delay)\n    },\n\n    /** @description 自动语音朗读 */\n    autoSpeech(paraIndex = this.readingPara, chapterIndex = this.readingChapter, endFlag = false) {\n      const debug = false\n      if (debug) console.log(\"autoSpeech readingPara\", this.readingPara)\n\n      //如果当前有播放任务，且后面仍有任务排队，则暂不添加下一段\n      if (speechSynthesis.pending) {\n        if (debug) console.log(\"当前有播放任务，且后面仍有任务排队\")\n        this.autoSpeechTask(paraIndex, chapterIndex)\n        //如果当前有播放任务，后面没有任务排队，则添加下一段\n      } else if (speechSynthesis.speaking) {\n        if (debug) console.log(\"当前有播放任务，后面没有任务排队\")\n        //后面没有任务排队了，说明正在读的index就是最后添加的index\n        this.readingPara = paraIndex\n        this.readingChapter = chapterIndex\n\n        //如果当前章节在朗读章节的前面，则自动转到在朗读章节\n        if (this.currentChapter < this.readingChapter) {\n          if (debug) console.log(\"当前章节在前面\")\n          this.currentChapter = this.readingChapter\n          //章节改变了，等下一次DOM更新数据后再执行\n          this.$nextTick(() => {\n            this.readingPage = this.getPageIndex(this.readingPara)\n            this.currentPage = this.getPageIndex(this.readingPara)\n          }) //自动翻页\n        }\n        //否则如果当前就是朗读章节\n        else if (this.currentChapter == this.readingChapter) {\n          if (debug) console.log(\"当前就是朗读章节\")\n          this.readingPage = this.getPageIndex(this.readingPara)\n          //如果当前页在朗读页前面\n          if (this.currentPage < this.readingPage) {\n            this.currentPage = this.readingPage //自动翻页\n            if (debug) console.log(\"当前页在朗读页的前面 this.currentPage\", this.currentPage)\n          }\n        }\n\n        let chapter = this.chapterList[this.readingChapter].content\n        //如果本章还有下一段\n        if (this.readingPara + 1 < chapter.length) {\n          this.speak(chapter[this.readingPara + 1])\n          this.autoSpeechTask(this.readingPara + 1, chapterIndex)\n        }\n        //否则，如果还有下一章\n        else if (this.readingChapter + 1 < this.chapterList.length) {\n          this.speak(this.chapterList[this.readingChapter + 1].content[0])\n          this.autoSpeechTask(0, this.readingChapter + 1, false, 50)\n        }\n        //否则，后面没有内容了，不继续添加播放队列\n        else {\n          this.autoSpeechTask(paraIndex, chapterIndex, true)\n        }\n      }\n      //如果当前没有播放任务，则开始读取本页readingPage内容\n      else {\n        if (endFlag) {\n          //endFlag参数就为了这里\n          this.isSpeaking = false\n          this.isPaused = false\n          return\n        }\n        if (debug) console.log(\"当前没有播放任务，开始初始内容\")\n        this.speak(this.chapterList[chapterIndex].content[paraIndex])\n        this.autoSpeechTask(paraIndex, chapterIndex)\n      }\n    },\n\n    // 朗读指定文本。根据初步测试，支持文本最大长度为20000左右。\n    speak(text) {\n      //让符号读出来（注意定时任务中的时长计算要相应修改）\n      // text = text\n      //   .replaceAll(\"（\", \"。括号。\")\n      //   .replaceAll(\"）\", \"。\")\n      //   .replaceAll(\"(\", \"。括号。\")\n      //   .replaceAll(\")\", \"。\")\n      //   .replaceAll(\"——\", \"。破折号。\")\n      //   .replaceAll(\"--\", \"。破折号。\")\n      //如果有可发声的字符，则正常朗读\n      if (/[$0-9a-zA-Z\\u4e00-\\u9fa5\\uf900-\\ufa2d]/.test(text)) {\n        this.utterance.text = text\n        speechSynthesis.speak(this.utterance) //下一段加入播放队列\n      }\n      //否则静默朗读一个可发声的字符以跳过本轮朗读任务\n      else {\n        const tempUtterance = new SpeechSynthesisUtterance()\n        tempUtterance.text = \"a\" //朗读内容设置为一个可发声的字符\n        tempUtterance.volume = 0 //音量设为0\n        speechSynthesis.speak(tempUtterance)\n      }\n    },\n\n    /** @description 从指定的段落处开始朗读 */\n    speechFromPara(index) {\n      if (!this.utterance) return\n      if (speechSynthesis.speaking) {\n        this.speechStop() //停止语音朗读\n        this.readingPara = this.getParaIndexCh(index)\n        this.readingPage = this.currentPage\n        this.readingChapter = this.currentChapter\n        this.isSpeaking = true\n        this.isPaused = false\n        this.autoSpeech()\n      }\n    },\n\n    /** @description 开始语音朗读 */\n    speechStart(paraIndex = 0) {\n      if (!this.utterance) {\n        this.showMessage({ message: \"浏览器不支持\", type: \"error\", duration: 1000 })\n        return\n      }\n      this.speechStop() //停止语音朗读\n      this.utterance.text = this.pageList[this.currentPage]\n      this.utterance.lang = \"zh-CN\" //语言(zh-CN、en-US 等)\n      this.utterance.rate = this.speechOptions.rate\n      this.utterance.volume = this.speechOptions.volume\n      this.utterance.pitch = this.speechOptions.pitch\n      this.utterance.voice = this.voiceList[this.voiceIndex]\n      //初始化阅读位置参数\n      this.readingPara = this.getParaIndexCh(paraIndex)\n      this.readingPage = this.currentPage\n      this.readingChapter = this.currentChapter\n      this.isSpeaking = true\n      this.isPaused = false\n      this.autoSpeech()\n    },\n\n    /** @description 获取声音列表并过滤 */\n    getVoiceList() {\n      if (!this.utterance) return\n      //先预执行一次getVoices，延时过后再次调用，否则无法生效(对getVoices的第一个调用将阻塞主线程)\n      speechSynthesis.getVoices()\n      setTimeout(() => {\n        this.voiceList = speechSynthesis\n          .getVoices()\n          .filter((voice) => voice.lang.indexOf(\"zh\") > -1)\n      }, 100)\n    },\n\n    /** @description 改变语音设置 */\n    changeVoice() {\n      this.utterance.lang = \"zh-CN\" //语言(zh-CN、en-US 等)\n      this.utterance.rate = this.speechOptions.rate\n      this.utterance.volume = this.speechOptions.volume\n      this.utterance.pitch = this.speechOptions.pitch\n      this.utterance.voice = this.voiceList[this.voiceIndex]\n      this.speechOptions.voiceIndex = this.voiceIndex\n      //如果语音正在播放或暂停\n      if (speechSynthesis.speaking) {\n        this.speechStop() //停止语音朗读\n        this.isSpeaking = true\n        this.isPaused = false\n        this.autoSpeech()\n      }\n    },\n\n    /** @description 从暂停中恢复朗读 */\n    speechResume() {\n      if (!this.utterance) return\n      speechSynthesis.resume()\n      this.isPaused = false\n    },\n\n    /** @description 暂停语音朗读 */\n    speechPause() {\n      if (!this.utterance) return\n      speechSynthesis.pause()\n      this.isPaused = true\n    },\n\n    /** @description 停止语音朗读 */\n    speechStop() {\n      if (!this.utterance) return\n      this.isSpeaking = false\n      this.isPaused = false\n      clearTimeout(this.autoSpeechTimer) // 先清除语音朗读定时器\n      speechSynthesis.cancel() //删除队列中所有的语音。如果正在播放，则直接停止\n    },\n\n    /** @description 发音名称过滤 */\n    voiceNameFormat(item) {\n      return item.name\n        .replace(\"Microsoft\", \"微软\")\n        .replace(\"Online\", \"在线\")\n        .replace(\" (Natural)\", \"\")\n        .replace(\"Chinese\", \"中文\")\n        .replace(\"Mainland\", \"大陆\")\n        .replace(\"Northeastern Mandarin\", \"东北话\")\n        .replace(\"Zhongyuan Mandarin Shaanxi\", \"陕西话\")\n        .replace(\"Hong Kong\", \"香港\")\n        .replace(\"Cantonese Traditional\", \"广东话\")\n        .replace(\"Taiwanese Mandarin\", \"台湾普通话\")\n        .replace(\"Taiwan\", \"台湾\")\n    },\n\n    //#endregion\n  },\n  watch: {},\n}\n","import { render } from \"./YunReader.vue?vue&type=template&id=429ddbab\"\nimport script from \"./YunReader.vue?vue&type=script&lang=js\"\nexport * from \"./YunReader.vue?vue&type=script&lang=js\"\n\nimport \"./YunReader.vue?vue&type=style&index=0&id=429ddbab&lang=scss\"\n\nimport exportComponent from \"D:\\\\WorkSpace\\\\Dev\\\\Projects\\\\YunAdmin\\\\YunAdmin.Web\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","class","hidden","$props","_createVNode","_component_el_pagination","background","$options","$event","layout","total","_ctx","onSizeChange","onCurrentChange","Math","easeInOutQuad","t","b","c","d","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","move","amount","document","documentElement","scrollTop","body","parentNode","position","scrollTo","to","duration","start","change","increment","currentTime","animateScroll","val","name","props","required","type","Number","page","default","limit","pageSizes","Array","String","Boolean","autoScroll","computed","currentPage","get","this","set","$emit","pageSize","methods","handleSizeChange","handleCurrentChange","__exports__","render","style","_createElementVNode","_hoisted_44","_hoisted_45","_hoisted_46","$data","borderColor","textColor","bgColor","onMousewheel","_toDisplayString","_Transition","_component_el_icon","size","onClick","_component_Back","_component_el_tabs","stretch","_component_el_tab_pane","label","_component_calendar","_hoisted_5","ref","height","_Fragment","_renderList","item","index","key","id","title","_hoisted_6","_component_CollectionTag","_hoisted_8","length","chapter","_component_Remove","time","_component_Edit","_hoisted_15","remark","color","_component_List","_component_CaretLeft","_component_CaretRight","onDblclick","_component_ArrowLeftBold","_component_ArrowRightBold","_component_el_popover","visible","placement","width","reference","_component_VideoPlay","_hoisted_22","_component_el_select","placeholder","onChange","_createBlock","_component_el_option","value","_hoisted_25","_component_el_slider","rate","min","max","step","_hoisted_26","volume","_hoisted_27","pitch","_component_el_divider","_hoisted_28","_component_el_switch","disabled","_component_el_button","plain","round","_component_Tools","_hoisted_34","fontSize","_hoisted_35","lineHeight","_hoisted_36","paraSpace","_hoisted_37","titleScale","_hoisted_38","paddingTop","_hoisted_39","paddingBottom","_hoisted_40","paddingLR","_hoisted_41","widthPercent","_hoisted_42","fontFamily","_hoisted_43","_hoisted_49","i","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","require","_hoisted_56","_hoisted_58","_component_el_color_picker","predefine","slice","_hoisted_61","_hoisted_64","_hoisted_67","_component_el_radio_group","_component_el_radio_button","_hoisted_68","offset","onHide","_component_Search","icon","_component_el_input","clearable","onKeyup","_component_Odometer","_component_CirclePlus","left","top","_component_CloseBold","resize","autosize","minRows","maxRows","maxlength","floor","onMousedown","onMouseup","_hoisted_88","beforeMount","pageTurningModes","fonts","textColors","bgColors","predefineColors","markedColors","canvasContext","createElement","getContext","repage","paraList","repaging","pageList","noIndent","debug","console","log","paras","previosHeight","currentHeight","paraLines","paraIndex","paraText","indent","lineWidth","textareaWidth","maxHeight","textareaHeight","sizeSettings","getFontSize","getLineHeight","getParaLines","undefined","push","spareLines","sliceIndex","getSliceIndex","text","indentWidth","limitLines","calcParaLayout","nonFrontChars","nonBackChars","nonBreakChars","textLength","lines","preIndex","currentWidth","preload","measureText","temp","indexOf","font","getFocusColor","colorA","colorB","colorC","delta","adjust","base","variation","mix","fix","a","abs","rgbA","replace","match","rgbB","rgbC","map","parseInt","rgb","result","reduce","sum","pre","toString","getParaTextColor","isSpeaking","readingPara","getParaIndexCh","readingChapter","currentChapter","colorSettings","getTextShadow","getParaBgColor","getClosedColor","timedSpeech","timedSpeechOpen","timedSpeechInterval","setInterval","speechTimeLeft","speechStop","clearInterval","autoSpeechTask","chapterIndex","endFlag","defalutDelay","readingTime","readingText","chapterList","content","tempArr","utterance","delay","readingStatus","isPaused","maxTime","speechFromPara","getParaIndex","clearTimeout","autoSpeechTimer","autoSpeech","speechSynthesis","pending","speaking","$nextTick","readingPage","getPageIndex","speak","test","tempUtterance","SpeechSynthesisUtterance","speechStart","lang","speechOptions","voice","voiceList","voiceIndex","showMessage","message","getVoiceList","getVoices","filter","changeVoice","speechResume","resume","speechPause","pause","cancel","voiceNameFormat","watch","mixins","ConstantsMixin","RepageMixin","SpeechMixin","data","store","useStore","screenWidth","clientWidth","screenHeight","clientHeight","pageWidth","pageHeight","popoverWidth","pageTurning","currentPara","bookmarks","lastPosition","para","notes","noteRemark","noteColor","progress","keywords","tempParaIndex","tempStartIndex","catalogRenderMax","catalogScrollPercent","catalogBeforeHeight","catalogAfterHeight","timer","messageTimer","wheelTimer","sizeSettingsTimer","speechOptionTimer","screenSizeTimer","device","menuVisible","menuOffsetX","menuOffsetY","menuPlacement","settingsVisible","catalogVisible","voiceVisible","searchVisible","progressVisible","isWheelLocked","turnLocked","created","mounted","localStorage","getItem","JSON","parse","state","app","pageInit","bookId","stringify","onresize","onkeydown","event","keyCode","handleDebounce","prevPage","prevChapter","nextPage","nextChapter","$refs","readerBody","oncontextmenu","setRenderArea","handleThrottle","catalogPane","onscroll","percent","innerHeight","screen","h","len","chapterListRendered","before","after","fn","wait","lock","combineFn","fns","args","forEach","obj","$message","fullscreen","className","fullarea","getElementsByClassName","fullscreenElement","exitFullscreen","requestFullscreen","resetStyle","clearSelection","firstPage","lastPage","pageTotal","jumpTo","wheelHandle","e","debounce","deltaY","animatePage","reverse","parent","querySelector","oldPage","cloneNode","timeout","keyframes","boxShadow","appendChild","deltaX","transform","newPage","animate","iterations","fill","easing","removeChild","transformOrigin","closePopover","closeCatalog","handleGoBack","changeMode","openCatalog","scrollMax","selectChapter","openSettings","openVoice","voiceInit","openSearch","openProgress","handleSearch","list","lastIndexOf","paraIndexOfPage","startOffset","endOffset","paraLength","selector","getSelection","$el","scrollIntoView","behavior","block","handleMouseup","button","openPopupMenu","layerX","layerY","menuW","menuH","search","searchMarkedPara","closePopupMenu","noIndentPara","addNote","update","note","updateNote","deleteNote","Date","toLocaleDateString","replaceAll","setItem","setTextStyle","splice","removeItem","handleDeleteNote","jumpToNote","getNotePreview","addBookmark","hasNoIndentPara","bookmark","deleteBookmark","jumpToBookmark","getBookmarkPreview","pTags","from","getElementsByTagName","p","innerHTML","clearStyle","insertStyle","reg1","reg2","removeAllRanges","elm","range","createRange","startNode","firstChild","setStart","setEnd","selection","addRange","detach","getTitle","articleData","getParaFontSize","getCatalogWidth","getPageWordNum","lenArray","currentArray","getTotalWordNum","isNoIndent","pageIndex","tempIndex","reverseColor","colorValue","str","substring","reverseAvgColor","valueA","valueB","toFixed","getRestText","limitText","getCurrentParaText","indentParas","newArr","shift","newList","inReader","handler","immediate","deep","newValue","oldValue","parseFloat","includes"],"sourceRoot":""}